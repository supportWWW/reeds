

Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 01:12:29) [GET]
  Session ID: BAh7CjoLdmlzaXRzIgYxOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoMdXNlcl9pZGkGIgpmbGFzaElDOidBY3Rpb25Db250
cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewY6CmRlYnVnIjJVc2VyIGNsaWNr
ZWQgbW9yZSB0aGFuIG9uY2Ugb24gdGhlIHNhbWUgbGluayAGOgpAdXNlZHsG
OwlGOg5yZXR1cm5fdG8w--08164014e848a5439f350d4630d847e5d10a2f9f
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;36;1mSQL (0.000250)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000072)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.001096)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000094)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000678)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mReferral Load (0.000053)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;36;1mMenuItem Load (0.000079)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000512)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000050)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000046)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000035)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00079)
  [4;35;1mPage Columns (0.000434)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000045)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000037)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01175)
Rendered menu_items/_menu (0.01939)
Completed in 0.05054 (19 reqs/sec) | Rendering: 0.02532 (50%) | DB: 0.00348 (6%) | 200 OK [http://localhost/referrals/1]
  [4;36;1mSQL (0.000104)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000043)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.000219)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000101)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000046)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000050)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000042)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000049)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000041)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000049)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000041)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000049)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000041)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20080604024949)
  [4;35;1mSQL (0.000067)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateAdminGuy (20080604040527)
  [4;36;1mSQL (0.000046)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateNewsArticles (20080604130146)
  [4;35;1mSQL (0.000036)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateCategories (20080604170419)
  [4;36;1mSQL (0.000036)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePages (20080604195242)
  [4;35;1mSQL (0.000036)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateMenuItems (20080605020537)
  [4;36;1mSQL (0.000036)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AddPositionToMenuItems (20080605205428)
  [4;35;1mSQL (0.000036)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to UpdatePositionOnMenuItems (20080605205832)
  [4;36;1mSQL (0.000036)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateReferrals (20080606021003)
  [4;35;1mSQL (0.000036)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateVisits (20080606024632)
  [4;36;1mSQL (0.000035)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AddHostToVisit (20080606124326)
  [4;35;1mSQL (0.000036)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.029846)[0m   [0;1mALTER TABLE `visits` ADD `referer_host` varchar(255)[0m
  [4;35;1mSQL (0.000298)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20080606124326')[0m
  [4;36;1mSQL (0.000308)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000149)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000335)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mSQL (0.000270)[0m   [0mdescribe `categories`[0m
  [4;36;1mSQL (0.000131)[0m   [0;1mSHOW KEYS FROM `categories`[0m
  [4;35;1mSQL (0.000389)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mSQL (0.000376)[0m   [0;1mdescribe `menu_items`[0m
  [4;35;1mSQL (0.000126)[0m   [0mSHOW KEYS FROM `menu_items`[0m
  [4;36;1mSQL (0.000433)[0m   [0;1mSHOW FIELDS FROM `news_articles`[0m
  [4;35;1mSQL (0.000425)[0m   [0mdescribe `news_articles`[0m
  [4;36;1mSQL (0.000139)[0m   [0;1mSHOW KEYS FROM `news_articles`[0m
  [4;35;1mSQL (0.000335)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mSQL (0.000329)[0m   [0;1mdescribe `pages`[0m
  [4;35;1mSQL (0.000114)[0m   [0mSHOW KEYS FROM `pages`[0m
  [4;36;1mSQL (0.000359)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mSQL (0.000474)[0m   [0mdescribe `referrals`[0m
  [4;36;1mSQL (0.000123)[0m   [0;1mSHOW KEYS FROM `referrals`[0m
  [4;35;1mSQL (0.000434)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000422)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.000158)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.036841)[0m   [0;1mSHOW FIELDS FROM `visits`[0m
  [4;35;1mSQL (0.005639)[0m   [0mdescribe `visits`[0m
  [4;36;1mSQL (0.000241)[0m   [0;1mSHOW KEYS FROM `visits`[0m


Processing MainController#index (for 127.0.0.1 at 2008-06-06 11:04:04) [GET]
  Session ID: BAh7CjoLdmlzaXRzIgYxOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoMdXNlcl9pZGkGIgpmbGFzaElDOidBY3Rpb25Db250
cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewY6CmRlYnVnIjJVc2VyIGNsaWNr
ZWQgbW9yZSB0aGFuIG9uY2Ugb24gdGhlIHNhbWUgbGluayAGOgpAdXNlZHsG
OwlUOg5yZXR1cm5fdG8w--3c4e42add36db7a6ea6ebda7e5a164d6fe48a748
  Parameters: {"action"=>"index", "controller"=>"main"}
  [4;36;1mSQL (0.000081)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000047)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mNewsArticle Load (0.000262)[0m   [0;1mSELECT * FROM `news_articles` WHERE (publish_at < '2008-06-06 11:04:04') ORDER BY publish_at desc LIMIT 0, 10[0m
Rendering template within layouts/application
Rendering main/index
  [4;35;1mNewsArticle Columns (0.000585)[0m   [0mSHOW FIELDS FROM `news_articles`[0m
  [4;36;1mMenuItem Load (0.000069)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000595)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000061)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000037)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000031)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00073)
  [4;35;1mPage Columns (0.000494)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000044)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000045)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01301)
Rendered menu_items/_menu (0.02526)
Completed in 0.04516 (22 reqs/sec) | Rendering: 0.02869 (63%) | DB: 0.00235 (5%) | 200 OK [http://localhost/]


Processing ReferralsController#index (for 127.0.0.1 at 2008-06-06 11:04:07) [GET]
  Session ID: BAh7CjoOcmV0dXJuX3RvMDoMY3NyZl9pZCIlZjI5MjE2YzRmNDAzMDk0MTVj
ZjA0ZDdiOTliNmQwMjA6C3Zpc2l0cyIGMSIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7ADoMdXNlcl9p
ZGkG--61fa845abfe48d0b69d2b18e2c281ca3831418d7
  Parameters: {"action"=>"index", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000696)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000043)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Load (0.000207)[0m   [0;1mSELECT * FROM `referrals` ORDER BY created_at desc LIMIT 0, 10[0m
Rendering template within layouts/application
Rendering referrals/index
  [4;35;1mReferral Columns (0.000604)[0m   [0mSHOW FIELDS FROM `referrals`[0m
  [4;36;1mMenuItem Load (0.000084)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000530)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000046)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000035)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000031)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00071)
  [4;35;1mPage Columns (0.000474)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000039)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000134)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01167)
Rendered menu_items/_menu (0.01860)
Completed in 0.05063 (19 reqs/sec) | Rendering: 0.02154 (42%) | DB: 0.00292 (5%) | 200 OK [http://localhost/referrals]


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 11:04:09) [GET]
  Session ID: BAh7CjoMY3NyZl9pZCIlZjI5MjE2YzRmNDAzMDk0MTVjZjA0ZDdiOTliNmQw
MjA6DnJldHVybl90bzA6C3Zpc2l0cyIGMToMdXNlcl9pZGkGIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewAGOgpAdXNl
ZHsA--d0f2de93cf8a06b7193492257a49fbc1916e7707
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000950)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000051)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000502)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mReferral Load (0.000045)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;36;1mSQL (0.000602)[0m   [0;1mSHOW TABLES[0m


ActionView::TemplateError (undefined method `select_rows' for #<Class:0xb66f8ef0>) on line #29 of referrals/show.html.erb:
26: 
27: <h3>Graph</h3>
28: 
29: <p> <%= referral_graph  %>  </p>
30: 
31: <br/>
32: 

    vendor/rails/activerecord/lib/active_record/base.rb:1667:in `method_missing_without_paginate'
    vendor/gems/will_paginate-2.2.2/lib/will_paginate/finder.rb:164:in `method_missing'
    app/models/referral.rb:10:in `select_visits'
    app/helpers/referrals_helper.rb:9:in `referral_graph'
    vendor/gems/gchartrb-0.8/lib/google_chart/pie_chart.rb:17:in `initialize'
    app/helpers/referrals_helper.rb:8:in `new'
    app/helpers/referrals_helper.rb:8:in `referral_graph'
    app/views/referrals/show.html.erb:29:in `_run_erb_47app47views47referrals47show46html46erb'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:35:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:245:in `render_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:1108:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:865:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/base.rb:880:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/layout.rb:251:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/referrals_controller.rb:22:in `show'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:580:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:130:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:389:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:149:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/railties/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /home/mauricio/NetBeansProjects/reeds/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 11:04:43) [GET]
  Session ID: BAh7CjoOcmV0dXJuX3RvMDoMY3NyZl9pZCIlZjI5MjE2YzRmNDAzMDk0MTVj
ZjA0ZDdiOTliNmQwMjA6C3Zpc2l0cyIGMSIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7ADoMdXNlcl9p
ZGkG--61fa845abfe48d0b69d2b18e2c281ca3831418d7
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;35;1mUser Columns (0.000868)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000051)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mReferral Columns (0.000499)[0m   [0mSHOW FIELDS FROM `referrals`[0m
  [4;36;1mReferral Load (0.000040)[0m   [0;1mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;35;1mSQL (0.000209)[0m   [0mSHOW TABLES[0m


ActionView::TemplateError (undefined method `select_rows' for #<Class:0xb669a828>) on line #29 of referrals/show.html.erb:
26: 
27: <h3>Graph</h3>
28: 
29: <p> <%= referral_graph  %>  </p>
30: 
31: <br/>
32: 

    vendor/rails/activerecord/lib/active_record/base.rb:1667:in `method_missing_without_paginate'
    vendor/gems/will_paginate-2.2.2/lib/will_paginate/finder.rb:164:in `method_missing'
    app/models/referral.rb:10:in `select_visits'
    app/helpers/referrals_helper.rb:9:in `referral_graph'
    vendor/gems/gchartrb-0.8/lib/google_chart/pie_chart.rb:17:in `initialize'
    app/helpers/referrals_helper.rb:8:in `new'
    app/helpers/referrals_helper.rb:8:in `referral_graph'
    app/views/referrals/show.html.erb:29:in `_run_erb_47app47views47referrals47show46html46erb'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:35:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:245:in `render_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:1108:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:865:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/base.rb:880:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/layout.rb:251:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/referrals_controller.rb:22:in `show'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:580:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:130:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:389:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:149:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/railties/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /home/mauricio/NetBeansProjects/reeds/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 11:05:58) [GET]
  Session ID: BAh7CjoMY3NyZl9pZCIlZjI5MjE2YzRmNDAzMDk0MTVjZjA0ZDdiOTliNmQw
MjA6DnJldHVybl90bzA6C3Zpc2l0cyIGMToMdXNlcl9pZGkGIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewAGOgpAdXNl
ZHsA--d0f2de93cf8a06b7193492257a49fbc1916e7707
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000994)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000055)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000609)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mReferral Load (0.000046)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show


ActionView::TemplateError (undefined method `select_rows' for #<Referral:0xb66a8ff4>) on line #29 of referrals/show.html.erb:
26: 
27: <h3>Graph</h3>
28: 
29: <p> <%= referral_graph  %>  </p>
30: 
31: <br/>
32: 

    vendor/rails/activerecord/lib/active_record/attribute_methods.rb:256:in `method_missing'
    app/models/referral.rb:10:in `select_visits'
    app/helpers/referrals_helper.rb:9:in `referral_graph'
    vendor/gems/gchartrb-0.8/lib/google_chart/pie_chart.rb:17:in `initialize'
    app/helpers/referrals_helper.rb:8:in `new'
    app/helpers/referrals_helper.rb:8:in `referral_graph'
    app/views/referrals/show.html.erb:29:in `_run_erb_47app47views47referrals47show46html46erb'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:35:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:245:in `render_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:1108:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:865:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/base.rb:880:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/layout.rb:251:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/referrals_controller.rb:22:in `show'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:580:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:130:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:389:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:149:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/railties/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /home/mauricio/NetBeansProjects/reeds/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 11:06:24) [GET]
  Session ID: BAh7CjoOcmV0dXJuX3RvMDoMY3NyZl9pZCIlZjI5MjE2YzRmNDAzMDk0MTVj
ZjA0ZDdiOTliNmQwMjA6C3Zpc2l0cyIGMSIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7ADoMdXNlcl9p
ZGkG--61fa845abfe48d0b69d2b18e2c281ca3831418d7
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000697)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000042)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000490)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mReferral Load (0.000044)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;36;1mSQL (0.000309)[0m   [0;1mselect count(*), v.referer_host from visits v where v.referral_id = 1 group by v.referer_host[0m


ActionView::TemplateError (undefined local variable or method `trie' for #<ActionView::Base:0xb6744800>) on line #29 of referrals/show.html.erb:
26: 
27: <h3>Graph</h3>
28: 
29: <p> <%= referral_graph  %>  </p>
30: 
31: <br/>
32: 

    app/helpers/referrals_helper.rb:12:in `referral_graph'
    vendor/gems/gchartrb-0.8/lib/google_chart/pie_chart.rb:17:in `initialize'
    app/helpers/referrals_helper.rb:8:in `new'
    app/helpers/referrals_helper.rb:8:in `referral_graph'
    app/views/referrals/show.html.erb:29:in `_run_erb_47app47views47referrals47show46html46erb'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:35:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:245:in `render_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:1108:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:865:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/base.rb:880:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/layout.rb:251:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/referrals_controller.rb:22:in `show'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:580:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:130:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:389:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:149:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/railties/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /home/mauricio/NetBeansProjects/reeds/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 11:06:47) [GET]
  Session ID: BAh7CjoMY3NyZl9pZCIlZjI5MjE2YzRmNDAzMDk0MTVjZjA0ZDdiOTliNmQw
MjA6DnJldHVybl90bzA6C3Zpc2l0cyIGMToMdXNlcl9pZGkGIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewAGOgpAdXNl
ZHsA--d0f2de93cf8a06b7193492257a49fbc1916e7707
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;35;1mUser Columns (0.000864)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000081)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mReferral Columns (0.000618)[0m   [0mSHOW FIELDS FROM `referrals`[0m
  [4;36;1mReferral Load (0.000049)[0m   [0;1mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;35;1mSQL (0.000047)[0m   [0mselect count(*), v.referer_host from visits v where v.referral_id = 1 group by v.referer_host[0m
  [4;36;1mMenuItem Load (0.000086)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000561)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000054)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000073)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000059)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00103)
  [4;35;1mPage Columns (0.000506)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000046)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000046)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01300)
Rendered menu_items/_menu (0.07767)
Completed in 0.10264 (9 reqs/sec) | Rendering: 0.07943 (77%) | DB: 0.00340 (3%) | 200 OK [http://localhost/referrals/1]


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 11:08:39) [GET]
  Session ID: BAh7CjoOcmV0dXJuX3RvMDoMY3NyZl9pZCIlZjI5MjE2YzRmNDAzMDk0MTVj
ZjA0ZDdiOTliNmQwMjA6C3Zpc2l0cyIGMSIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7ADoMdXNlcl9p
ZGkG--61fa845abfe48d0b69d2b18e2c281ca3831418d7
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000771)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000045)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000507)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mReferral Load (0.000046)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;36;1mSQL (0.000044)[0m   [0;1mselect count(*), v.referer_host from visits v where v.referral_id = 1 group by v.referer_host[0m
  [4;35;1mMenuItem Load (0.000091)[0m   [0mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;36;1mMenuItem Columns (0.000537)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000053)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;36;1mMenuItem Load (0.000038)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000035)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00074)
  [4;36;1mPage Columns (0.000527)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000046)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;36;1mMenuItem Load (0.000046)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01197)
Rendered menu_items/_menu (0.01992)
Completed in 0.04597 (21 reqs/sec) | Rendering: 0.02174 (47%) | DB: 0.00279 (6%) | 200 OK [http://localhost/referrals/1]


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 11:19:40) [GET]
  Session ID: BAh7CjoMY3NyZl9pZCIlZjI5MjE2YzRmNDAzMDk0MTVjZjA0ZDdiOTliNmQw
MjA6DnJldHVybl90bzA6C3Zpc2l0cyIGMToMdXNlcl9pZGkGIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewAGOgpAdXNl
ZHsA--d0f2de93cf8a06b7193492257a49fbc1916e7707
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;35;1mUser Columns (0.000654)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000042)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mReferral Columns (0.000497)[0m   [0mSHOW FIELDS FROM `referrals`[0m
  [4;36;1mReferral Load (0.000035)[0m   [0;1mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;35;1mSQL (0.000363)[0m   [0mselect count(*), v.referer_host from visits v where v.referral_id = 1 group by v.referer_host[0m
  [4;36;1mMenuItem Load (0.000063)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000512)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000060)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000044)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000047)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00080)
  [4;35;1mPage Columns (0.000486)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000036)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000031)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01207)
Rendered menu_items/_menu (0.01963)
Completed in 0.04207 (23 reqs/sec) | Rendering: 0.02153 (51%) | DB: 0.00287 (6%) | 200 OK [http://localhost/referrals/1]


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 11:21:24) [GET]
  Session ID: BAh7CjoOcmV0dXJuX3RvMDoMY3NyZl9pZCIlZjI5MjE2YzRmNDAzMDk0MTVj
ZjA0ZDdiOTliNmQwMjA6C3Zpc2l0cyIGMSIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7ADoMdXNlcl9p
ZGkG--61fa845abfe48d0b69d2b18e2c281ca3831418d7
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.001082)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000082)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000886)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mReferral Load (0.000055)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;36;1mSQL (0.000534)[0m   [0;1mselect count(*), v.referer_host from visits v where v.referral_id = 1 group by v.referer_host[0m
  [4;35;1mMenuItem Load (0.000074)[0m   [0mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;36;1mMenuItem Columns (0.000556)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000044)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;36;1mMenuItem Load (0.000041)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000031)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00078)
  [4;36;1mPage Columns (0.000602)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000045)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;36;1mMenuItem Load (0.000045)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01295)
Rendered menu_items/_menu (0.07752)
Completed in 0.11891 (8 reqs/sec) | Rendering: 0.08047 (67%) | DB: 0.00408 (3%) | 200 OK [http://localhost/referrals/1]


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 11:22:59) [GET]
  Session ID: BAh7CjoMY3NyZl9pZCIlZjI5MjE2YzRmNDAzMDk0MTVjZjA0ZDdiOTliNmQw
MjA6DnJldHVybl90bzA6C3Zpc2l0cyIGMToMdXNlcl9pZGkGIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewAGOgpAdXNl
ZHsA--d0f2de93cf8a06b7193492257a49fbc1916e7707
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;35;1mUser Columns (0.001011)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000069)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mReferral Columns (0.000565)[0m   [0mSHOW FIELDS FROM `referrals`[0m
  [4;36;1mReferral Load (0.000036)[0m   [0;1mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;35;1mSQL (0.000038)[0m   [0mselect count(*), v.referer_host from visits v where v.referral_id = 1 group by v.referer_host[0m
  [4;36;1mMenuItem Load (0.000061)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000502)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000044)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000034)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000030)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00070)
  [4;35;1mPage Columns (0.000464)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000035)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000032)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01145)
Rendered menu_items/_menu (0.01807)
Completed in 0.04310 (23 reqs/sec) | Rendering: 0.02005 (46%) | DB: 0.00292 (6%) | 200 OK [http://localhost/referrals/1]


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 11:24:07) [GET]
  Session ID: BAh7CjoOcmV0dXJuX3RvMDoMY3NyZl9pZCIlZjI5MjE2YzRmNDAzMDk0MTVj
ZjA0ZDdiOTliNmQwMjA6C3Zpc2l0cyIGMSIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7ADoMdXNlcl9p
ZGkG--61fa845abfe48d0b69d2b18e2c281ca3831418d7
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000639)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000041)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000491)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mReferral Load (0.000035)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;36;1mSQL (0.000036)[0m   [0;1mselect count(*), v.referer_host from visits v where v.referral_id = 1 group by v.referer_host[0m
  [4;35;1mMenuItem Load (0.000089)[0m   [0mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;36;1mMenuItem Columns (0.000533)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000043)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;36;1mMenuItem Load (0.000035)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000031)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00071)
  [4;36;1mPage Columns (0.000448)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000036)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;36;1mMenuItem Load (0.000032)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01159)
Rendered menu_items/_menu (0.01864)
Completed in 0.03997 (25 reqs/sec) | Rendering: 0.02063 (51%) | DB: 0.00249 (6%) | 200 OK [http://localhost/referrals/1]


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 11:24:41) [GET]
  Session ID: BAh7CjoMY3NyZl9pZCIlZjI5MjE2YzRmNDAzMDk0MTVjZjA0ZDdiOTliNmQw
MjA6DnJldHVybl90bzA6C3Zpc2l0cyIGMToMdXNlcl9pZGkGIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewAGOgpAdXNl
ZHsA--d0f2de93cf8a06b7193492257a49fbc1916e7707
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;35;1mUser Columns (0.000944)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000051)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mReferral Columns (0.000522)[0m   [0mSHOW FIELDS FROM `referrals`[0m
  [4;36;1mReferral Load (0.000036)[0m   [0;1mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;35;1mSQL (0.000039)[0m   [0mselect count(*), v.referer_host from visits v where v.referral_id = 1 group by v.referer_host[0m
  [4;36;1mMenuItem Load (0.000082)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000563)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000048)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000034)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000030)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00074)
  [4;35;1mPage Columns (0.000511)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000053)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000038)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01253)
Rendered menu_items/_menu (0.06924)
Completed in 0.09131 (10 reqs/sec) | Rendering: 0.07096 (77%) | DB: 0.00295 (3%) | 200 OK [http://localhost/referrals/1]


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 11:25:00) [GET]
  Session ID: BAh7CjoOcmV0dXJuX3RvMDoMY3NyZl9pZCIlZjI5MjE2YzRmNDAzMDk0MTVj
ZjA0ZDdiOTliNmQwMjA6C3Zpc2l0cyIGMSIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7ADoMdXNlcl9p
ZGkG--61fa845abfe48d0b69d2b18e2c281ca3831418d7
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000633)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000050)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000505)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mReferral Load (0.000036)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;36;1mSQL (0.000034)[0m   [0;1mselect count(*), v.referer_host from visits v where v.referral_id = 1 group by v.referer_host[0m
  [4;35;1mMenuItem Load (0.000051)[0m   [0mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;36;1mMenuItem Columns (0.000501)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000044)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;36;1mMenuItem Load (0.000034)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000053)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00076)
  [4;36;1mPage Columns (0.000472)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000034)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;36;1mMenuItem Load (0.000032)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01155)
Rendered menu_items/_menu (0.01823)
Completed in 0.04104 (24 reqs/sec) | Rendering: 0.02010 (48%) | DB: 0.00248 (6%) | 200 OK [http://localhost/referrals/1]
  [4;36;1mSQL (0.000088)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000042)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.012599)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000089)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000038)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000035)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000036)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000036)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000035)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000035)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000034)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000035)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000035)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000039)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20080604024949)
  [4;36;1mSQL (0.000036)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateAdminGuy (20080604040527)
  [4;35;1mSQL (0.000038)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateNewsArticles (20080604130146)
  [4;36;1mSQL (0.000035)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateCategories (20080604170419)
  [4;35;1mSQL (0.000035)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePages (20080604195242)
  [4;36;1mSQL (0.000035)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateMenuItems (20080605020537)
  [4;35;1mSQL (0.000035)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddPositionToMenuItems (20080605205428)
  [4;36;1mSQL (0.000036)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to UpdatePositionOnMenuItems (20080605205832)
  [4;35;1mSQL (0.001424)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateReferrals (20080606021003)
  [4;36;1mSQL (0.000041)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateVisits (20080606024632)
  [4;35;1mSQL (0.000037)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddHostToVisit (20080606124326)
  [4;36;1mSQL (0.000038)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateAttachments (20080606200946)
  [4;35;1mSQL (0.000039)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.033773)[0m   [0;1mCREATE TABLE `attachments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `size` int(11) DEFAULT NULL NULL, `filename` varchar(255) DEFAULT NULL NULL, `content_type` varchar(255) DEFAULT NULL NULL, `owner_id` int(11) DEFAULT NULL NULL, `owner_type` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000308)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20080606200946')[0m
Migrating to CreateImages (20080606201507)
  [4;36;1mSQL (0.000277)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.002912)[0m   [0mCREATE TABLE `images` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `filename` varchar(255) DEFAULT NULL NULL, `content_type` varchar(255) DEFAULT NULL NULL, `size` int(11) DEFAULT NULL NULL, `width` int(11) DEFAULT NULL NULL, `height` int(11) DEFAULT NULL NULL, `parent_id` int(11) DEFAULT NULL NULL, `owner_id` int(11) DEFAULT NULL NULL, `owner_type` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000443)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20080606201507')[0m
Migrating to CreateBranches (20080606224121)
  [4;35;1mSQL (0.000169)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.001889)[0m   [0;1mCREATE TABLE `branches` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000241)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20080606224121')[0m
Migrating to CreateSalespeople (20080607032939)
  [4;36;1mSQL (0.000252)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.001532)[0m   [0mCREATE TABLE `salespeople` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `phone` varchar(255) DEFAULT NULL NULL, `email` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000271)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20080607032939')[0m
Migrating to CreateAssignments (20080607034217)
  [4;35;1mSQL (0.000235)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.010534)[0m   [0;1mCREATE TABLE `assignments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `branch_id` int(11) DEFAULT NULL NULL, `salesperson_id` int(11) DEFAULT NULL NULL, `enabled` tinyint(1) DEFAULT 1 NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000244)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20080607034217')[0m
  [4;36;1mSQL (0.000133)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000158)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000434)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSQL (0.000321)[0m   [0mdescribe `assignments`[0m
  [4;36;1mSQL (0.000120)[0m   [0;1mSHOW KEYS FROM `assignments`[0m
  [4;35;1mSQL (0.000427)[0m   [0mSHOW FIELDS FROM `attachments`[0m
  [4;36;1mSQL (0.000361)[0m   [0;1mdescribe `attachments`[0m
  [4;35;1mSQL (0.000117)[0m   [0mSHOW KEYS FROM `attachments`[0m
  [4;36;1mSQL (0.000417)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mSQL (0.000387)[0m   [0mdescribe `branches`[0m
  [4;36;1mSQL (0.000174)[0m   [0;1mSHOW KEYS FROM `branches`[0m
  [4;35;1mSQL (0.000531)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mSQL (0.000465)[0m   [0;1mdescribe `categories`[0m
  [4;35;1mSQL (0.000167)[0m   [0mSHOW KEYS FROM `categories`[0m
  [4;36;1mSQL (0.000636)[0m   [0;1mSHOW FIELDS FROM `images`[0m
  [4;35;1mSQL (0.000810)[0m   [0mdescribe `images`[0m
  [4;36;1mSQL (0.000331)[0m   [0;1mSHOW KEYS FROM `images`[0m
  [4;35;1mSQL (0.000820)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mSQL (0.000642)[0m   [0;1mdescribe `menu_items`[0m
  [4;35;1mSQL (0.000196)[0m   [0mSHOW KEYS FROM `menu_items`[0m
  [4;36;1mSQL (0.041567)[0m   [0;1mSHOW FIELDS FROM `news_articles`[0m
  [4;35;1mSQL (0.001695)[0m   [0mdescribe `news_articles`[0m
  [4;36;1mSQL (0.000223)[0m   [0;1mSHOW KEYS FROM `news_articles`[0m
  [4;35;1mSQL (0.000413)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mSQL (0.000383)[0m   [0;1mdescribe `pages`[0m
  [4;35;1mSQL (0.000123)[0m   [0mSHOW KEYS FROM `pages`[0m
  [4;36;1mSQL (0.000401)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mSQL (0.001083)[0m   [0mdescribe `referrals`[0m
  [4;36;1mSQL (0.000129)[0m   [0;1mSHOW KEYS FROM `referrals`[0m
  [4;35;1mSQL (0.000418)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
  [4;36;1mSQL (0.000352)[0m   [0;1mdescribe `salespeople`[0m
  [4;35;1mSQL (0.000121)[0m   [0mSHOW KEYS FROM `salespeople`[0m
  [4;36;1mSQL (0.000473)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000471)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.000167)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (0.000399)[0m   [0mSHOW FIELDS FROM `visits`[0m
  [4;36;1mSQL (0.000394)[0m   [0;1mdescribe `visits`[0m
  [4;35;1mSQL (0.026670)[0m   [0mSHOW KEYS FROM `visits`[0m


Processing MainController#index (for 127.0.0.1 at 2008-06-07 09:47:09) [GET]
  Session ID: 2f7f972553164850e32f60af676e5291
  Parameters: {"action"=>"index", "controller"=>"main"}
  [4;36;1mSQL (0.000071)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000037)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.000233)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mNewsArticle Columns (0.000550)[0m   [0mSHOW FIELDS FROM `news_articles`[0m
  [4;36;1mSQL (0.000192)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mNewsArticle Columns (0.000510)[0m   [0mSHOW FIELDS FROM `news_articles`[0m


NoMethodError (private method `attr_accessor' called for #<Class:0xb6a25bb4>):
    /vendor/rails/activerecord/lib/active_record/base.rb:1667:in `method_missing_without_paginate'
    /vendor/gems/will_paginate-2.2.2/lib/will_paginate/finder.rb:164:in `method_missing'
    /app/models/image_helper.rb:35:in `included'
    /app/models/news_article.rb:3:in `include'
    /app/models/news_article.rb:3
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:215:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:215:in `load_file'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:214:in `load_file'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:95:in `require_or_load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:260:in `load_missing_constant'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:467:in `const_missing'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:479:in `const_missing'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:485:in `send'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:485:in `const_missing'
    /app/controllers/main_controller.rb:4:in `index'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:580:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:529:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:529:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:130:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:389:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:149:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    /vendor/rails/railties/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /home/mauricio/NetBeansProjects/reeds/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing MainController#index (for 127.0.0.1 at 2008-06-07 09:47:50) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNo
SGFzaHsABjoKQHVzZWR7AA==--f91e9d6b369072294e001af6121a48781558ce36
  Parameters: {"action"=>"index", "controller"=>"main"}
  [4;36;1mNewsArticle Load (0.000398)[0m   [0;1mSELECT * FROM `news_articles` WHERE (publish_at < '2008-06-07 09:47:50') ORDER BY publish_at desc LIMIT 0, 10[0m
Rendering template within layouts/application
Rendering main/index
  [4;35;1mNewsArticle Columns (0.000615)[0m   [0mSHOW FIELDS FROM `news_articles`[0m
  [4;36;1mMenuItem Load (0.000093)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000550)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000078)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000069)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000042)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00082)
  [4;35;1mPage Columns (0.000538)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000038)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000035)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.06707)
Rendered menu_items/_menu (0.08582)
Completed in 0.13284 (7 reqs/sec) | Rendering: 0.11590 (87%) | DB: 0.00405 (3%) | 200 OK [http://localhost/]


Processing BranchesController#index (for 127.0.0.1 at 2008-06-07 09:47:54) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNo
SGFzaHsABjoKQHVzZWR7AA==--f91e9d6b369072294e001af6121a48781558ce36
  Parameters: {"action"=>"index", "controller"=>"branches"}
Redirected to http://localhost:3000/session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0.00060 (1655 reqs/sec) | DB: 0.00000 (0%) | 302 Found [http://localhost/branches]


Processing SessionsController#new (for 127.0.0.1 at 2008-06-07 09:47:54) [GET]
  Session ID: BAh7BzoOcmV0dXJuX3RvIg4vYnJhbmNoZXMiCmZsYXNoSUM6J0FjdGlvbkNv
bnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IiMVlvdSBoYXZl
IHRvIGJlIGxvZ2dlZCBpbiB0byBhY2Nlc3MgdGhpcyBwYWdlBjoKQHVzZWR7
BjsHRg==--a14945aae560be7270732aa9a690dcbad2982473
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
  [4;36;1mMenuItem Load (0.000078)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000546)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000070)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000067)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000049)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00092)
  [4;35;1mPage Columns (0.000687)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000046)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000037)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01991)
Rendered menu_items/_menu (0.02807)
Completed in 0.04315 (23 reqs/sec) | Rendering: 0.03873 (89%) | DB: 0.00158 (3%) | 200 OK [http://localhost/session/new]


Processing SessionsController#create (for 127.0.0.1 at 2008-06-07 09:48:00) [POST]
  Session ID: BAh7CDoMY3NyZl9pZCIlMGJlZDdlMzRhZGM1MTAxZGRlOGU3ODQ2YmU5YzU4
MDg6DnJldHVybl90byIOL2JyYW5jaGVzIgpmbGFzaElDOidBY3Rpb25Db250
cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewY6CmVycm9yIjFZb3UgaGF2ZSB0
byBiZSBsb2dnZWQgaW4gdG8gYWNjZXNzIHRoaXMgcGFnZQY6CkB1c2VkewY7
CFQ=--9638ddd1dd22337b45e6f250f9de26ee10580247
  Parameters: {"commit"=>"Log in", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"create", "controller"=>"sessions", "password"=>"codevader-admin", "login"=>"codevader"}
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
  [4;36;1mUser Columns (0.001732)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000066)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'codevader') LIMIT 1[0m
  [4;36;1mSQL (0.000032)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000022)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/
Redirected to http://localhost:3000/branches
Completed in 0.03739 (26 reqs/sec) | DB: 0.00185 (4%) | 302 Found [http://localhost/session]


Processing BranchesController#index (for 127.0.0.1 at 2008-06-07 09:48:00) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsGOgtub3RpY2UiG0xvZ2dlZCBp
biBzdWNjZXNzZnVsbHkGOgpAdXNlZHsGOwlG--ae5b978f10dde1449e8c0063f10c19aa6a9a8628
  Parameters: {"action"=>"index", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000643)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000042)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mBranch Load (0.000196)[0m   [0;1mSELECT * FROM `branches` ORDER BY name asc[0m
Rendering template within layouts/application
Rendering branches/index
  [4;35;1mMenuItem Load (0.000069)[0m   [0mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;36;1mMenuItem Columns (0.000528)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000047)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;36;1mMenuItem Load (0.000038)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000031)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00074)
  [4;36;1mPage Columns (0.000584)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000041)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;36;1mMenuItem Load (0.000035)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01668)
Rendered menu_items/_menu (0.02411)
Completed in 0.05736 (17 reqs/sec) | Rendering: 0.03744 (65%) | DB: 0.00225 (3%) | 200 OK [http://localhost/branches]


Processing BranchesController#new (for 127.0.0.1 at 2008-06-07 09:48:05) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsGOgtub3RpY2UiG0xvZ2dlZCBp
biBzdWNjZXNzZnVsbHkGOgpAdXNlZHsGOwlU--2a7714462b5984c559cf18c93ba0b5bc871d2217
  Parameters: {"action"=>"new", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000642)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000043)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000435)[0m   [0mSHOW FIELDS FROM `branches`[0m
Rendering template within layouts/application
Rendering branches/new
Rendered branches/_form (0.00191)
  [4;36;1mMenuItem Load (0.000071)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000536)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000047)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000034)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000032)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00076)
  [4;35;1mPage Columns (0.000501)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000042)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000035)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01727)
Rendered menu_items/_menu (0.02619)
Completed in 0.06169 (16 reqs/sec) | Rendering: 0.04104 (66%) | DB: 0.00242 (3%) | 200 OK [http://localhost/branches/new]


Processing BranchesController#create (for 127.0.0.1 at 2008-06-07 09:48:10) [POST]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"commit"=>"Send", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"create", "branch"=>{"name"=>"First Branch"}, "controller"=>"branches"}
  [4;36;1mUser Columns (0.000869)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000073)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mBranch Columns (0.000647)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mSQL (0.000043)[0m   [0mBEGIN[0m
  [4;36;1mBranch Create (0.000172)[0m   [0;1mINSERT INTO `branches` (`name`, `updated_at`, `created_at`) VALUES('First Branch', '2008-06-07 09:48:11', '2008-06-07 09:48:11')[0m
  [4;35;1mSQL (0.017466)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/branches/1
Completed in 0.04607 (21 reqs/sec) | DB: 0.01927 (41%) | 302 Found [http://localhost/branches]


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 09:48:11) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsGOgtub3RpY2UiJUJyYW5jaCB3
YXMgc3VjY2Vzc2Z1bGx5IGNyZWF0ZWQuBjoKQHVzZWR7BjsJRg==--3c003c5a1c6d33925443f877d0e54ba635ba5537
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000640)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000041)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mBranch Columns (0.000417)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mBranch Load (0.000126)[0m   [0mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;36;1mAssignment Load (0.000139)[0m   [0;1mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;35;1mSalesperson Load (0.000195)[0m   [0mselect s.* from salespeople s, assignments a where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
Rendered branches/_salespeople_in_branch (0.00006)
Rendered branches/_salespeople_not_in_branch (0.00001)
  [4;36;1mMenuItem Load (0.000062)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000520)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000044)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000034)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000033)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00071)
  [4;35;1mPage Columns (0.000488)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000038)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000035)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01610)
Rendered menu_items/_menu (0.02325)
Completed in 0.05592 (17 reqs/sec) | Rendering: 0.02581 (46%) | DB: 0.00281 (5%) | 200 OK [http://localhost/branches/1]


Processing SalespeopleController#index (for 127.0.0.1 at 2008-06-07 09:58:31) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsGOgtub3RpY2UiJUJyYW5jaCB3
YXMgc3VjY2Vzc2Z1bGx5IGNyZWF0ZWQuBjoKQHVzZWR7BjsJVA==--9ee971f64b9eb1e0a0fe572515532409f07a46b8
  Parameters: {"action"=>"index", "controller"=>"salespeople"}
  [4;36;1mUser Columns (0.000853)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000057)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSalesperson Load (0.000227)[0m   [0;1mSELECT * FROM `salespeople` ORDER BY name asc[0m
Rendering template within layouts/application
Rendering salespeople/index
  [4;35;1mMenuItem Load (0.000127)[0m   [0mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;36;1mMenuItem Columns (0.000545)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000057)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;36;1mMenuItem Load (0.000037)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000032)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00081)
  [4;36;1mPage Columns (0.000523)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000037)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;36;1mMenuItem Load (0.000038)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01988)
Rendered menu_items/_menu (0.10091)
Completed in 0.13123 (7 reqs/sec) | Rendering: 0.10304 (78%) | DB: 0.00253 (1%) | 200 OK [http://localhost/salespeople]


Processing SalespeopleController#new (for 127.0.0.1 at 2008-06-07 09:58:33) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"action"=>"new", "controller"=>"salespeople"}
  [4;35;1mUser Columns (0.000629)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000041)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSalesperson Columns (0.000454)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
Rendering template within layouts/application
Rendering salespeople/new
Rendered salespeople/_form (0.00271)
  [4;36;1mMenuItem Load (0.000070)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000532)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000045)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000035)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000032)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00070)
  [4;35;1mPage Columns (0.000544)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000051)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000040)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01649)
Rendered menu_items/_menu (0.02365)
Completed in 0.05712 (17 reqs/sec) | Rendering: 0.03795 (66%) | DB: 0.00247 (4%) | 200 OK [http://localhost/salespeople/new]


Processing SalespeopleController#create (for 127.0.0.1 at 2008-06-07 09:58:49) [POST]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"commit"=>"Send", "salesperson"=>{"name"=>"Maurício", "phone"=>"88400806", "email"=>"mauricio@gmail.com"}, "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"create", "controller"=>"salespeople"}
  [4;36;1mUser Columns (0.000637)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000041)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSalesperson Columns (0.000429)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
  [4;35;1mSQL (0.000029)[0m   [0mBEGIN[0m
  [4;36;1mSalesperson Create (0.000133)[0m   [0;1mINSERT INTO `salespeople` (`name`, `updated_at`, `phone`, `email`, `created_at`) VALUES('Maurício', '2008-06-07 09:58:49', '88400806', 'mauricio@gmail.com', '2008-06-07 09:58:49')[0m
  [4;35;1mSQL (0.005872)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/salespeople/1
Completed in 0.02661 (37 reqs/sec) | DB: 0.00714 (26%) | 302 Found [http://localhost/salespeople]


Processing SalespeopleController#show (for 127.0.0.1 at 2008-06-07 09:58:49) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsGOgtub3RpY2UiKlNhbGVzcGVy
c29uIHdhcyBzdWNjZXNzZnVsbHkgY3JlYXRlZC4GOgpAdXNlZHsGOwlG--8e8a6c8d395c6e67cc4ea63b1559dcf323906c37
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"salespeople"}
  [4;36;1mUser Columns (0.000654)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000042)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSalesperson Columns (0.000462)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
  [4;35;1mSalesperson Load (0.000151)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
Rendering template within layouts/application
Rendering salespeople/show
  [4;36;1mMenuItem Load (0.000104)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000635)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000050)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000037)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000031)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00077)
  [4;35;1mPage Columns (0.000511)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000039)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000034)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01730)
Rendered menu_items/_menu (0.02539)
Completed in 0.06511 (15 reqs/sec) | Rendering: 0.04435 (68%) | DB: 0.00275 (4%) | 200 OK [http://localhost/salespeople/1]


Processing SalespeopleController#show (for 127.0.0.1 at 2008-06-07 10:01:56) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsGOgtub3RpY2UiKlNhbGVzcGVy
c29uIHdhcyBzdWNjZXNzZnVsbHkgY3JlYXRlZC4GOgpAdXNlZHsGOwlU--901d7a5b62a48b0f3cbf7d0a8a872fdaefc0a1c0
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"salespeople"}
  [4;36;1mUser Columns (0.000635)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000050)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSalesperson Columns (0.000469)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
  [4;35;1mSalesperson Load (0.000045)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
Rendering template within layouts/application
Rendering salespeople/show
  [4;36;1mMenuItem Load (0.000073)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000539)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000168)[0m   [0;1mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;35;1mMenuItem Load (0.000042)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000032)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00080)
  [4;35;1mPage Columns (0.000525)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000041)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01478)
Rendered menu_items/_menu (0.08124)
Completed in 0.10454 (9 reqs/sec) | Rendering: 0.08344 (79%) | DB: 0.00262 (2%) | 200 OK [http://localhost/salespeople/1]


Processing SalespeopleController#index (for 127.0.0.1 at 2008-06-07 10:03:25) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"action"=>"index", "controller"=>"salespeople"}
  [4;35;1mUser Columns (0.001111)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000098)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSalesperson Load (0.000503)[0m   [0mSELECT * FROM `salespeople` ORDER BY name asc[0m
Rendering template within layouts/application
Rendering salespeople/index
  [4;36;1mSalesperson Columns (0.000617)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
  [4;35;1mMenuItem Load (0.000097)[0m   [0mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;36;1mMenuItem Columns (0.000742)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000085)[0m   [0mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;36;1mMenuItem Load (0.000090)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000059)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00111)
  [4;36;1mPage Columns (0.000664)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000356)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01956)
Rendered menu_items/_menu (0.03439)
Completed in 0.06596 (15 reqs/sec) | Rendering: 0.03674 (55%) | DB: 0.00442 (6%) | 200 OK [http://localhost/salespeople]


Processing SalespeopleController#new (for 127.0.0.1 at 2008-06-07 10:03:27) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"action"=>"new", "controller"=>"salespeople"}
  [4;36;1mUser Columns (0.000632)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000049)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSalesperson Columns (0.000539)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
Rendering template within layouts/application
Rendering salespeople/new
Rendered salespeople/_form (0.00230)
  [4;35;1mMenuItem Load (0.000067)[0m   [0mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;36;1mMenuItem Columns (0.000514)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000045)[0m   [0mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;36;1mMenuItem Load (0.000037)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000031)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00074)
  [4;36;1mPage Columns (0.000500)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000036)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01328)
Rendered menu_items/_menu (0.02338)
Completed in 0.04541 (22 reqs/sec) | Rendering: 0.02593 (57%) | DB: 0.00245 (5%) | 200 OK [http://localhost/salespeople/new]


Processing SalespeopleController#create (for 127.0.0.1 at 2008-06-07 10:03:36) [POST]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"commit"=>"Send", "salesperson"=>{"name"=>"Nick", "phone"=>"789456", "email"=>"mauricio@gmail.com"}, "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"create", "controller"=>"salespeople"}
  [4;36;1mUser Columns (0.000655)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000047)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSalesperson Columns (0.000472)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
  [4;35;1mSQL (0.000030)[0m   [0mBEGIN[0m
  [4;36;1mSalesperson Create (0.000125)[0m   [0;1mINSERT INTO `salespeople` (`name`, `updated_at`, `phone`, `email`, `created_at`) VALUES('Nick', '2008-06-07 10:03:36', '789456', 'mauricio@gmail.com', '2008-06-07 10:03:36')[0m
  [4;35;1mSQL (0.002563)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/salespeople
Completed in 0.02389 (41 reqs/sec) | DB: 0.00389 (16%) | 302 Found [http://localhost/salespeople]


Processing SalespeopleController#index (for 127.0.0.1 at 2008-06-07 10:03:36) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsGOgtub3RpY2UiKlNhbGVzcGVy
c29uIHdhcyBzdWNjZXNzZnVsbHkgY3JlYXRlZC4GOgpAdXNlZHsGOwlG--8e8a6c8d395c6e67cc4ea63b1559dcf323906c37
  Parameters: {"action"=>"index", "controller"=>"salespeople"}
  [4;36;1mUser Columns (0.000629)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000041)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSalesperson Load (0.000204)[0m   [0;1mSELECT * FROM `salespeople` ORDER BY name asc[0m
Rendering template within layouts/application
Rendering salespeople/index
  [4;35;1mSalesperson Columns (0.000417)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
  [4;36;1mMenuItem Load (0.000077)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000542)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000045)[0m   [0;1mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;35;1mMenuItem Load (0.000040)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000033)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00079)
  [4;35;1mPage Columns (0.000514)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000037)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01476)
Rendered menu_items/_menu (0.07474)
Completed in 0.09562 (10 reqs/sec) | Rendering: 0.07656 (80%) | DB: 0.00258 (2%) | 200 OK [http://localhost/salespeople]


Processing BranchesController#index (for 127.0.0.1 at 2008-06-07 10:03:40) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsGOgtub3RpY2UiKlNhbGVzcGVy
c29uIHdhcyBzdWNjZXNzZnVsbHkgY3JlYXRlZC4GOgpAdXNlZHsGOwlU--901d7a5b62a48b0f3cbf7d0a8a872fdaefc0a1c0
  Parameters: {"action"=>"index", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000626)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000042)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Load (0.000174)[0m   [0mSELECT * FROM `branches` ORDER BY name asc[0m
Rendering template within layouts/application
Rendering branches/index
  [4;36;1mBranch Columns (0.000476)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mMenuItem Load (0.000060)[0m   [0mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;36;1mMenuItem Columns (0.000499)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000041)[0m   [0mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;36;1mMenuItem Load (0.000036)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000031)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00070)
  [4;36;1mPage Columns (0.009104)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000947)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.06580)
Rendered menu_items/_menu (0.07534)
Completed in 0.09556 (10 reqs/sec) | Rendering: 0.06724 (70%) | DB: 0.01204 (12%) | 200 OK [http://localhost/branches]


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 10:03:42) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000623)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000041)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mBranch Columns (0.000396)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mBranch Load (0.000033)[0m   [0mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;36;1mAssignment Load (0.000066)[0m   [0;1mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;35;1mSalesperson Load (0.000303)[0m   [0mselect s.* from salespeople s, assignments a where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
Rendered branches/_salespeople_in_branch (0.00005)
Rendered branches/_salespeople_not_in_branch (0.00001)
  [4;36;1mMenuItem Load (0.000067)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000521)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000042)[0m   [0;1mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;35;1mMenuItem Load (0.000036)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000031)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00072)
  [4;35;1mPage Columns (0.000481)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000036)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01297)
Rendered menu_items/_menu (0.02297)
Completed in 0.05631 (17 reqs/sec) | Rendering: 0.02438 (43%) | DB: 0.00268 (4%) | 200 OK [http://localhost/branches/1]


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 10:05:37) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000643)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000040)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000425)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000033)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mAssignment Load (0.000053)[0m   [0mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;36;1mSalesperson Load (0.000042)[0m   [0;1mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
Rendered branches/_salespeople_in_branch (0.00005)
  [4;35;1mSalesperson Columns (0.000430)[0m   [0mSHOW FIELDS FROM `salespeople`[0m


ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]) on line #12 of branches/_salespeople_not_in_branch.html.erb:
9:       <% for salesperson in @salespeople %>
10:         <tr>
11:           <td> <%= salesperson.name %>  </td>
12:           <td> <%= link_to_remote 'Assign to this branch', assign_to_branch_path( salesperson ) %> </td>
13:         </tr>
14:       <% end %>
15:     </tbody>

    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:102:in `rewrite_url'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:88:in `rewrite'
    vendor/rails/actionpack/lib/action_controller/base.rb:621:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:76:in `send'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:76:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:461:in `remote_function'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:255:in `link_to_remote'
    app/views/branches/_salespeople_not_in_branch.html.erb:12:in `_run_erb_47app47views47branches47_salespeople_not_in_branch46html46erb'
    app/views/branches/_salespeople_not_in_branch.html.erb:9:in `each'
    app/views/branches/_salespeople_not_in_branch.html.erb:9:in `_run_erb_47app47views47branches47_salespeople_not_in_branch46html46erb'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/partial_template.rb:20:in `render'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:26:in `benchmark'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:26:in `benchmark'
    vendor/rails/actionpack/lib/action_view/partial_template.rb:19:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/partials.rb:110:in `render_partial'
    vendor/rails/actionpack/lib/action_view/base.rb:273:in `render'
    app/helpers/application_helper.rb:5:in `partial'
    app/views/branches/show.html.erb:7:in `_run_erb_47app47views47branches47show46html46erb'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:35:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:245:in `render_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:1108:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:865:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/base.rb:880:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/layout.rb:251:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/branches_controller.rb:21:in `show'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:580:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:130:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:389:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:149:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/railties/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /home/mauricio/NetBeansProjects/reeds/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 10:07:12) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000639)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000047)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mBranch Columns (0.000419)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mBranch Load (0.000041)[0m   [0mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;36;1mAssignment Load (0.000061)[0m   [0;1mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;35;1mSalesperson Load (0.000052)[0m   [0mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
Rendered branches/_salespeople_in_branch (0.00005)
  [4;36;1mSalesperson Columns (0.000430)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
Rendered branches/_salespeople_not_in_branch (0.00256)
  [4;35;1mMenuItem Load (0.000081)[0m   [0mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;36;1mMenuItem Columns (0.000490)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000048)[0m   [0mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;36;1mMenuItem Load (0.000043)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000038)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00075)
  [4;36;1mPage Columns (0.000538)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000045)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.06640)
Rendered menu_items/_menu (0.07636)
Completed in 0.10999 (9 reqs/sec) | Rendering: 0.07979 (72%) | DB: 0.00340 (3%) | 200 OK [http://localhost/branches/1]


Processing ApplicationController#index (for 127.0.0.1 at 2008-06-07 10:23:15) [POST]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad"}


ActionController::MethodNotAllowed (Only get, head, post, put, and delete requests are allowed.):
    /vendor/rails/actionpack/lib/action_controller/routing/recognition_optimisation.rb:65:in `recognize_path'
    /vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:384:in `recognize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:148:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    /vendor/rails/railties/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /home/mauricio/NetBeansProjects/reeds/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (method_not_allowed)


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 10:25:17) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;36;1mSQL (0.000147)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000090)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.000662)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000062)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mBranch Columns (0.000419)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mBranch Load (0.000044)[0m   [0mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;36;1mAssignment Load (0.000058)[0m   [0;1mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;35;1mSalesperson Load (0.000048)[0m   [0mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
Rendered branches/_salespeople_in_branch (0.00006)
  [4;36;1mSalesperson Columns (0.000462)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
Rendered branches/_salespeople_not_in_branch (0.00317)
  [4;35;1mMenuItem Load (0.000079)[0m   [0mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;36;1mMenuItem Columns (0.000585)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000058)[0m   [0mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;36;1mMenuItem Load (0.000057)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000032)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00084)
  [4;36;1mPage Columns (0.000571)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000051)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01401)
Rendered menu_items/_menu (0.02577)
Completed in 0.12102 (8 reqs/sec) | Rendering: 0.03333 (27%) | DB: 0.00342 (2%) | 200 OK [http://localhost/branches/1]


Processing BranchesController#assign (for 127.0.0.1 at 2008-06-07 10:25:20) [POST]
  Session ID: BAh7CToMY3NyZl9pZCIlMGJlZDdlMzRhZGM1MTAxZGRlOGU3ODQ2YmU5YzU4
MDg6DHVzZXJfaWRpBjoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--a9443b2c8b626ced460ba9bf856472061ec24130
  Parameters: {"branch_id"=>"1", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"assign", "id"=>"2", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000863)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000072)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mBranch Columns (0.000486)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mBranch Load (0.000035)[0m   [0mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;36;1mSalesperson Columns (0.000449)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
  [4;35;1mSalesperson Load (0.000827)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 2) [0m


ActiveRecord::RecordNotFound (Couldn't find Assignment without an ID):
    /vendor/rails/activerecord/lib/active_record/base.rb:1360:in `find_from_ids'
    /vendor/rails/activerecord/lib/active_record/base.rb:537:in `find'
    /vendor/rails/activerecord/lib/active_record/associations/association_collection.rb:47:in `find'
    /app/controllers/branches_controller.rb:93:in `assign'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:580:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:529:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:529:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:130:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:389:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:149:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    /vendor/rails/railties/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /home/mauricio/NetBeansProjects/reeds/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (not_found)


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 10:26:49) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;36;1mSQL (0.000249)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000090)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.000662)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000052)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mBranch Columns (0.000505)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mBranch Load (0.000047)[0m   [0mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;36;1mAssignment Load (0.000060)[0m   [0;1mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;35;1mSalesperson Load (0.000069)[0m   [0mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
Rendered branches/_salespeople_in_branch (0.00006)
  [4;36;1mSalesperson Columns (0.000496)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
Rendered branches/_salespeople_not_in_branch (0.00316)
  [4;35;1mMenuItem Load (0.000047)[0m   [0mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;36;1mMenuItem Columns (0.000521)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000047)[0m   [0mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;36;1mMenuItem Load (0.000044)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000036)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00100)
  [4;36;1mPage Columns (0.000498)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000037)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01372)
Rendered menu_items/_menu (0.02514)
Completed in 0.12559 (7 reqs/sec) | Rendering: 0.03306 (26%) | DB: 0.00346 (2%) | 200 OK [http://localhost/branches/1]


Processing BranchesController#assign (for 127.0.0.1 at 2008-06-07 10:26:52) [POST]
  Session ID: BAh7CToMY3NyZl9pZCIlMGJlZDdlMzRhZGM1MTAxZGRlOGU3ODQ2YmU5YzU4
MDg6DHVzZXJfaWRpBjoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--a9443b2c8b626ced460ba9bf856472061ec24130
  Parameters: {"branch_id"=>"1", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"assign", "id"=>"1", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000667)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000049)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mBranch Columns (0.000483)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mBranch Load (0.000050)[0m   [0mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;36;1mSalesperson Columns (0.000541)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
  [4;35;1mSalesperson Load (0.000139)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
  [4;36;1mAssignment Load (0.000185)[0m   [0;1mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1 AND (`assignments`.`salesperson_id` = 1)) LIMIT 1[0m
  [4;35;1mAssignment Columns (0.000410)[0m   [0mSHOW FIELDS FROM `assignments`[0m
  [4;36;1mSQL (0.000030)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000110)[0m   [0mSELECT `salesperson_id` FROM `assignments` WHERE (`assignments`.salesperson_id = 1 AND `assignments`.branch_id = 1) [0m
  [4;36;1mAssignment Create (0.000145)[0m   [0;1mINSERT INTO `assignments` (`updated_at`, `branch_id`, `salesperson_id`, `enabled`, `created_at`) VALUES('2008-06-07 10:26:52', 1, 1, 1, '2008-06-07 10:26:52')[0m
  [4;35;1mSQL (0.006285)[0m   [0mCOMMIT[0m
Rendering branches/assign
Completed in 0.09556 (10 reqs/sec) | Rendering: 0.00428 (4%) | DB: 0.00909 (9%) | 200 OK [http://localhost/branches/1/assign/1]


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 10:28:16) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000658)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000043)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mBranch Columns (0.000399)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mBranch Load (0.000033)[0m   [0mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;36;1mAssignment Load (0.000203)[0m   [0;1mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;35;1mAssignment Columns (0.000491)[0m   [0mSHOW FIELDS FROM `assignments`[0m
  [4;36;1mSalesperson Load (0.000238)[0m   [0;1mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
  [4;35;1mSalesperson Columns (0.000424)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
  [4;36;1mSalesperson Load (0.000036)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m


ActionView::TemplateError (undefined method `enabled?' for #<Salesperson:0xb66b47f0>) on line #6 of branches/_assignment.html.erb:
3:     <%= assignment.salesperson.name %>
4:   </td>
5:   <td>
6:     <%= assignment.salesperson.enabled? ?  'Enabled' : 'Disabled' %>
7:   </td>
8: </tr>
    vendor/rails/activerecord/lib/active_record/attribute_methods.rb:251:in `method_missing'
    vendor/rails/activerecord/lib/active_record/associations/association_proxy.rb:177:in `send'
    vendor/rails/activerecord/lib/active_record/associations/association_proxy.rb:177:in `method_missing'
    app/views/branches/_assignment.html.erb:6:in `_run_erb_47app47views47branches47_assignment46html46erb'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/partial_template.rb:20:in `render'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:26:in `benchmark'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:26:in `benchmark'
    vendor/rails/actionpack/lib/action_view/partial_template.rb:19:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/partials.rb:110:in `render_partial'
    vendor/rails/actionpack/lib/action_view/base.rb:273:in `render'
    app/helpers/application_helper.rb:5:in `partial'
    app/views/branches/_salespeople_in_branch.html.erb:11:in `_run_erb_47app47views47branches47_salespeople_in_branch46html46erb'
    vendor/rails/activerecord/lib/active_record/associations/association_collection.rb:274:in `method_missing_without_paginate'
    vendor/rails/activerecord/lib/active_record/associations/association_proxy.rb:175:in `method_missing'
    vendor/rails/activerecord/lib/active_record/associations/association_proxy.rb:175:in `each'
    vendor/rails/activerecord/lib/active_record/associations/association_proxy.rb:175:in `send'
    vendor/rails/activerecord/lib/active_record/associations/association_proxy.rb:175:in `method_missing'
    vendor/rails/activerecord/lib/active_record/associations/association_collection.rb:274:in `method_missing_without_paginate'
    vendor/gems/will_paginate-2.2.2/lib/will_paginate/finder.rb:164:in `method_missing'
    app/views/branches/_salespeople_in_branch.html.erb:10:in `_run_erb_47app47views47branches47_salespeople_in_branch46html46erb'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/partial_template.rb:20:in `render'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:26:in `benchmark'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:26:in `benchmark'
    vendor/rails/actionpack/lib/action_view/partial_template.rb:19:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/partials.rb:110:in `render_partial'
    vendor/rails/actionpack/lib/action_view/base.rb:273:in `render'
    app/helpers/application_helper.rb:5:in `partial'
    app/views/branches/show.html.erb:5:in `_run_erb_47app47views47branches47show46html46erb'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:35:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:245:in `render_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:1108:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:865:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/base.rb:880:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/layout.rb:251:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/branches_controller.rb:21:in `show'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:580:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:130:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:389:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:149:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/railties/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /home/mauricio/NetBeansProjects/reeds/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 10:28:39) [GET]
  Session ID: BAh7CToMY3NyZl9pZCIlMGJlZDdlMzRhZGM1MTAxZGRlOGU3ODQ2YmU5YzU4
MDg6DHVzZXJfaWRpBjoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--a9443b2c8b626ced460ba9bf856472061ec24130
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000870)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000070)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000483)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000044)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mAssignment Load (0.000067)[0m   [0mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;36;1mAssignment Columns (0.000428)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSalesperson Load (0.000063)[0m   [0mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
  [4;36;1mSalesperson Columns (0.000447)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
  [4;35;1mSalesperson Load (0.000079)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
Rendered branches/_assignment (0.00264)
Rendered branches/_salespeople_in_branch (0.00347)
Rendered branches/_salespeople_not_in_branch (0.00060)
  [4;36;1mMenuItem Load (0.000080)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000528)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000044)[0m   [0;1mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;35;1mMenuItem Load (0.000037)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000033)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00075)
  [4;35;1mPage Columns (0.000516)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000040)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01404)
Rendered menu_items/_menu (0.02516)
Completed in 0.11994 (8 reqs/sec) | Rendering: 0.02920 (24%) | DB: 0.00429 (3%) | 200 OK [http://localhost/branches/1]


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 11:21:35) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000774)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000065)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000579)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000062)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mAssignment Load (0.000096)[0m   [0mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;36;1mAssignment Columns (0.000564)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSalesperson Load (0.000123)[0m   [0mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
  [4;36;1mSalesperson Columns (0.000516)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
  [4;35;1mSalesperson Load (0.000043)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
Rendered branches/_assignment (0.00258)
Rendered branches/_salespeople_in_branch (0.00294)
Rendered branches/_salesperson_not_in_branch (0.00055)
Rendered branches/_salespeople_not_in_branch (0.00120)
  [4;36;1mMenuItem Load (0.000080)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000532)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000050)[0m   [0;1mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;35;1mMenuItem Load (0.000060)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000040)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00080)
  [4;35;1mPage Columns (0.000546)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000183)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01478)
Rendered menu_items/_menu (0.02610)
Completed in 0.11727 (8 reqs/sec) | Rendering: 0.03081 (26%) | DB: 0.00431 (3%) | 200 OK [http://localhost/branches/1]


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 11:27:03) [GET]
  Session ID: BAh7CToMY3NyZl9pZCIlMGJlZDdlMzRhZGM1MTAxZGRlOGU3ODQ2YmU5YzU4
MDg6DHVzZXJfaWRpBjoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--a9443b2c8b626ced460ba9bf856472061ec24130
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000650)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000042)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000387)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000033)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mAssignment Load (0.000045)[0m   [0mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;36;1mAssignment Columns (0.000401)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSalesperson Load (0.000046)[0m   [0mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
  [4;36;1mSalesperson Columns (0.000420)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
  [4;35;1mSalesperson Load (0.000033)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
Rendered branches/_assignment (0.00297)
Rendered branches/_salespeople_in_branch (0.00385)
Rendered branches/_salesperson_not_in_branch (0.00068)
Rendered branches/_salespeople_not_in_branch (0.00088)
  [4;36;1mMenuItem Load (0.000062)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000541)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000041)[0m   [0;1mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;35;1mMenuItem Load (0.000038)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000032)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00072)
  [4;35;1mPage Columns (0.001311)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000045)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01382)
Rendered menu_items/_menu (0.02359)
Completed in 0.05900 (16 reqs/sec) | Rendering: 0.02753 (46%) | DB: 0.00413 (6%) | 200 OK [http://localhost/branches/1]


Processing BranchesController#assign (for 127.0.0.1 at 2008-06-07 11:27:06) [DELETE]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "_method"=>"delete", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"assign", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000662)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000048)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000397)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000040)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mSalesperson Columns (0.000402)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
  [4;36;1mSalesperson Load (0.000040)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
  [4;35;1mAssignment Load (0.000175)[0m   [0mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1 AND (`assignments`.`salesperson_id` = 1)) LIMIT 1[0m
  [4;36;1mAssignment Columns (0.000379)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
Completed in 0.03006 (33 reqs/sec) | Rendering: 0.00017 (0%) | DB: 0.00214 (7%) | 200 OK [http://localhost/branches/1/assign/1]


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 11:28:40) [GET]
  Session ID: BAh7CToMY3NyZl9pZCIlMGJlZDdlMzRhZGM1MTAxZGRlOGU3ODQ2YmU5YzU4
MDg6DHVzZXJfaWRpBjoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--a9443b2c8b626ced460ba9bf856472061ec24130
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000649)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000049)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000378)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000039)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mAssignment Load (0.000051)[0m   [0mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;36;1mAssignment Columns (0.000393)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSalesperson Load (0.000061)[0m   [0mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
  [4;36;1mSalesperson Columns (0.000436)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
  [4;35;1mSalesperson Load (0.000040)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
Rendered branches/_assignment (0.00301)
Rendered branches/_salespeople_in_branch (0.00332)
Rendered branches/_salesperson_not_in_branch (0.00066)
Rendered branches/_salespeople_not_in_branch (0.00086)
  [4;36;1mMenuItem Load (0.000091)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000658)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000050)[0m   [0;1mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;35;1mMenuItem Load (0.000042)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000039)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00072)
  [4;35;1mPage Columns (0.000505)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000053)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01300)
Rendered menu_items/_menu (0.02288)
Completed in 0.05779 (17 reqs/sec) | Rendering: 0.02692 (46%) | DB: 0.00353 (6%) | 200 OK [http://localhost/branches/1]


Processing BranchesController#remove_assign (for 127.0.0.1 at 2008-06-07 11:28:42) [DELETE]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "_method"=>"delete", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"remove_assign", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000632)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000050)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m


ActionController::UnknownAction (No action responded to remove_assign):
    /vendor/rails/actionpack/lib/action_controller/filters.rb:580:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:529:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:529:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:130:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:389:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:149:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    /vendor/rails/railties/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /home/mauricio/NetBeansProjects/reeds/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (not_found)


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 11:29:02) [GET]
  Session ID: BAh7CToMY3NyZl9pZCIlMGJlZDdlMzRhZGM1MTAxZGRlOGU3ODQ2YmU5YzU4
MDg6DHVzZXJfaWRpBjoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--a9443b2c8b626ced460ba9bf856472061ec24130
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000649)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000048)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000387)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000039)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mAssignment Load (0.000051)[0m   [0mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;36;1mAssignment Columns (0.000391)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSalesperson Load (0.000054)[0m   [0mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
  [4;36;1mSalesperson Columns (0.000421)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
  [4;35;1mSalesperson Load (0.000041)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
Rendered branches/_assignment (0.00300)
Rendered branches/_salespeople_in_branch (0.00331)
Rendered branches/_salesperson_not_in_branch (0.00068)
Rendered branches/_salespeople_not_in_branch (0.00087)
  [4;36;1mMenuItem Load (0.000071)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000543)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000047)[0m   [0;1mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;35;1mMenuItem Load (0.000042)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000038)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00072)
  [4;35;1mPage Columns (0.000475)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000042)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01271)
Rendered menu_items/_menu (0.02222)
Completed in 0.05681 (17 reqs/sec) | Rendering: 0.02637 (46%) | DB: 0.00402 (7%) | 200 OK [http://localhost/branches/1]


Processing BranchesController#remove_assignment (for 127.0.0.1 at 2008-06-07 11:29:04) [DELETE]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "_method"=>"delete", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"remove_assignment", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000635)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000057)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mAssignment Load (0.000000)[0m   [0mMysql::Error: Operand should contain 1 column(s): SELECT * FROM `assignments` WHERE (`assignments`.`salesperson_id` = '--- \n- branch_id\n- \"1\"\n','--- \n- _method\n- delete\n','--- \n- authenticity_token\n- 1e05b7092fb088e52b6b61222923a36b7b5023ad\n','--- \n- action\n- remove_assignment\n','--- \n- id\n- \"1\"\n','--- \n- controller\n- branches\n' AND `assignments`.`branch_id` = '1') LIMIT 1[0m


ActiveRecord::StatementInvalid (Mysql::Error: Operand should contain 1 column(s): SELECT * FROM `assignments`     WHERE (`assignments`.`salesperson_id` = '--- \n- branch_id\n- \"1\"\n','--- \n- _method\n- delete\n','--- \n- authenticity_token\n- 1e05b7092fb088e52b6b61222923a36b7b5023ad\n','--- \n- action\n- remove_assignment\n','--- \n- id\n- \"1\"\n','--- \n- controller\n- branches\n' AND `assignments`.`branch_id` = '1')  LIMIT 1):
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:147:in `log'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/mysql_adapter.rb:299:in `execute'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/mysql_adapter.rb:515:in `select'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:7:in `select_all_without_query_cache'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:59:in `select_all'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:80:in `cache_sql'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:59:in `select_all'
    /vendor/rails/activerecord/lib/active_record/base.rb:582:in `find_by_sql'
    /vendor/rails/activerecord/lib/active_record/base.rb:1341:in `find_every'
    /vendor/rails/activerecord/lib/active_record/base.rb:1303:in `find_initial'
    /vendor/rails/activerecord/lib/active_record/base.rb:534:in `find'
    /app/controllers/branches_controller.rb:99:in `remove_assignment'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:580:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:529:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:529:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:130:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:389:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:149:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    /vendor/rails/railties/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /home/mauricio/NetBeansProjects/reeds/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 11:30:14) [GET]
  Session ID: BAh7CToMY3NyZl9pZCIlMGJlZDdlMzRhZGM1MTAxZGRlOGU3ODQ2YmU5YzU4
MDg6DHVzZXJfaWRpBjoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--a9443b2c8b626ced460ba9bf856472061ec24130
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000645)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000108)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mBranch Columns (0.000419)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mBranch Load (0.000044)[0m   [0mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;36;1mAssignment Load (0.000060)[0m   [0;1mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;35;1mAssignment Columns (0.000411)[0m   [0mSHOW FIELDS FROM `assignments`[0m
  [4;36;1mSalesperson Load (0.000063)[0m   [0;1mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
  [4;35;1mSalesperson Columns (0.000465)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
  [4;36;1mSalesperson Load (0.000045)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
Rendered branches/_assignment (0.00277)
Rendered branches/_salespeople_in_branch (0.00309)
Rendered branches/_salesperson_not_in_branch (0.00038)
Rendered branches/_salespeople_not_in_branch (0.00057)
  [4;35;1mMenuItem Load (0.000097)[0m   [0mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;36;1mMenuItem Columns (0.000540)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000051)[0m   [0mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;36;1mMenuItem Load (0.000048)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000036)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00077)
  [4;36;1mPage Columns (0.000514)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000048)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01322)
Rendered menu_items/_menu (0.02382)
Completed in 0.05990 (16 reqs/sec) | Rendering: 0.02735 (45%) | DB: 0.00429 (7%) | 200 OK [http://localhost/branches/1]


Processing BranchesController#remove_assignment (for 127.0.0.1 at 2008-06-07 11:30:15) [DELETE]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "_method"=>"delete", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"remove_assignment", "id"=>"1", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000653)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000042)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mAssignment Load (0.000194)[0m   [0;1mSELECT * FROM `assignments` WHERE (`assignments`.`salesperson_id` = '1' AND `assignments`.`branch_id` = '1') LIMIT 1[0m
  [4;35;1mAssignment Columns (0.000464)[0m   [0mSHOW FIELDS FROM `assignments`[0m
  [4;36;1mSalesperson Columns (0.000360)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
  [4;35;1mSalesperson Load (0.000036)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
  [4;36;1mSQL (0.000023)[0m   [0;1mBEGIN[0m
  [4;35;1mAssignment Destroy (0.000124)[0m   [0m DELETE FROM `assignments`
 WHERE `id` = 1
[0m
  [4;36;1mSQL (0.018938)[0m   [0;1mCOMMIT[0m
Rendering branches/remove_assignment


ActionView::TemplateError (assign_to_branch_url failed to generate from {:action=>"assign", :branch_id=>nil, :controller=>"branches", :id=>#<Salesperson id: 1, name: "Maurício", phone: "88400806", email: "mauricio@gmail.com", created_at: "2008-06-07 09:58:49", updated_at: "2008-06-07 09:58:49">}, expected: {:action=>"assign", :controller=>"branches"}, diff: {:branch_id=>nil, :id=>#<Salesperson id: 1, name: "Maurício", phone: "88400806", email: "mauricio@gmail.com", created_at: "2008-06-07 09:58:49", updated_at: "2008-06-07 09:58:49">}) on line #3 of branches/_salesperson_not_in_branch.html.erb:
1: <tr id="salespeson_<%= salesperson.id %>" >
2:   <td> <%= salesperson.name %>  </td>
3:   <td> <%= link_to_assign_salesperson( salesperson ) %> </td>
4: </tr>
    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:375:in `raise_named_route_error'
    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:339:in `generate'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:131:in `rewrite_path'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:110:in `rewrite_url'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:88:in `rewrite'
    vendor/rails/actionpack/lib/action_controller/base.rb:621:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:71:in `send'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:71:in `url_for'
    (eval):17:in `assign_to_branch_path'
    app/helpers/branches_helper.rb:4:in `link_to_assign_salesperson'
    app/views/branches/_salesperson_not_in_branch.html.erb:3:in `_run_erb_47app47views47branches47_salesperson_not_in_branch46html46erb'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/partial_template.rb:20:in `render'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:26:in `benchmark'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:26:in `benchmark'
    vendor/rails/actionpack/lib/action_view/partial_template.rb:19:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/partials.rb:110:in `render_partial'
    vendor/rails/actionpack/lib/action_view/base.rb:273:in `render'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:987:in `render'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:748:in `insert_html'
    app/views/branches/remove_assignment.js.rjs:2:in `__instance_exec0'
    vendor/rails/activesupport/lib/active_support/core_ext/object/extending.rb:52:in `send'
    vendor/rails/activesupport/lib/active_support/core_ext/object/extending.rb:52:in `instance_exec'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:581:in `initialize'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:1023:in `new'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:1023:in `update_page'
    app/views/branches/remove_assignment.js.rjs:0:in `_run_rjs_47app47views47branches47remove_assignment46js46rjs'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:35:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:245:in `render_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:1108:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:865:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/base.rb:880:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/layout.rb:259:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/branches_controller.rb:103:in `remove_assignment'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:580:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:130:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:389:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:149:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/railties/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /home/mauricio/NetBeansProjects/reeds/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 11:31:38) [GET]
  Session ID: BAh7CToMY3NyZl9pZCIlMGJlZDdlMzRhZGM1MTAxZGRlOGU3ODQ2YmU5YzU4
MDg6DHVzZXJfaWRpBjoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--a9443b2c8b626ced460ba9bf856472061ec24130
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;36;1mSQL (0.000060)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000031)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.000633)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000042)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mBranch Columns (0.000404)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mBranch Load (0.000033)[0m   [0mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;36;1mAssignment Load (0.000179)[0m   [0;1mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;35;1mSalesperson Load (0.000224)[0m   [0mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
Rendered branches/_salespeople_in_branch (0.00006)
  [4;36;1mSalesperson Columns (0.000438)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
Rendered branches/_salesperson_not_in_branch (0.00278)
Rendered branches/_salesperson_not_in_branch (0.00031)
Rendered branches/_salespeople_not_in_branch (0.00392)
  [4;35;1mMenuItem Load (0.000066)[0m   [0mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;36;1mMenuItem Columns (0.000522)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000041)[0m   [0mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;36;1mMenuItem Load (0.000042)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000032)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00079)
  [4;36;1mPage Columns (0.000495)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000036)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01344)
Rendered menu_items/_menu (0.02460)
Completed in 0.06551 (15 reqs/sec) | Rendering: 0.03291 (50%) | DB: 0.00328 (5%) | 200 OK [http://localhost/branches/1]


Processing BranchesController#assign (for 127.0.0.1 at 2008-06-07 11:31:41) [POST]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"assign", "id"=>"1", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000661)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000051)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mBranch Columns (0.000421)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mBranch Load (0.000041)[0m   [0mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;36;1mSalesperson Columns (0.000416)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
  [4;35;1mSalesperson Load (0.000042)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
  [4;36;1mAssignment Load (0.000177)[0m   [0;1mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1 AND (`assignments`.`salesperson_id` = 1)) LIMIT 1[0m
  [4;35;1mAssignment Columns (0.000392)[0m   [0mSHOW FIELDS FROM `assignments`[0m
  [4;36;1mSQL (0.000028)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000107)[0m   [0mSELECT `salesperson_id` FROM `assignments` WHERE (`assignments`.salesperson_id = 1 AND `assignments`.branch_id = 1) [0m
  [4;36;1mAssignment Create (0.000110)[0m   [0;1mINSERT INTO `assignments` (`updated_at`, `branch_id`, `salesperson_id`, `enabled`, `created_at`) VALUES('2008-06-07 11:31:41', 1, 1, 1, '2008-06-07 11:31:41')[0m
  [4;35;1mSQL (0.015473)[0m   [0mCOMMIT[0m
Rendering branches/assign
Completed in 0.05272 (18 reqs/sec) | Rendering: 0.00386 (7%) | DB: 0.01792 (33%) | 200 OK [http://localhost/branches/1/assign/1]


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 11:32:15) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000664)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000053)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mBranch Columns (0.000394)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mBranch Load (0.000040)[0m   [0mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;36;1mAssignment Load (0.000188)[0m   [0;1mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;35;1mAssignment Columns (0.000398)[0m   [0mSHOW FIELDS FROM `assignments`[0m
  [4;36;1mSalesperson Load (0.000235)[0m   [0;1mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
  [4;35;1mSalesperson Columns (0.000427)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
  [4;36;1mSalesperson Load (0.000040)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
Rendered branches/_assignment (0.00302)
Rendered branches/_salespeople_in_branch (0.00396)
Rendered branches/_salesperson_not_in_branch (0.00039)
Rendered branches/_salespeople_not_in_branch (0.00058)
  [4;35;1mMenuItem Load (0.000087)[0m   [0mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;36;1mMenuItem Columns (0.000593)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000050)[0m   [0mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;36;1mMenuItem Load (0.000044)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000038)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00078)
  [4;36;1mPage Columns (0.000601)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000046)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01473)
Rendered menu_items/_menu (0.07439)
Completed in 0.11360 (8 reqs/sec) | Rendering: 0.07874 (69%) | DB: 0.00390 (3%) | 200 OK [http://localhost/branches/1]


Processing BranchesController#remove_assignment (for 127.0.0.1 at 2008-06-07 11:32:17) [DELETE]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "_method"=>"delete", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"remove_assignment", "id"=>"1", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000634)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000053)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mAssignment Load (0.000194)[0m   [0;1mSELECT * FROM `assignments` WHERE (`assignments`.`salesperson_id` = '1' AND `assignments`.`branch_id` = '1') LIMIT 1[0m
  [4;35;1mAssignment Columns (0.000391)[0m   [0mSHOW FIELDS FROM `assignments`[0m
  [4;36;1mBranch Load (0.000146)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.id IN ('1')) [0m
  [4;35;1mBranch Columns (0.000325)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mSalesperson Load (0.000140)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.id IN ('1')) [0m
  [4;35;1mSalesperson Columns (0.000378)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
  [4;36;1mSQL (0.000031)[0m   [0;1mBEGIN[0m
  [4;35;1mAssignment Destroy (0.000105)[0m   [0m DELETE FROM `assignments`
 WHERE `id` = 2
[0m
  [4;36;1mSQL (0.002025)[0m   [0;1mCOMMIT[0m
Rendering branches/remove_assignment
Rendered branches/_salesperson_not_in_branch (0.00153)
Completed in 0.03767 (26 reqs/sec) | Rendering: 0.00565 (15%) | DB: 0.00442 (11%) | 200 OK [http://localhost/branches/1/remove_assignment/1]


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 11:32:46) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000648)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000056)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000385)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000038)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mAssignment Load (0.000180)[0m   [0mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;36;1mSalesperson Load (0.000234)[0m   [0;1mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
Rendered branches/_salespeople_in_branch (0.00006)
  [4;35;1mSalesperson Columns (0.000417)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
Rendered branches/_salesperson_not_in_branch (0.00227)
Rendered branches/_salesperson_not_in_branch (0.00033)
Rendered branches/_salespeople_not_in_branch (0.00303)
  [4;36;1mMenuItem Load (0.000074)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000497)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000047)[0m   [0;1mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;35;1mMenuItem Load (0.000043)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000038)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00075)
  [4;35;1mPage Columns (0.000482)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000044)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01310)
Rendered menu_items/_menu (0.02306)
Completed in 0.05677 (17 reqs/sec) | Rendering: 0.02672 (47%) | DB: 0.00318 (5%) | 200 OK [http://localhost/branches/1]


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 11:33:00) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000730)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000050)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000408)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000039)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mAssignment Load (0.000066)[0m   [0mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;36;1mSalesperson Load (0.000055)[0m   [0;1mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
Rendered branches/_salespeople_in_branch (0.00005)
  [4;35;1mSalesperson Columns (0.000437)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
Rendered branches/_salesperson_not_in_branch (0.00233)
Rendered branches/_salesperson_not_in_branch (0.00033)
Rendered branches/_salespeople_not_in_branch (0.00306)
  [4;36;1mMenuItem Load (0.000070)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000534)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000048)[0m   [0;1mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;35;1mMenuItem Load (0.000044)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000040)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00075)
  [4;35;1mPage Columns (0.000509)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000043)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01316)
Rendered menu_items/_menu (0.02327)
Completed in 0.05701 (17 reqs/sec) | Rendering: 0.02681 (47%) | DB: 0.00307 (5%) | 200 OK [http://localhost/branches/1]


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 11:33:14) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000635)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000050)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000393)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000039)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mAssignment Load (0.000056)[0m   [0mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;36;1mSalesperson Load (0.000049)[0m   [0;1mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
Rendered branches/_salespeople_in_branch (0.00005)
  [4;35;1mSalesperson Columns (0.000439)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
Rendered branches/_salesperson_not_in_branch (0.00231)
Rendered branches/_salesperson_not_in_branch (0.00030)
Rendered branches/_salespeople_not_in_branch (0.00303)
  [4;36;1mMenuItem Load (0.000074)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000496)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000047)[0m   [0;1mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;35;1mMenuItem Load (0.000043)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000038)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00076)
  [4;35;1mPage Columns (0.000475)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000042)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01319)
Rendered menu_items/_menu (0.02331)
Completed in 0.05725 (17 reqs/sec) | Rendering: 0.02699 (47%) | DB: 0.00288 (5%) | 200 OK [http://localhost/branches/1]


Processing BranchesController#assign (for 127.0.0.1 at 2008-06-07 11:33:28) [POST]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"assign", "id"=>"2", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000633)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000044)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000396)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000034)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mSalesperson Columns (0.000400)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
  [4;36;1mSalesperson Load (0.000035)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 2) [0m
  [4;35;1mAssignment Load (0.000169)[0m   [0mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1 AND (`assignments`.`salesperson_id` = 2)) LIMIT 1[0m
  [4;36;1mAssignment Columns (0.000373)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSQL (0.000027)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000093)[0m   [0;1mSELECT `salesperson_id` FROM `assignments` WHERE (`assignments`.salesperson_id = 2 AND `assignments`.branch_id = 1) [0m
  [4;35;1mAssignment Create (0.000104)[0m   [0mINSERT INTO `assignments` (`updated_at`, `branch_id`, `salesperson_id`, `enabled`, `created_at`) VALUES('2008-06-07 11:33:28', 1, 2, 1, '2008-06-07 11:33:28')[0m
  [4;36;1mSQL (0.004182)[0m   [0;1mCOMMIT[0m
Rendering branches/assign
Completed in 0.04033 (24 reqs/sec) | Rendering: 0.00356 (8%) | DB: 0.00649 (16%) | 200 OK [http://localhost/branches/1/assign/2]


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 11:34:18) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000638)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000042)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000381)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000031)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mAssignment Load (0.000230)[0m   [0mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;36;1mAssignment Columns (0.000412)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSalesperson Load (0.000242)[0m   [0mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
  [4;36;1mSalesperson Columns (0.000422)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
  [4;35;1mSalesperson Load (0.000036)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 2) [0m
Rendered branches/_assignment (0.00278)
Rendered branches/_salespeople_in_branch (0.00311)
Rendered branches/_salesperson_not_in_branch (0.00038)
Rendered branches/_salespeople_not_in_branch (0.00101)
  [4;36;1mMenuItem Load (0.000070)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000513)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000044)[0m   [0;1mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;35;1mMenuItem Load (0.000037)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000031)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00075)
  [4;35;1mPage Columns (0.000503)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000038)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01409)
Rendered menu_items/_menu (0.02504)
Completed in 0.11067 (9 reqs/sec) | Rendering: 0.02921 (26%) | DB: 0.00367 (3%) | 200 OK [http://localhost/branches/1]


Processing BranchesController#assign (for 127.0.0.1 at 2008-06-07 11:34:20) [POST]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"assign", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000638)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000041)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000374)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000031)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mSalesperson Columns (0.000380)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
  [4;36;1mSalesperson Load (0.000033)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
  [4;35;1mAssignment Load (0.000228)[0m   [0mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1 AND (`assignments`.`salesperson_id` = 1)) LIMIT 1[0m
  [4;36;1mAssignment Columns (0.000422)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSQL (0.000032)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSELECT `salesperson_id` FROM `assignments` WHERE (`assignments`.salesperson_id = 1 AND `assignments`.branch_id = 1) [0m
  [4;35;1mAssignment Create (0.000105)[0m   [0mINSERT INTO `assignments` (`updated_at`, `branch_id`, `salesperson_id`, `enabled`, `created_at`) VALUES('2008-06-07 11:34:20', 1, 1, 1, '2008-06-07 11:34:20')[0m
  [4;36;1mSQL (0.004670)[0m   [0;1mCOMMIT[0m
Rendering branches/assign
Completed in 0.09018 (11 reqs/sec) | Rendering: 0.00367 (4%) | DB: 0.00706 (7%) | 200 OK [http://localhost/branches/1/assign/1]


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 11:34:44) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000641)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000049)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000378)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000040)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mAssignment Load (0.000194)[0m   [0mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;36;1mAssignment Columns (0.000375)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSalesperson Load (0.000272)[0m   [0mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
  [4;36;1mSalesperson Columns (0.000447)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
  [4;35;1mSalesperson Load (0.000042)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 2) [0m
Rendered branches/_assignment (0.00278)
  [4;36;1mSalesperson Load (0.000043)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
Rendered branches/_assignment (0.00067)
Rendered branches/_salespeople_in_branch (0.00398)
Rendered branches/_salespeople_not_in_branch (0.00001)
  [4;35;1mMenuItem Load (0.000064)[0m   [0mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;36;1mMenuItem Columns (0.000531)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000059)[0m   [0mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;36;1mMenuItem Load (0.000044)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000037)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00076)
  [4;36;1mPage Columns (0.000511)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000043)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01305)
Rendered menu_items/_menu (0.02358)
Completed in 0.05933 (16 reqs/sec) | Rendering: 0.02746 (46%) | DB: 0.00377 (6%) | 200 OK [http://localhost/branches/1]


Processing BranchesController#remove_assignment (for 127.0.0.1 at 2008-06-07 11:34:46) [DELETE]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "_method"=>"delete", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"remove_assignment", "id"=>"1", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000630)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000043)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mAssignment Load (0.000182)[0m   [0;1mSELECT * FROM `assignments` WHERE (`assignments`.`salesperson_id` = '1' AND `assignments`.`branch_id` = '1') LIMIT 1[0m
  [4;35;1mAssignment Columns (0.000390)[0m   [0mSHOW FIELDS FROM `assignments`[0m
  [4;36;1mBranch Load (0.000047)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.id IN ('1')) [0m
  [4;35;1mBranch Columns (0.000348)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mSalesperson Load (0.000041)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.id IN ('1')) [0m
  [4;35;1mSalesperson Columns (0.000382)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
  [4;36;1mSQL (0.000024)[0m   [0;1mBEGIN[0m
  [4;35;1mAssignment Destroy (0.000119)[0m   [0m DELETE FROM `assignments`
 WHERE `id` = 4
[0m
  [4;36;1mSQL (0.003489)[0m   [0;1mCOMMIT[0m
Rendering branches/remove_assignment
Rendered branches/_salesperson_not_in_branch (0.00156)
Completed in 0.03915 (25 reqs/sec) | Rendering: 0.00550 (14%) | DB: 0.00570 (14%) | 200 OK [http://localhost/branches/1/remove_assignment/1]


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 11:39:51) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000641)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000056)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000396)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000039)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mAssignment Load (0.000182)[0m   [0mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;36;1mAssignment Columns (0.000384)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSalesperson Load (0.000236)[0m   [0mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
  [4;36;1mSalesperson Columns (0.000413)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
  [4;35;1mSalesperson Load (0.000042)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 2) [0m
Rendered branches/_assignment (0.00270)
Rendered branches/_salespeople_in_branch (0.00302)
Rendered branches/_salesperson_not_in_branch (0.00037)
Rendered branches/_salespeople_not_in_branch (0.00056)
  [4;36;1mMenuItem Load (0.000073)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000517)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000048)[0m   [0;1mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;35;1mMenuItem Load (0.000042)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000038)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00074)
  [4;35;1mPage Columns (0.000517)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000045)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01315)
Rendered menu_items/_menu (0.02321)
Completed in 0.05969 (16 reqs/sec) | Rendering: 0.02743 (45%) | DB: 0.00367 (6%) | 200 OK [http://localhost/branches/1]


Processing BranchesController#assign (for 127.0.0.1 at 2008-06-07 11:39:52) [POST]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"assign", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000634)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000051)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000411)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000039)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mSalesperson Columns (0.000434)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
  [4;36;1mSalesperson Load (0.000047)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
  [4;35;1mAssignment Load (0.000175)[0m   [0mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1 AND (`assignments`.`salesperson_id` = 1)) LIMIT 1[0m
  [4;36;1mAssignment Columns (0.000376)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSQL (0.000033)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000122)[0m   [0;1mSELECT `salesperson_id` FROM `assignments` WHERE (`assignments`.salesperson_id = 1 AND `assignments`.branch_id = 1) [0m
  [4;35;1mAssignment Create (0.000117)[0m   [0mINSERT INTO `assignments` (`updated_at`, `branch_id`, `salesperson_id`, `enabled`, `created_at`) VALUES('2008-06-07 11:39:52', 1, 1, 1, '2008-06-07 11:39:52')[0m
  [4;36;1mSQL (0.004019)[0m   [0;1mCOMMIT[0m
Rendering branches/assign
  [4;35;1mAssignment Load (0.000182)[0m   [0mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1) [0m
  [4;36;1mSalesperson Load (0.000041)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 2) [0m
Rendered branches/_assignment (0.00175)
  [4;35;1mSalesperson Load (0.000045)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
Rendered branches/_assignment (0.00065)
Rendered branches/_salespeople_in_branch (0.00345)
Completed in 0.04481 (22 reqs/sec) | Rendering: 0.00747 (16%) | DB: 0.00673 (15%) | 200 OK [http://localhost/branches/1/assign/1]


Processing BranchesController#remove_assignment (for 127.0.0.1 at 2008-06-07 11:40:00) [DELETE]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "_method"=>"delete", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"remove_assignment", "id"=>"1", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000625)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000050)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mAssignment Load (0.000200)[0m   [0;1mSELECT * FROM `assignments` WHERE (`assignments`.`salesperson_id` = '1' AND `assignments`.`branch_id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.000022)[0m   [0mBEGIN[0m
  [4;36;1mAssignment Columns (0.000399)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mAssignment Destroy (0.000101)[0m   [0m DELETE FROM `assignments`
 WHERE `id` = 5
[0m
  [4;36;1mSQL (0.004173)[0m   [0;1mCOMMIT[0m
  [4;35;1mSalesperson Load (0.000315)[0m   [0mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering branches/remove_assignment
  [4;36;1mSalesperson Columns (0.000486)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m


ActionView::TemplateError (assign_to_branch_url failed to generate from {:action=>"assign", :branch_id=>nil, :controller=>"branches", :id=>#<Salesperson id: 1, name: "Maurício", phone: "88400806", email: "mauricio@gmail.com", created_at: "2008-06-07 09:58:49", updated_at: "2008-06-07 09:58:49">}, expected: {:action=>"assign", :controller=>"branches"}, diff: {:branch_id=>nil, :id=>#<Salesperson id: 1, name: "Maurício", phone: "88400806", email: "mauricio@gmail.com", created_at: "2008-06-07 09:58:49", updated_at: "2008-06-07 09:58:49">}) on line #3 of branches/_salesperson_not_in_branch.html.erb:
1: <tr id="salesperson_<%= salesperson.id %>" >
2:   <td> <%= salesperson.name %>  </td>
3:   <td> <%= link_to_assign_salesperson( salesperson ) %> </td>
4: </tr>
    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:375:in `raise_named_route_error'
    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:339:in `generate'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:131:in `rewrite_path'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:110:in `rewrite_url'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:88:in `rewrite'
    vendor/rails/actionpack/lib/action_controller/base.rb:621:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:71:in `send'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:71:in `url_for'
    (eval):17:in `assign_to_branch_path'
    app/helpers/branches_helper.rb:4:in `link_to_assign_salesperson'
    app/views/branches/_salesperson_not_in_branch.html.erb:3:in `_run_erb_47app47views47branches47_salesperson_not_in_branch46html46erb'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/partial_template.rb:20:in `render'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:26:in `benchmark'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:26:in `benchmark'
    vendor/rails/actionpack/lib/action_view/partial_template.rb:19:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/partials.rb:110:in `render_partial'
    vendor/rails/actionpack/lib/action_view/base.rb:273:in `render'
    app/helpers/application_helper.rb:5:in `partial'
    app/views/branches/_salespeople_not_in_branch.html.erb:10:in `_run_erb_47app47views47branches47_salespeople_not_in_branch46html46erb'
    app/views/branches/_salespeople_not_in_branch.html.erb:9:in `each'
    app/views/branches/_salespeople_not_in_branch.html.erb:9:in `_run_erb_47app47views47branches47_salespeople_not_in_branch46html46erb'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/partial_template.rb:20:in `render'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:26:in `benchmark'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:26:in `benchmark'
    vendor/rails/actionpack/lib/action_view/partial_template.rb:19:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/partials.rb:110:in `render_partial'
    vendor/rails/actionpack/lib/action_view/base.rb:273:in `render'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:987:in `render'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:762:in `replace_html'
    app/views/branches/remove_assignment.js.rjs:2:in `__instance_exec0'
    vendor/rails/activesupport/lib/active_support/core_ext/object/extending.rb:52:in `send'
    vendor/rails/activesupport/lib/active_support/core_ext/object/extending.rb:52:in `instance_exec'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:581:in `initialize'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:1023:in `new'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:1023:in `update_page'
    app/views/branches/remove_assignment.js.rjs:0:in `_run_rjs_47app47views47branches47remove_assignment46js46rjs'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:35:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:245:in `render_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:1108:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:865:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/base.rb:880:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/layout.rb:259:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/branches_controller.rb:103:in `remove_assignment'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:580:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:130:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:389:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:149:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/railties/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /home/mauricio/NetBeansProjects/reeds/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 11:41:30) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000644)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000051)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000396)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000040)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mAssignment Load (0.000181)[0m   [0mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;36;1mAssignment Columns (0.000380)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSalesperson Load (0.000057)[0m   [0mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
  [4;36;1mSalesperson Columns (0.000426)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
  [4;35;1mSalesperson Load (0.000043)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 2) [0m
Rendered branches/_assignment (0.00275)
Rendered branches/_salespeople_in_branch (0.00308)
Rendered branches/_salesperson_not_in_branch (0.00037)
Rendered branches/_salespeople_not_in_branch (0.00056)
  [4;36;1mMenuItem Load (0.000074)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000506)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000047)[0m   [0;1mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;35;1mMenuItem Load (0.000044)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000040)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00074)
  [4;35;1mPage Columns (0.000486)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000043)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01319)
Rendered menu_items/_menu (0.02326)
Completed in 0.05919 (16 reqs/sec) | Rendering: 0.02693 (45%) | DB: 0.00394 (6%) | 200 OK [http://localhost/branches/1]


Processing BranchesController#assign (for 127.0.0.1 at 2008-06-07 11:42:24) [POST]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"assign", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000619)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000050)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000389)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000039)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mSalesperson Columns (0.000388)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
  [4;36;1mSalesperson Load (0.000041)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
  [4;35;1mAssignment Load (0.000180)[0m   [0mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1 AND (`assignments`.`salesperson_id` = 1)) LIMIT 1[0m
  [4;36;1mAssignment Columns (0.000353)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSQL (0.000028)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000111)[0m   [0;1mSELECT `salesperson_id` FROM `assignments` WHERE (`assignments`.salesperson_id = 1 AND `assignments`.branch_id = 1) [0m
  [4;35;1mAssignment Create (0.000104)[0m   [0mINSERT INTO `assignments` (`updated_at`, `branch_id`, `salesperson_id`, `enabled`, `created_at`) VALUES('2008-06-07 11:42:24', 1, 1, 1, '2008-06-07 11:42:24')[0m
  [4;36;1mSQL (0.004012)[0m   [0;1mCOMMIT[0m
Rendering branches/assign
  [4;35;1mAssignment Load (0.000193)[0m   [0mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1) [0m
  [4;36;1mSalesperson Load (0.000047)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 2) [0m
Rendered branches/_assignment (0.00178)
  [4;35;1mSalesperson Load (0.000047)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
Rendered branches/_assignment (0.00065)
Rendered branches/_salespeople_in_branch (0.00352)
Completed in 0.04458 (22 reqs/sec) | Rendering: 0.00736 (16%) | DB: 0.00660 (14%) | 200 OK [http://localhost/branches/1/assign/1]


Processing BranchesController#remove_assignment (for 127.0.0.1 at 2008-06-07 11:42:50) [DELETE]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "_method"=>"delete", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"remove_assignment", "id"=>"2", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000638)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000041)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mAssignment Load (0.000182)[0m   [0;1mSELECT * FROM `assignments` WHERE (`assignments`.`salesperson_id` = '2' AND `assignments`.`branch_id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.000022)[0m   [0mBEGIN[0m
  [4;36;1mAssignment Columns (0.000380)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mAssignment Destroy (0.000101)[0m   [0m DELETE FROM `assignments`
 WHERE `id` = 3
[0m
  [4;36;1mSQL (0.007663)[0m   [0;1mCOMMIT[0m
  [4;35;1mSalesperson Load (0.000308)[0m   [0mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering branches/remove_assignment
  [4;36;1mSalesperson Columns (0.000493)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m


ActionView::TemplateError (assign_to_branch_url failed to generate from {:action=>"assign", :branch_id=>nil, :controller=>"branches", :id=>#<Salesperson id: 2, name: "Nick", phone: "789456", email: "mauricio@gmail.com", created_at: "2008-06-07 10:03:36", updated_at: "2008-06-07 10:03:36">}, expected: {:action=>"assign", :controller=>"branches"}, diff: {:branch_id=>nil, :id=>#<Salesperson id: 2, name: "Nick", phone: "789456", email: "mauricio@gmail.com", created_at: "2008-06-07 10:03:36", updated_at: "2008-06-07 10:03:36">}) on line #3 of branches/_salesperson_not_in_branch.html.erb:
1: <tr id="salesperson_<%= salesperson.id %>" >
2:   <td> <%= salesperson.name %>  </td>
3:   <td> <%= link_to_assign_salesperson( salesperson ) %> </td>
4: </tr>
    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:375:in `raise_named_route_error'
    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:339:in `generate'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:131:in `rewrite_path'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:110:in `rewrite_url'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:88:in `rewrite'
    vendor/rails/actionpack/lib/action_controller/base.rb:621:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:71:in `send'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:71:in `url_for'
    (eval):17:in `assign_to_branch_path'
    app/helpers/branches_helper.rb:4:in `link_to_assign_salesperson'
    app/views/branches/_salesperson_not_in_branch.html.erb:3:in `_run_erb_47app47views47branches47_salesperson_not_in_branch46html46erb'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/partial_template.rb:20:in `render'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:26:in `benchmark'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:26:in `benchmark'
    vendor/rails/actionpack/lib/action_view/partial_template.rb:19:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/partials.rb:110:in `render_partial'
    vendor/rails/actionpack/lib/action_view/base.rb:273:in `render'
    app/helpers/application_helper.rb:5:in `partial'
    app/views/branches/_salespeople_not_in_branch.html.erb:10:in `_run_erb_47app47views47branches47_salespeople_not_in_branch46html46erb'
    app/views/branches/_salespeople_not_in_branch.html.erb:9:in `each'
    app/views/branches/_salespeople_not_in_branch.html.erb:9:in `_run_erb_47app47views47branches47_salespeople_not_in_branch46html46erb'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/partial_template.rb:20:in `render'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:26:in `benchmark'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:26:in `benchmark'
    vendor/rails/actionpack/lib/action_view/partial_template.rb:19:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/partials.rb:110:in `render_partial'
    vendor/rails/actionpack/lib/action_view/base.rb:273:in `render'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:987:in `render'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:762:in `replace_html'
    app/views/branches/remove_assignment.js.rjs:2:in `__instance_exec0'
    vendor/rails/activesupport/lib/active_support/core_ext/object/extending.rb:52:in `send'
    vendor/rails/activesupport/lib/active_support/core_ext/object/extending.rb:52:in `instance_exec'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:581:in `initialize'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:1023:in `new'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:1023:in `update_page'
    app/views/branches/remove_assignment.js.rjs:0:in `_run_rjs_47app47views47branches47remove_assignment46js46rjs'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:35:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:245:in `render_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:1108:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:865:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/base.rb:880:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/layout.rb:259:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/branches_controller.rb:103:in `remove_assignment'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:580:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:130:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:389:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:149:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/railties/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /home/mauricio/NetBeansProjects/reeds/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 11:42:57) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000645)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000058)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000397)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000033)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mAssignment Load (0.000163)[0m   [0mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;36;1mAssignment Columns (0.000359)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSalesperson Load (0.000047)[0m   [0mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
  [4;36;1mSalesperson Columns (0.000403)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
  [4;35;1mSalesperson Load (0.000034)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
Rendered branches/_assignment (0.00272)
Rendered branches/_salespeople_in_branch (0.00304)
Rendered branches/_salesperson_not_in_branch (0.00037)
Rendered branches/_salespeople_not_in_branch (0.00056)
  [4;36;1mMenuItem Load (0.000066)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000475)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000051)[0m   [0;1mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;35;1mMenuItem Load (0.000045)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000035)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00078)
  [4;35;1mPage Columns (0.000477)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000046)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01336)
Rendered menu_items/_menu (0.02349)
Completed in 0.05941 (16 reqs/sec) | Rendering: 0.02721 (45%) | DB: 0.00383 (6%) | 200 OK [http://localhost/branches/1]


Processing BranchesController#assign (for 127.0.0.1 at 2008-06-07 11:43:07) [POST]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"assign", "id"=>"2", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000637)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000048)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000404)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000034)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mSalesperson Columns (0.000392)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
  [4;36;1mSalesperson Load (0.000035)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 2) [0m
  [4;35;1mAssignment Load (0.000190)[0m   [0mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1 AND (`assignments`.`salesperson_id` = 2)) LIMIT 1[0m
  [4;36;1mAssignment Columns (0.000394)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSQL (0.000027)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000105)[0m   [0;1mSELECT `salesperson_id` FROM `assignments` WHERE (`assignments`.salesperson_id = 2 AND `assignments`.branch_id = 1) [0m
  [4;35;1mAssignment Create (0.000104)[0m   [0mINSERT INTO `assignments` (`updated_at`, `branch_id`, `salesperson_id`, `enabled`, `created_at`) VALUES('2008-06-07 11:43:08', 1, 2, 1, '2008-06-07 11:43:08')[0m
  [4;36;1mSQL (0.005349)[0m   [0;1mCOMMIT[0m
Rendering branches/assign
  [4;35;1mAssignment Load (0.000174)[0m   [0mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1) [0m
  [4;36;1mSalesperson Load (0.000037)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
Rendered branches/_assignment (0.00174)
  [4;35;1mSalesperson Load (0.000045)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 2) [0m
Rendered branches/_assignment (0.00064)
Rendered branches/_salespeople_in_branch (0.00342)
Completed in 0.04568 (21 reqs/sec) | Rendering: 0.00731 (16%) | DB: 0.00798 (17%) | 200 OK [http://localhost/branches/1/assign/2]


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 11:47:10) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000636)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000053)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mBranch Columns (0.000401)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mBranch Load (0.000042)[0m   [0mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;36;1mAssignment Load (0.000238)[0m   [0;1mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;35;1mAssignment Columns (0.000423)[0m   [0mSHOW FIELDS FROM `assignments`[0m
  [4;36;1mSalesperson Load (0.000258)[0m   [0;1mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
  [4;35;1mSalesperson Columns (0.000450)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
  [4;36;1mSalesperson Load (0.000043)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
Rendered branches/_assignment (0.00300)
  [4;35;1mSalesperson Load (0.000053)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 2) [0m
Rendered branches/_assignment (0.00070)
Rendered branches/_salespeople_in_branch (0.00428)
Rendered branches/_salespeople_not_in_branch (0.00001)
  [4;36;1mMenuItem Load (0.000069)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000529)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000057)[0m   [0;1mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;35;1mMenuItem Load (0.000042)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000035)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00079)
  [4;35;1mPage Columns (0.000519)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000047)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01440)
Rendered menu_items/_menu (0.02563)
Completed in 0.11456 (8 reqs/sec) | Rendering: 0.02987 (26%) | DB: 0.00389 (3%) | 200 OK [http://localhost/branches/1]


Processing BranchesController#remove_assignment (for 127.0.0.1 at 2008-06-07 11:47:13) [DELETE]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "_method"=>"delete", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"remove_assignment", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000638)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000044)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mAssignment Load (0.000203)[0m   [0mSELECT * FROM `assignments` WHERE (`assignments`.`salesperson_id` = '1' AND `assignments`.`branch_id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.000028)[0m   [0;1mBEGIN[0m
  [4;35;1mAssignment Columns (0.000421)[0m   [0mSHOW FIELDS FROM `assignments`[0m
  [4;36;1mAssignment Destroy (0.000114)[0m   [0;1m DELETE FROM `assignments`
 WHERE `id` = 6
[0m
  [4;35;1mSQL (0.009183)[0m   [0mCOMMIT[0m
  [4;36;1mSalesperson Load (0.000250)[0m   [0;1mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
  [4;35;1mSalesperson Columns (0.000405)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
Rendering branches/remove_assignment
Rendered branches/_salespeople_not_in_branch (0.00001)
Completed in 0.03798 (26 reqs/sec) | Rendering: 0.00400 (10%) | DB: 0.01129 (29%) | 200 OK [http://localhost/branches/1/remove_assignment/1]


Processing BranchesController#remove_assignment (for 127.0.0.1 at 2008-06-07 11:47:38) [DELETE]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "_method"=>"delete", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"remove_assignment", "id"=>"2", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000763)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000057)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mAssignment Load (0.000198)[0m   [0;1mSELECT * FROM `assignments` WHERE (`assignments`.`salesperson_id` = '2' AND `assignments`.`branch_id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.000023)[0m   [0mBEGIN[0m
  [4;36;1mAssignment Columns (0.000419)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mAssignment Destroy (0.000113)[0m   [0m DELETE FROM `assignments`
 WHERE `id` = 7
[0m
  [4;36;1mSQL (0.007466)[0m   [0;1mCOMMIT[0m
  [4;35;1mSalesperson Load (0.000226)[0m   [0mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering branches/remove_assignment
  [4;36;1mSalesperson Columns (0.000468)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m


ActionView::TemplateError (assign_to_branch_url failed to generate from {:action=>"assign", :branch_id=>nil, :controller=>"branches", :id=>#<Salesperson id: 1, name: "Maurício", phone: "88400806", email: "mauricio@gmail.com", created_at: "2008-06-07 09:58:49", updated_at: "2008-06-07 09:58:49">}, expected: {:action=>"assign", :controller=>"branches"}, diff: {:branch_id=>nil, :id=>#<Salesperson id: 1, name: "Maurício", phone: "88400806", email: "mauricio@gmail.com", created_at: "2008-06-07 09:58:49", updated_at: "2008-06-07 09:58:49">}) on line #3 of branches/_salesperson_not_in_branch.html.erb:
1: <tr id="salesperson_<%= salesperson.id %>" >
2:   <td> <%= salesperson.name %>  </td>
3:   <td> <%= link_to_assign_salesperson( salesperson ) %> </td>
4: </tr>
    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:375:in `raise_named_route_error'
    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:339:in `generate'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:131:in `rewrite_path'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:110:in `rewrite_url'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:88:in `rewrite'
    vendor/rails/actionpack/lib/action_controller/base.rb:621:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:71:in `send'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:71:in `url_for'
    (eval):17:in `assign_to_branch_path'
    app/helpers/branches_helper.rb:4:in `link_to_assign_salesperson'
    app/views/branches/_salesperson_not_in_branch.html.erb:3:in `_run_erb_47app47views47branches47_salesperson_not_in_branch46html46erb'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/partial_template.rb:20:in `render'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:26:in `benchmark'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:26:in `benchmark'
    vendor/rails/actionpack/lib/action_view/partial_template.rb:19:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/partials.rb:110:in `render_partial'
    vendor/rails/actionpack/lib/action_view/base.rb:273:in `render'
    app/helpers/application_helper.rb:5:in `partial'
    app/views/branches/_salespeople_not_in_branch.html.erb:10:in `_run_erb_47app47views47branches47_salespeople_not_in_branch46html46erb'
    app/views/branches/_salespeople_not_in_branch.html.erb:9:in `each'
    app/views/branches/_salespeople_not_in_branch.html.erb:9:in `_run_erb_47app47views47branches47_salespeople_not_in_branch46html46erb'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/partial_template.rb:20:in `render'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:26:in `benchmark'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:26:in `benchmark'
    vendor/rails/actionpack/lib/action_view/partial_template.rb:19:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/partials.rb:110:in `render_partial'
    vendor/rails/actionpack/lib/action_view/base.rb:273:in `render'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:987:in `render'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:762:in `replace_html'
    app/views/branches/remove_assignment.js.rjs:2:in `__instance_exec0'
    vendor/rails/activesupport/lib/active_support/core_ext/object/extending.rb:52:in `send'
    vendor/rails/activesupport/lib/active_support/core_ext/object/extending.rb:52:in `instance_exec'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:581:in `initialize'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:1023:in `new'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:1023:in `update_page'
    app/views/branches/remove_assignment.js.rjs:0:in `_run_rjs_47app47views47branches47remove_assignment46js46rjs'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:35:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:245:in `render_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:1108:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:865:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/base.rb:880:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/layout.rb:259:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/branches_controller.rb:103:in `remove_assignment'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:580:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:130:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:389:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:149:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/railties/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /home/mauricio/NetBeansProjects/reeds/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 11:48:54) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000647)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000051)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000401)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000043)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mAssignment Load (0.000166)[0m   [0mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;36;1mSalesperson Load (0.000082)[0m   [0;1mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
Rendered branches/_salespeople_in_branch (0.00006)
  [4;35;1mSalesperson Columns (0.000469)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
Rendered branches/_salesperson_not_in_branch (0.00250)
Rendered branches/_salesperson_not_in_branch (0.00032)
Rendered branches/_salespeople_not_in_branch (0.00325)
  [4;36;1mMenuItem Load (0.000093)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000548)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000055)[0m   [0;1mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;35;1mMenuItem Load (0.000049)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000037)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00081)
  [4;35;1mPage Columns (0.000531)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000047)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01461)
Rendered menu_items/_menu (0.02584)
Completed in 0.11396 (8 reqs/sec) | Rendering: 0.02908 (25%) | DB: 0.00369 (3%) | 200 OK [http://localhost/branches/1]


Processing BranchesController#assign (for 127.0.0.1 at 2008-06-07 11:48:57) [POST]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"assign", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000646)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000042)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000390)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000032)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mSalesperson Columns (0.000436)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
  [4;36;1mSalesperson Load (0.000032)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
  [4;35;1mAssignment Load (0.000162)[0m   [0mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1 AND (`assignments`.`salesperson_id` = 1)) LIMIT 1[0m
  [4;36;1mAssignment Columns (0.000390)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSQL (0.000035)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000123)[0m   [0;1mSELECT `salesperson_id` FROM `assignments` WHERE (`assignments`.salesperson_id = 1 AND `assignments`.branch_id = 1) [0m
  [4;35;1mAssignment Create (0.000105)[0m   [0mINSERT INTO `assignments` (`updated_at`, `branch_id`, `salesperson_id`, `enabled`, `created_at`) VALUES('2008-06-07 11:48:57', 1, 1, 1, '2008-06-07 11:48:57')[0m
  [4;36;1mSQL (0.008270)[0m   [0;1mCOMMIT[0m
Rendering branches/assign
  [4;35;1mAssignment Load (0.000178)[0m   [0mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1) [0m
  [4;36;1mSalesperson Load (0.000035)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
Rendered branches/_assignment (0.00173)
Rendered branches/_salespeople_in_branch (0.00255)
Completed in 0.04619 (21 reqs/sec) | Rendering: 0.00665 (14%) | DB: 0.01088 (23%) | 200 OK [http://localhost/branches/1/assign/1]


Processing BranchesController#assign (for 127.0.0.1 at 2008-06-07 11:48:59) [POST]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"assign", "id"=>"2", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000635)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000042)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000386)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000031)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mSalesperson Columns (0.000411)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
  [4;36;1mSalesperson Load (0.000034)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 2) [0m
  [4;35;1mAssignment Load (0.000168)[0m   [0mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1 AND (`assignments`.`salesperson_id` = 2)) LIMIT 1[0m
  [4;36;1mAssignment Columns (0.000370)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSQL (0.000027)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000096)[0m   [0;1mSELECT `salesperson_id` FROM `assignments` WHERE (`assignments`.salesperson_id = 2 AND `assignments`.branch_id = 1) [0m
  [4;35;1mAssignment Create (0.000098)[0m   [0mINSERT INTO `assignments` (`updated_at`, `branch_id`, `salesperson_id`, `enabled`, `created_at`) VALUES('2008-06-07 11:48:59', 1, 2, 1, '2008-06-07 11:48:59')[0m
  [4;36;1mSQL (0.001484)[0m   [0;1mCOMMIT[0m
Rendering branches/assign
  [4;35;1mAssignment Load (0.000177)[0m   [0mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1) [0m
  [4;36;1mSalesperson Load (0.000035)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
Rendered branches/_assignment (0.00173)
  [4;35;1mSalesperson Load (0.000037)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 2) [0m
Rendered branches/_assignment (0.00063)
Rendered branches/_salespeople_in_branch (0.00340)
Completed in 0.04079 (24 reqs/sec) | Rendering: 0.00744 (18%) | DB: 0.00403 (9%) | 200 OK [http://localhost/branches/1/assign/2]


Processing BranchesController#remove_assignment (for 127.0.0.1 at 2008-06-07 11:49:02) [DELETE]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "_method"=>"delete", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"remove_assignment", "id"=>"2", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000726)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000044)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mAssignment Load (0.000201)[0m   [0;1mSELECT * FROM `assignments` WHERE (`assignments`.`salesperson_id` = '2' AND `assignments`.`branch_id` = '1') LIMIT 1[0m
  [4;35;1mAssignment Columns (0.000517)[0m   [0mSHOW FIELDS FROM `assignments`[0m


ActiveRecord::ConfigurationError (Association named 'brach' was not found; perhaps you misspelled it?):
    /vendor/rails/activerecord/lib/active_record/association_preload.rb:39:in `preload_one_association'
    /vendor/rails/activerecord/lib/active_record/association_preload.rb:38:in `each'
    /vendor/rails/activerecord/lib/active_record/association_preload.rb:38:in `preload_one_association'
    /vendor/rails/activerecord/lib/active_record/association_preload.rb:17:in `preload_associations'
    /vendor/rails/activerecord/lib/active_record/association_preload.rb:16:in `preload_associations'
    /vendor/rails/activerecord/lib/active_record/association_preload.rb:16:in `each'
    /vendor/rails/activerecord/lib/active_record/association_preload.rb:16:in `preload_associations'
    /vendor/rails/activerecord/lib/active_record/base.rb:1343:in `find_every'
    /vendor/rails/activerecord/lib/active_record/base.rb:1303:in `find_initial'
    /vendor/rails/activerecord/lib/active_record/base.rb:534:in `find'
    /app/controllers/branches_controller.rb:99:in `remove_assignment'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:580:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:529:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:529:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:130:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:389:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:149:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    /vendor/rails/railties/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /home/mauricio/NetBeansProjects/reeds/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 11:49:30) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000655)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000044)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mBranch Columns (0.000409)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mBranch Load (0.000032)[0m   [0mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;36;1mAssignment Load (0.000185)[0m   [0;1mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;35;1mAssignment Columns (0.000399)[0m   [0mSHOW FIELDS FROM `assignments`[0m
  [4;36;1mSalesperson Load (0.000221)[0m   [0;1mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
  [4;35;1mSalesperson Columns (0.000428)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
  [4;36;1mSalesperson Load (0.000033)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
Rendered branches/_assignment (0.00287)
  [4;35;1mSalesperson Load (0.000038)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 2) [0m
Rendered branches/_assignment (0.00068)
Rendered branches/_salespeople_in_branch (0.00411)
Rendered branches/_salespeople_not_in_branch (0.00001)
  [4;36;1mMenuItem Load (0.000062)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000511)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000042)[0m   [0;1mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;35;1mMenuItem Load (0.000037)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000038)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00077)
  [4;35;1mPage Columns (0.000517)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000036)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01353)
Rendered menu_items/_menu (0.02395)
Completed in 0.06143 (16 reqs/sec) | Rendering: 0.02809 (45%) | DB: 0.00517 (8%) | 200 OK [http://localhost/branches/1]


Processing BranchesController#remove_assignment (for 127.0.0.1 at 2008-06-07 11:49:32) [DELETE]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "_method"=>"delete", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"remove_assignment", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000651)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000051)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mAssignment Load (0.000204)[0m   [0mSELECT * FROM `assignments` WHERE (`assignments`.`salesperson_id` = '1' AND `assignments`.`branch_id` = '1') LIMIT 1[0m
  [4;36;1mAssignment Columns (0.000401)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mBranch Load (0.000067)[0m   [0mSELECT * FROM `branches` WHERE (`branches`.id IN ('1')) [0m
  [4;36;1mBranch Columns (0.000384)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mSQL (0.000030)[0m   [0mBEGIN[0m
  [4;36;1mAssignment Destroy (0.000125)[0m   [0;1m DELETE FROM `assignments`
 WHERE `id` = 8
[0m
  [4;35;1mSQL (0.021322)[0m   [0mCOMMIT[0m
  [4;36;1mSalesperson Load (0.000374)[0m   [0;1mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering branches/remove_assignment
  [4;35;1mSalesperson Columns (0.000662)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
Rendered branches/_salesperson_not_in_branch (0.00385)
Rendered branches/_salespeople_not_in_branch (0.00417)
Completed in 0.11571 (8 reqs/sec) | Rendering: 0.00935 (8%) | DB: 0.02427 (20%) | 200 OK [http://localhost/branches/1/remove_assignment/1]


Processing BranchesController#remove_assignment (for 127.0.0.1 at 2008-06-07 11:49:34) [DELETE]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "_method"=>"delete", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"remove_assignment", "id"=>"2", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000638)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000044)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mAssignment Load (0.000184)[0m   [0;1mSELECT * FROM `assignments` WHERE (`assignments`.`salesperson_id` = '2' AND `assignments`.`branch_id` = '1') LIMIT 1[0m
  [4;35;1mAssignment Columns (0.000390)[0m   [0mSHOW FIELDS FROM `assignments`[0m
  [4;36;1mBranch Load (0.000046)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.id IN ('1')) [0m
  [4;35;1mBranch Columns (0.000340)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mSQL (0.000024)[0m   [0;1mBEGIN[0m
  [4;35;1mAssignment Destroy (0.000132)[0m   [0m DELETE FROM `assignments`
 WHERE `id` = 9
[0m
  [4;36;1mSQL (0.003198)[0m   [0;1mCOMMIT[0m
  [4;35;1mSalesperson Load (0.000253)[0m   [0mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering branches/remove_assignment
  [4;36;1mSalesperson Columns (0.000500)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
Rendered branches/_salesperson_not_in_branch (0.00253)
Rendered branches/_salesperson_not_in_branch (0.00032)
Rendered branches/_salespeople_not_in_branch (0.00325)
Completed in 0.04109 (24 reqs/sec) | Rendering: 0.00721 (17%) | DB: 0.00575 (13%) | 200 OK [http://localhost/branches/1/remove_assignment/2]


Processing BranchesController#assign (for 127.0.0.1 at 2008-06-07 11:49:36) [POST]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"assign", "id"=>"2", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000628)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000045)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000406)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000033)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mSalesperson Columns (0.000405)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
  [4;36;1mSalesperson Load (0.000037)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 2) [0m
  [4;35;1mAssignment Load (0.000160)[0m   [0mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1 AND (`assignments`.`salesperson_id` = 2)) LIMIT 1[0m
  [4;36;1mAssignment Columns (0.000406)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSQL (0.000056)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000205)[0m   [0;1mSELECT `salesperson_id` FROM `assignments` WHERE (`assignments`.salesperson_id = 2 AND `assignments`.branch_id = 1) [0m
  [4;35;1mAssignment Create (0.000109)[0m   [0mINSERT INTO `assignments` (`updated_at`, `branch_id`, `salesperson_id`, `enabled`, `created_at`) VALUES('2008-06-07 11:49:36', 1, 2, 1, '2008-06-07 11:49:36')[0m
  [4;36;1mSQL (0.001122)[0m   [0;1mCOMMIT[0m
Rendering branches/assign
  [4;35;1mAssignment Load (0.000169)[0m   [0mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1) [0m
  [4;36;1mSalesperson Load (0.000036)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 2) [0m
Rendered branches/_assignment (0.00174)
Rendered branches/_salespeople_in_branch (0.00255)
Completed in 0.03980 (25 reqs/sec) | Rendering: 0.00636 (15%) | DB: 0.00382 (9%) | 200 OK [http://localhost/branches/1/assign/2]


Processing BranchesController#assign (for 127.0.0.1 at 2008-06-07 11:49:38) [POST]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"assign", "id"=>"1", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000674)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000048)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mBranch Columns (0.000409)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mBranch Load (0.000033)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;35;1mSalesperson Columns (0.000435)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
  [4;36;1mSalesperson Load (0.000052)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
  [4;35;1mAssignment Load (0.000182)[0m   [0mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1 AND (`assignments`.`salesperson_id` = 1)) LIMIT 1[0m
  [4;36;1mAssignment Columns (0.000402)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSQL (0.000031)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000112)[0m   [0;1mSELECT `salesperson_id` FROM `assignments` WHERE (`assignments`.salesperson_id = 1 AND `assignments`.branch_id = 1) [0m
  [4;35;1mAssignment Create (0.000102)[0m   [0mINSERT INTO `assignments` (`updated_at`, `branch_id`, `salesperson_id`, `enabled`, `created_at`) VALUES('2008-06-07 11:49:38', 1, 1, 1, '2008-06-07 11:49:38')[0m
  [4;36;1mSQL (0.001046)[0m   [0;1mCOMMIT[0m
Rendering branches/assign
  [4;35;1mAssignment Load (0.000183)[0m   [0mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1) [0m
  [4;36;1mSalesperson Load (0.000043)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 2) [0m
Rendered branches/_assignment (0.00181)
  [4;35;1mSalesperson Load (0.000040)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
Rendered branches/_assignment (0.00064)
Rendered branches/_salespeople_in_branch (0.00359)
Completed in 0.04227 (23 reqs/sec) | Rendering: 0.00753 (17%) | DB: 0.00379 (8%) | 200 OK [http://localhost/branches/1/assign/1]


Processing BranchesController#remove_assignment (for 127.0.0.1 at 2008-06-07 11:49:49) [DELETE]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "_method"=>"delete", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"remove_assignment", "id"=>"1", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000642)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000073)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mAssignment Load (0.000205)[0m   [0;1mSELECT * FROM `assignments` WHERE (`assignments`.`salesperson_id` = '1' AND `assignments`.`branch_id` = '1') LIMIT 1[0m
  [4;35;1mAssignment Columns (0.000406)[0m   [0mSHOW FIELDS FROM `assignments`[0m
  [4;36;1mBranch Load (0.000077)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.id IN ('1')) [0m
  [4;35;1mBranch Columns (0.000475)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mSQL (0.000044)[0m   [0;1mBEGIN[0m
  [4;35;1mAssignment Destroy (0.000128)[0m   [0m DELETE FROM `assignments`
 WHERE `id` = 11
[0m
  [4;36;1mSQL (0.008346)[0m   [0;1mCOMMIT[0m
  [4;35;1mSalesperson Load (0.000257)[0m   [0mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering branches/remove_assignment
  [4;36;1mSalesperson Columns (0.000484)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
Rendered branches/_salesperson_not_in_branch (0.00272)
Rendered branches/_salespeople_not_in_branch (0.00316)
Completed in 0.09811 (10 reqs/sec) | Rendering: 0.00671 (6%) | DB: 0.01114 (11%) | 200 OK [http://localhost/branches/1/remove_assignment/1]


Processing BranchesController#remove_assignment (for 127.0.0.1 at 2008-06-07 11:49:52) [DELETE]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "_method"=>"delete", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"remove_assignment", "id"=>"2", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000923)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000047)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mAssignment Load (0.000291)[0m   [0mSELECT * FROM `assignments` WHERE (`assignments`.`salesperson_id` = '2' AND `assignments`.`branch_id` = '1') LIMIT 1[0m
  [4;36;1mAssignment Columns (0.000409)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mBranch Load (0.000048)[0m   [0mSELECT * FROM `branches` WHERE (`branches`.id IN ('1')) [0m
  [4;36;1mBranch Columns (0.000343)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mSQL (0.000024)[0m   [0mBEGIN[0m
  [4;36;1mAssignment Destroy (0.000112)[0m   [0;1m DELETE FROM `assignments`
 WHERE `id` = 10
[0m
  [4;35;1mSQL (0.001052)[0m   [0mCOMMIT[0m
  [4;36;1mSalesperson Load (0.000247)[0m   [0;1mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering branches/remove_assignment
  [4;35;1mSalesperson Columns (0.000474)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
Rendered branches/_salesperson_not_in_branch (0.00250)
Rendered branches/_salesperson_not_in_branch (0.00032)
Rendered branches/_salespeople_not_in_branch (0.00323)
Completed in 0.04377 (22 reqs/sec) | Rendering: 0.00686 (15%) | DB: 0.00397 (9%) | 200 OK [http://localhost/branches/1/remove_assignment/2]


Processing BranchesController#assign (for 127.0.0.1 at 2008-06-07 11:49:54) [POST]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"assign", "id"=>"1", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000842)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000060)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mBranch Columns (0.000542)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mBranch Load (0.000056)[0m   [0mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;36;1mSalesperson Columns (0.000594)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
  [4;35;1mSalesperson Load (0.000048)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
  [4;36;1mAssignment Load (0.000201)[0m   [0;1mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1 AND (`assignments`.`salesperson_id` = 1)) LIMIT 1[0m
  [4;35;1mAssignment Columns (0.000546)[0m   [0mSHOW FIELDS FROM `assignments`[0m
  [4;36;1mSQL (0.000045)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000148)[0m   [0mSELECT `salesperson_id` FROM `assignments` WHERE (`assignments`.salesperson_id = 1 AND `assignments`.branch_id = 1) [0m
  [4;36;1mAssignment Create (0.000130)[0m   [0;1mINSERT INTO `assignments` (`updated_at`, `branch_id`, `salesperson_id`, `enabled`, `created_at`) VALUES('2008-06-07 11:49:54', 1, 1, 1, '2008-06-07 11:49:54')[0m
  [4;35;1mSQL (0.001155)[0m   [0mCOMMIT[0m
Rendering branches/assign
  [4;36;1mAssignment Load (0.000208)[0m   [0;1mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1) [0m
  [4;35;1mSalesperson Load (0.000048)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
Rendered branches/_assignment (0.00252)
Rendered branches/_salespeople_in_branch (0.00364)
Completed in 0.06197 (16 reqs/sec) | Rendering: 0.00908 (14%) | DB: 0.00462 (7%) | 200 OK [http://localhost/branches/1/assign/1]


Processing BranchesController#assign (for 127.0.0.1 at 2008-06-07 11:49:56) [POST]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"assign", "id"=>"2", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000651)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000043)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mBranch Columns (0.000408)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mBranch Load (0.000033)[0m   [0mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;36;1mSalesperson Columns (0.000420)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
  [4;35;1mSalesperson Load (0.000036)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 2) [0m
  [4;36;1mAssignment Load (0.000170)[0m   [0;1mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1 AND (`assignments`.`salesperson_id` = 2)) LIMIT 1[0m
  [4;35;1mAssignment Columns (0.000448)[0m   [0mSHOW FIELDS FROM `assignments`[0m
  [4;36;1mSQL (0.000029)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000109)[0m   [0mSELECT `salesperson_id` FROM `assignments` WHERE (`assignments`.salesperson_id = 2 AND `assignments`.branch_id = 1) [0m
  [4;36;1mAssignment Create (0.000096)[0m   [0;1mINSERT INTO `assignments` (`updated_at`, `branch_id`, `salesperson_id`, `enabled`, `created_at`) VALUES('2008-06-07 11:49:56', 1, 2, 1, '2008-06-07 11:49:56')[0m
  [4;35;1mSQL (0.001194)[0m   [0mCOMMIT[0m
Rendering branches/assign
  [4;36;1mAssignment Load (0.000173)[0m   [0;1mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1) [0m
  [4;35;1mSalesperson Load (0.000036)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
Rendered branches/_assignment (0.00181)
  [4;36;1mSalesperson Load (0.000039)[0m   [0;1mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 2) [0m
Rendered branches/_assignment (0.00065)
Rendered branches/_salespeople_in_branch (0.00353)
Completed in 0.04457 (22 reqs/sec) | Rendering: 0.00846 (18%) | DB: 0.00389 (8%) | 200 OK [http://localhost/branches/1/assign/2]


Processing BranchesController#remove_assignment (for 127.0.0.1 at 2008-06-07 11:50:00) [DELETE]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "_method"=>"delete", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"remove_assignment", "id"=>"2", "controller"=>"branches"}
  [4;35;1mUser Columns (0.000671)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000061)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mAssignment Load (0.000210)[0m   [0mSELECT * FROM `assignments` WHERE (`assignments`.`salesperson_id` = '2' AND `assignments`.`branch_id` = '1') LIMIT 1[0m
  [4;36;1mAssignment Columns (0.000420)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mBranch Load (0.000052)[0m   [0mSELECT * FROM `branches` WHERE (`branches`.id IN ('1')) [0m
  [4;36;1mBranch Columns (0.000382)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mSQL (0.000024)[0m   [0mBEGIN[0m
  [4;36;1mAssignment Destroy (0.000113)[0m   [0;1m DELETE FROM `assignments`
 WHERE `id` = 13
[0m
  [4;35;1mSQL (0.004405)[0m   [0mCOMMIT[0m
  [4;36;1mSalesperson Load (0.000222)[0m   [0;1mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering branches/remove_assignment
  [4;35;1mSalesperson Columns (0.000479)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
Rendered branches/_salesperson_not_in_branch (0.00246)
Rendered branches/_salespeople_not_in_branch (0.00267)
Completed in 0.04314 (23 reqs/sec) | Rendering: 0.00619 (14%) | DB: 0.00704 (16%) | 200 OK [http://localhost/branches/1/remove_assignment/2]


Processing BranchesController#remove_assignment (for 127.0.0.1 at 2008-06-07 11:50:02) [DELETE]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "_method"=>"delete", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"remove_assignment", "id"=>"1", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000635)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000042)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mAssignment Load (0.000185)[0m   [0;1mSELECT * FROM `assignments` WHERE (`assignments`.`salesperson_id` = '1' AND `assignments`.`branch_id` = '1') LIMIT 1[0m
  [4;35;1mAssignment Columns (0.000995)[0m   [0mSHOW FIELDS FROM `assignments`[0m
  [4;36;1mBranch Load (0.000048)[0m   [0;1mSELECT * FROM `branches` WHERE (`branches`.id IN ('1')) [0m
  [4;35;1mBranch Columns (0.000343)[0m   [0mSHOW FIELDS FROM `branches`[0m
  [4;36;1mSQL (0.000024)[0m   [0;1mBEGIN[0m
  [4;35;1mAssignment Destroy (0.000113)[0m   [0m DELETE FROM `assignments`
 WHERE `id` = 12
[0m
  [4;36;1mSQL (0.001010)[0m   [0;1mCOMMIT[0m
  [4;35;1mSalesperson Load (0.000226)[0m   [0mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering branches/remove_assignment
  [4;36;1mSalesperson Columns (0.000470)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
Rendered branches/_salesperson_not_in_branch (0.00251)
Rendered branches/_salesperson_not_in_branch (0.00032)
Rendered branches/_salespeople_not_in_branch (0.00325)
Completed in 0.03834 (26 reqs/sec) | Rendering: 0.00692 (18%) | DB: 0.00409 (10%) | 200 OK [http://localhost/branches/1/remove_assignment/1]


Processing BranchesController#show (for 127.0.0.1 at 2008-06-07 11:51:20) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"branches"}
  [4;36;1mSQL (0.000099)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000033)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.001013)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000052)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mBranch Columns (0.000422)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mBranch Load (0.000060)[0m   [0mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;36;1mAssignment Load (0.000193)[0m   [0;1mSELECT `assignments`.* FROM `assignments` WHERE (`assignments`.branch_id IN (1)) [0m
  [4;35;1mSalesperson Load (0.000060)[0m   [0mselect s.* from salespeople s where s.id not in ( select a.salesperson_id from assignments a where a.branch_id = 1 ) order by s.name[0m
Rendering template within layouts/application
Rendering branches/show
Rendered branches/_salespeople_in_branch (0.00006)
  [4;36;1mSalesperson Columns (0.000487)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
Rendered branches/_salesperson_not_in_branch (0.00292)
Rendered branches/_salesperson_not_in_branch (0.00031)
Rendered branches/_salespeople_not_in_branch (0.00410)
  [4;35;1mMenuItem Load (0.000079)[0m   [0mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;36;1mMenuItem Columns (0.000522)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000053)[0m   [0mSELECT `menu_items`.* FROM `menu_items` WHERE (`menu_items`.parent_id IN (2,1)) [0m
  [4;36;1mMenuItem Load (0.000042)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000035)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00081)
  [4;36;1mPage Columns (0.000510)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000048)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendered menu_items/_menu_list (0.01376)
Rendered menu_items/_menu (0.02513)
Completed in 0.06971 (14 reqs/sec) | Rendering: 0.03397 (48%) | DB: 0.00371 (5%) | 200 OK [http://localhost/branches/1]


Processing BranchesController#assign (for 127.0.0.1 at 2008-06-07 11:51:31) [POST]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiUwYmVkN2UzNGFkYzUxMDFkZGU4
ZTc4NDZiZTljNTgwODoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--444f0cc0de91a80f11f3846f4bbaf6369ba780c2
  Parameters: {"branch_id"=>"1", "authenticity_token"=>"1e05b7092fb088e52b6b61222923a36b7b5023ad", "action"=>"assign", "id"=>"1", "controller"=>"branches"}
  [4;36;1mUser Columns (0.000656)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000043)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mBranch Columns (0.000402)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mBranch Load (0.000035)[0m   [0mSELECT * FROM `branches` WHERE (`branches`.`id` = 1) [0m
  [4;36;1mSalesperson Columns (0.000437)[0m   [0;1mSHOW FIELDS FROM `salespeople`[0m
  [4;35;1mSalesperson Load (0.000037)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
  [4;36;1mAssignment Load (0.000173)[0m   [0;1mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1 AND (`assignments`.`salesperson_id` = 1)) LIMIT 1[0m
  [4;35;1mAssignment Columns (0.000383)[0m   [0mSHOW FIELDS FROM `assignments`[0m
  [4;36;1mSQL (0.000029)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000105)[0m   [0mSELECT `salesperson_id` FROM `assignments` WHERE (`assignments`.salesperson_id = 1 AND `assignments`.branch_id = 1) [0m
  [4;36;1mAssignment Create (0.000105)[0m   [0;1mINSERT INTO `assignments` (`updated_at`, `branch_id`, `salesperson_id`, `enabled`, `created_at`) VALUES('2008-06-07 11:51:31', 1, 1, 1, '2008-06-07 11:51:31')[0m
  [4;35;1mSQL (0.007248)[0m   [0mCOMMIT[0m
Rendering branches/assign
  [4;36;1mAssignment Load (0.000201)[0m   [0;1mSELECT * FROM `assignments` WHERE (`assignments`.branch_id = 1) [0m
  [4;35;1mSalesperson Load (0.000043)[0m   [0mSELECT * FROM `salespeople` WHERE (`salespeople`.`id` = 1) [0m
Rendered branches/_assignment (0.00217)
Rendered branches/_salespeople_in_branch (0.00368)
Completed in 0.04919 (20 reqs/sec) | Rendering: 0.00778 (15%) | DB: 0.00990 (20%) | 200 OK [http://localhost/branches/1/assign/1]
  [4;36;1mSQL (0.000117)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000080)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.000281)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000071)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000061)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000197)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000406)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSQL (0.000344)[0m   [0mdescribe `assignments`[0m
  [4;36;1mSQL (0.000139)[0m   [0;1mSHOW KEYS FROM `assignments`[0m
  [4;35;1mSQL (0.000402)[0m   [0mSHOW FIELDS FROM `attachments`[0m
  [4;36;1mSQL (0.000388)[0m   [0;1mdescribe `attachments`[0m
  [4;35;1mSQL (0.000116)[0m   [0mSHOW KEYS FROM `attachments`[0m
  [4;36;1mSQL (0.000290)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mSQL (0.000286)[0m   [0mdescribe `branches`[0m
  [4;36;1mSQL (0.000114)[0m   [0;1mSHOW KEYS FROM `branches`[0m
  [4;35;1mSQL (0.000291)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mSQL (0.000291)[0m   [0;1mdescribe `categories`[0m
  [4;35;1mSQL (0.000116)[0m   [0mSHOW KEYS FROM `categories`[0m
  [4;36;1mSQL (0.000481)[0m   [0;1mSHOW FIELDS FROM `images`[0m
  [4;35;1mSQL (0.000460)[0m   [0mdescribe `images`[0m
  [4;36;1mSQL (0.000114)[0m   [0;1mSHOW KEYS FROM `images`[0m
  [4;35;1mSQL (0.000414)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mSQL (0.000405)[0m   [0;1mdescribe `menu_items`[0m
  [4;35;1mSQL (0.000120)[0m   [0mSHOW KEYS FROM `menu_items`[0m
  [4;36;1mSQL (0.041785)[0m   [0;1mSHOW FIELDS FROM `news_articles`[0m
  [4;35;1mSQL (0.001898)[0m   [0mdescribe `news_articles`[0m
  [4;36;1mSQL (0.000228)[0m   [0;1mSHOW KEYS FROM `news_articles`[0m
  [4;35;1mSQL (0.000417)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mSQL (0.000365)[0m   [0;1mdescribe `pages`[0m
  [4;35;1mSQL (0.000121)[0m   [0mSHOW KEYS FROM `pages`[0m
  [4;36;1mSQL (0.000395)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mSQL (0.000388)[0m   [0mdescribe `referrals`[0m
  [4;36;1mSQL (0.000121)[0m   [0;1mSHOW KEYS FROM `referrals`[0m
  [4;35;1mSQL (0.000965)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
  [4;36;1mSQL (0.000350)[0m   [0;1mdescribe `salespeople`[0m
  [4;35;1mSQL (0.000123)[0m   [0mSHOW KEYS FROM `salespeople`[0m
  [4;36;1mSQL (0.000471)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000462)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.000164)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (0.000395)[0m   [0mSHOW FIELDS FROM `visits`[0m
  [4;36;1mSQL (0.027327)[0m   [0;1mdescribe `visits`[0m
  [4;35;1mSQL (0.000371)[0m   [0mSHOW KEYS FROM `visits`[0m
  [4;36;1mSQL (0.000039)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000031)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.064854)[0m   [0;1mDROP DATABASE IF EXISTS `reeds_test`[0m
  [4;35;1mSQL (0.000116)[0m   [0mCREATE DATABASE `reeds_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.000039)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000031)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.007533)[0m   [0mCREATE TABLE `assignments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `branch_id` bigint(11) DEFAULT NULL NULL, `salesperson_id` bigint(11) DEFAULT NULL NULL, `enabled` tinyint(1) DEFAULT 1 NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000099)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001813)[0m   [0mCREATE TABLE `attachments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `size` bigint(11) DEFAULT NULL NULL, `filename` varchar(255) DEFAULT NULL NULL, `content_type` varchar(255) DEFAULT NULL NULL, `owner_id` bigint(11) DEFAULT NULL NULL, `owner_type` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000087)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001479)[0m   [0mCREATE TABLE `branches` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000115)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.008042)[0m   [0mCREATE TABLE `categories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001594)[0m   [0mCREATE TABLE `images` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `filename` varchar(255) DEFAULT NULL NULL, `content_type` varchar(255) DEFAULT NULL NULL, `size` bigint(11) DEFAULT NULL NULL, `width` bigint(11) DEFAULT NULL NULL, `height` bigint(11) DEFAULT NULL NULL, `parent_id` bigint(11) DEFAULT NULL NULL, `owner_id` bigint(11) DEFAULT NULL NULL, `owner_type` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000102)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001889)[0m   [0mCREATE TABLE `menu_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255) DEFAULT NULL NULL, `page_id` bigint(11) DEFAULT NULL NULL, `path` varchar(255) DEFAULT NULL NULL, `parent_id` bigint(11) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL, `position` bigint(11) DEFAULT NULL NULL, `depth` bigint(11) DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000107)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001643)[0m   [0mCREATE TABLE `news_articles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255) DEFAULT NULL NULL, `author` varchar(255) DEFAULT NULL NULL, `source_url` varchar(255) DEFAULT NULL NULL, `title_permalink` varchar(255) DEFAULT NULL NULL, `text` text DEFAULT NULL NULL, `rendered_text` text DEFAULT NULL NULL, `publish_at` datetime DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL, `category_id` bigint(11) DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003895)[0m   [0;1mCREATE UNIQUE INDEX `index_news_articles_on_title_permalink` ON `news_articles` (`title_permalink`)[0m
  [4;35;1mSQL (0.000254)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.010944)[0m   [0;1mCREATE TABLE `pages` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255) DEFAULT NULL NULL, `title_permalink` varchar(255) DEFAULT NULL NULL, `text` text DEFAULT NULL NULL, `rendered_text` text DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000216)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001727)[0m   [0;1mCREATE TABLE `referrals` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `source` varchar(255) DEFAULT NULL NULL, `description` text DEFAULT NULL NULL, `visits_count` bigint(11) DEFAULT 0 NULL, `redirect_to` varchar(255) DEFAULT '/' NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000124)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001940)[0m   [0;1mCREATE TABLE `salespeople` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `phone` varchar(255) DEFAULT NULL NULL, `email` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000123)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001982)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40) DEFAULT NULL NULL, `name` varchar(100) DEFAULT '' NULL, `email` varchar(100) DEFAULT NULL NULL, `crypted_password` varchar(40) DEFAULT NULL NULL, `salt` varchar(40) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL, `remember_token` varchar(40) DEFAULT NULL NULL, `remember_token_expires_at` datetime DEFAULT NULL NULL, `is_admin` tinyint(1) DEFAULT 0 NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003778)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (0.005390)[0m   [0;1mCREATE UNIQUE INDEX `index_users_on_email` ON `users` (`email`)[0m
  [4;35;1mSQL (0.000150)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.002009)[0m   [0;1mCREATE TABLE `visits` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `referral_id` bigint(11) DEFAULT NULL NULL, `referer` varchar(255) DEFAULT NULL NULL, `remote_ip` varchar(255) DEFAULT NULL NULL, `user_agent` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL, `referer_host` varchar(255) DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000135)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001452)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003469)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (0.000162)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.028262)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mSQL (0.000375)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080607034217')[0m
  [4;35;1mSQL (0.000274)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080606024632')[0m
  [4;36;1mSQL (0.000237)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080606200946')[0m
  [4;35;1mSQL (0.000212)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080604130146')[0m
  [4;36;1mSQL (0.000238)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080605205832')[0m
  [4;35;1mSQL (0.000246)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080605205428')[0m
  [4;36;1mSQL (0.000239)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080604024949')[0m
  [4;35;1mSQL (0.000229)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080605020537')[0m
  [4;36;1mSQL (0.000249)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080606021003')[0m
  [4;35;1mSQL (0.000221)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080607032939')[0m
  [4;36;1mSQL (0.000407)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080604170419')[0m
  [4;35;1mSQL (0.000316)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080604195242')[0m
  [4;36;1mSQL (0.000288)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080606224121')[0m
  [4;35;1mSQL (0.000286)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080606201507')[0m
  [4;36;1mSQL (0.000276)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080606124326')[0m
  [4;35;1mSQL (0.000260)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080604040527')[0m
  [4;36;1mSQL (0.000104)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000049)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.000257)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000078)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000071)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000189)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000403)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSQL (0.000355)[0m   [0mdescribe `assignments`[0m
  [4;36;1mSQL (0.000145)[0m   [0;1mSHOW KEYS FROM `assignments`[0m
  [4;35;1mSQL (0.000397)[0m   [0mSHOW FIELDS FROM `attachments`[0m
  [4;36;1mSQL (0.000983)[0m   [0;1mdescribe `attachments`[0m
  [4;35;1mSQL (0.000139)[0m   [0mSHOW KEYS FROM `attachments`[0m
  [4;36;1mSQL (0.000303)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mSQL (0.000285)[0m   [0mdescribe `branches`[0m
  [4;36;1mSQL (0.000128)[0m   [0;1mSHOW KEYS FROM `branches`[0m
  [4;35;1mSQL (0.000291)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mSQL (0.000284)[0m   [0;1mdescribe `categories`[0m
  [4;35;1mSQL (0.000125)[0m   [0mSHOW KEYS FROM `categories`[0m
  [4;36;1mSQL (0.000476)[0m   [0;1mSHOW FIELDS FROM `images`[0m
  [4;35;1mSQL (0.000457)[0m   [0mdescribe `images`[0m
  [4;36;1mSQL (0.000147)[0m   [0;1mSHOW KEYS FROM `images`[0m
  [4;35;1mSQL (0.000411)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mSQL (0.000412)[0m   [0;1mdescribe `menu_items`[0m
  [4;35;1mSQL (0.000127)[0m   [0mSHOW KEYS FROM `menu_items`[0m
  [4;36;1mSQL (0.039825)[0m   [0;1mSHOW FIELDS FROM `news_articles`[0m
  [4;35;1mSQL (0.002209)[0m   [0mdescribe `news_articles`[0m
  [4;36;1mSQL (0.000372)[0m   [0;1mSHOW KEYS FROM `news_articles`[0m
  [4;35;1mSQL (0.000411)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mSQL (0.000370)[0m   [0;1mdescribe `pages`[0m
  [4;35;1mSQL (0.000148)[0m   [0mSHOW KEYS FROM `pages`[0m
  [4;36;1mSQL (0.000387)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mSQL (0.000382)[0m   [0mdescribe `referrals`[0m
  [4;36;1mSQL (0.000129)[0m   [0;1mSHOW KEYS FROM `referrals`[0m
  [4;35;1mSQL (0.000335)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
  [4;36;1mSQL (0.000331)[0m   [0;1mdescribe `salespeople`[0m
  [4;35;1mSQL (0.000128)[0m   [0mSHOW KEYS FROM `salespeople`[0m
  [4;36;1mSQL (0.000487)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000471)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.000163)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (0.000385)[0m   [0mSHOW FIELDS FROM `visits`[0m
  [4;36;1mSQL (0.026633)[0m   [0;1mdescribe `visits`[0m
  [4;35;1mSQL (0.000754)[0m   [0mSHOW KEYS FROM `visits`[0m
  [4;36;1mSQL (0.000040)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000031)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.022188)[0m   [0;1mDROP DATABASE IF EXISTS `reeds_test`[0m
  [4;35;1mSQL (0.000108)[0m   [0mCREATE DATABASE `reeds_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.000038)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000031)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.007424)[0m   [0mCREATE TABLE `assignments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `branch_id` bigint(11) DEFAULT NULL NULL, `salesperson_id` bigint(11) DEFAULT NULL NULL, `enabled` tinyint(1) DEFAULT 1 NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000114)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001714)[0m   [0mCREATE TABLE `attachments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `size` bigint(11) DEFAULT NULL NULL, `filename` varchar(255) DEFAULT NULL NULL, `content_type` varchar(255) DEFAULT NULL NULL, `owner_id` bigint(11) DEFAULT NULL NULL, `owner_type` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000090)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001510)[0m   [0mCREATE TABLE `branches` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000089)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001835)[0m   [0mCREATE TABLE `categories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000099)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001838)[0m   [0mCREATE TABLE `images` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `filename` varchar(255) DEFAULT NULL NULL, `content_type` varchar(255) DEFAULT NULL NULL, `size` bigint(11) DEFAULT NULL NULL, `width` bigint(11) DEFAULT NULL NULL, `height` bigint(11) DEFAULT NULL NULL, `parent_id` bigint(11) DEFAULT NULL NULL, `owner_id` bigint(11) DEFAULT NULL NULL, `owner_type` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000102)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001614)[0m   [0mCREATE TABLE `menu_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255) DEFAULT NULL NULL, `page_id` bigint(11) DEFAULT NULL NULL, `path` varchar(255) DEFAULT NULL NULL, `parent_id` bigint(11) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL, `position` bigint(11) DEFAULT NULL NULL, `depth` bigint(11) DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000112)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001855)[0m   [0mCREATE TABLE `news_articles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255) DEFAULT NULL NULL, `author` varchar(255) DEFAULT NULL NULL, `source_url` varchar(255) DEFAULT NULL NULL, `title_permalink` varchar(255) DEFAULT NULL NULL, `text` text DEFAULT NULL NULL, `rendered_text` text DEFAULT NULL NULL, `publish_at` datetime DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL, `category_id` bigint(11) DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003979)[0m   [0;1mCREATE UNIQUE INDEX `index_news_articles_on_title_permalink` ON `news_articles` (`title_permalink`)[0m
  [4;35;1mSQL (0.000138)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001603)[0m   [0;1mCREATE TABLE `pages` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255) DEFAULT NULL NULL, `title_permalink` varchar(255) DEFAULT NULL NULL, `text` text DEFAULT NULL NULL, `rendered_text` text DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000113)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001886)[0m   [0;1mCREATE TABLE `referrals` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `source` varchar(255) DEFAULT NULL NULL, `description` text DEFAULT NULL NULL, `visits_count` bigint(11) DEFAULT 0 NULL, `redirect_to` varchar(255) DEFAULT '/' NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000121)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001543)[0m   [0;1mCREATE TABLE `salespeople` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `phone` varchar(255) DEFAULT NULL NULL, `email` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000136)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001854)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40) DEFAULT NULL NULL, `name` varchar(100) DEFAULT '' NULL, `email` varchar(100) DEFAULT NULL NULL, `crypted_password` varchar(40) DEFAULT NULL NULL, `salt` varchar(40) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL, `remember_token` varchar(40) DEFAULT NULL NULL, `remember_token_expires_at` datetime DEFAULT NULL NULL, `is_admin` tinyint(1) DEFAULT 0 NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.004084)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (0.004791)[0m   [0;1mCREATE UNIQUE INDEX `index_users_on_email` ON `users` (`email`)[0m
  [4;35;1mSQL (0.000154)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001844)[0m   [0;1mCREATE TABLE `visits` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `referral_id` bigint(11) DEFAULT NULL NULL, `referer` varchar(255) DEFAULT NULL NULL, `remote_ip` varchar(255) DEFAULT NULL NULL, `user_agent` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL, `referer_host` varchar(255) DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000166)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001702)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003176)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (0.000163)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.028090)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mSQL (0.000739)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080607034217')[0m
  [4;35;1mSQL (0.000322)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080606024632')[0m
  [4;36;1mSQL (0.000320)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080606200946')[0m
  [4;35;1mSQL (0.000311)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080604130146')[0m
  [4;36;1mSQL (0.000288)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080605205832')[0m
  [4;35;1mSQL (0.000272)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080605205428')[0m
  [4;36;1mSQL (0.000305)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080604024949')[0m
  [4;35;1mSQL (0.000285)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080605020537')[0m
  [4;36;1mSQL (0.000230)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080606021003')[0m
  [4;35;1mSQL (0.000251)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080607032939')[0m
  [4;36;1mSQL (0.000250)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080604170419')[0m
  [4;35;1mSQL (0.000263)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080604195242')[0m
  [4;36;1mSQL (0.000270)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080606224121')[0m
  [4;35;1mSQL (0.000240)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080606201507')[0m
  [4;36;1mSQL (0.000247)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080606124326')[0m
  [4;35;1mSQL (0.000226)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080604040527')[0m
  [4;36;1mSQL (0.000106)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000043)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.001606)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000062)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000096)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000248)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000566)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSQL (0.000478)[0m   [0mdescribe `assignments`[0m
  [4;36;1mSQL (0.000188)[0m   [0;1mSHOW KEYS FROM `assignments`[0m
  [4;35;1mSQL (0.000553)[0m   [0mSHOW FIELDS FROM `attachments`[0m
  [4;36;1mSQL (0.000525)[0m   [0;1mdescribe `attachments`[0m
  [4;35;1mSQL (0.000166)[0m   [0mSHOW KEYS FROM `attachments`[0m
  [4;36;1mSQL (0.000417)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mSQL (0.000406)[0m   [0mdescribe `branches`[0m
  [4;36;1mSQL (0.000177)[0m   [0;1mSHOW KEYS FROM `branches`[0m
  [4;35;1mSQL (0.000397)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mSQL (0.000403)[0m   [0;1mdescribe `categories`[0m
  [4;35;1mSQL (0.000169)[0m   [0mSHOW KEYS FROM `categories`[0m
  [4;36;1mSQL (0.000627)[0m   [0;1mSHOW FIELDS FROM `images`[0m
  [4;35;1mSQL (0.000616)[0m   [0mdescribe `images`[0m
  [4;36;1mSQL (0.000164)[0m   [0;1mSHOW KEYS FROM `images`[0m
  [4;35;1mSQL (0.000565)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mSQL (0.000566)[0m   [0;1mdescribe `menu_items`[0m
  [4;35;1mSQL (0.000131)[0m   [0mSHOW KEYS FROM `menu_items`[0m
  [4;36;1mSQL (0.044873)[0m   [0;1mSHOW FIELDS FROM `news_articles`[0m
  [4;35;1mSQL (0.001876)[0m   [0mdescribe `news_articles`[0m
  [4;36;1mSQL (0.000265)[0m   [0;1mSHOW KEYS FROM `news_articles`[0m
  [4;35;1mSQL (0.000380)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mSQL (0.001190)[0m   [0;1mdescribe `pages`[0m
  [4;35;1mSQL (0.000134)[0m   [0mSHOW KEYS FROM `pages`[0m
  [4;36;1mSQL (0.000366)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mSQL (0.000360)[0m   [0mdescribe `referrals`[0m
  [4;36;1mSQL (0.000280)[0m   [0;1mSHOW KEYS FROM `referrals`[0m
  [4;35;1mSQL (0.000483)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
  [4;36;1mSQL (0.000344)[0m   [0;1mdescribe `salespeople`[0m
  [4;35;1mSQL (0.000130)[0m   [0mSHOW KEYS FROM `salespeople`[0m
  [4;36;1mSQL (0.000436)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000426)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.000175)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (0.000368)[0m   [0mSHOW FIELDS FROM `visits`[0m
  [4;36;1mSQL (0.027694)[0m   [0;1mdescribe `visits`[0m
  [4;35;1mSQL (0.000445)[0m   [0mSHOW KEYS FROM `visits`[0m
  [4;36;1mSQL (0.000054)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000043)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.031984)[0m   [0;1mDROP DATABASE IF EXISTS `reeds_test`[0m
  [4;35;1mSQL (0.000101)[0m   [0mCREATE DATABASE `reeds_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.000038)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000031)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.000255)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.007178)[0m   [0mCREATE TABLE `assignments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `branch_id` bigint(11) DEFAULT NULL NULL, `salesperson_id` bigint(11) DEFAULT NULL NULL, `enabled` tinyint(1) DEFAULT 1 NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000106)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.015980)[0m   [0mCREATE TABLE `attachments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `size` bigint(11) DEFAULT NULL NULL, `filename` varchar(255) DEFAULT NULL NULL, `content_type` varchar(255) DEFAULT NULL NULL, `owner_id` bigint(11) DEFAULT NULL NULL, `owner_type` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000103)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001627)[0m   [0mCREATE TABLE `branches` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000131)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.002045)[0m   [0mCREATE TABLE `categories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000141)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001773)[0m   [0mCREATE TABLE `images` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `filename` varchar(255) DEFAULT NULL NULL, `content_type` varchar(255) DEFAULT NULL NULL, `size` bigint(11) DEFAULT NULL NULL, `width` bigint(11) DEFAULT NULL NULL, `height` bigint(11) DEFAULT NULL NULL, `parent_id` bigint(11) DEFAULT NULL NULL, `owner_id` bigint(11) DEFAULT NULL NULL, `owner_type` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000155)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.002188)[0m   [0mCREATE TABLE `menu_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255) DEFAULT NULL NULL, `page_id` bigint(11) DEFAULT NULL NULL, `path` varchar(255) DEFAULT NULL NULL, `parent_id` bigint(11) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL, `position` bigint(11) DEFAULT NULL NULL, `depth` bigint(11) DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000157)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.002086)[0m   [0mCREATE TABLE `news_articles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255) DEFAULT NULL NULL, `author` varchar(255) DEFAULT NULL NULL, `source_url` varchar(255) DEFAULT NULL NULL, `title_permalink` varchar(255) DEFAULT NULL NULL, `text` text DEFAULT NULL NULL, `rendered_text` text DEFAULT NULL NULL, `publish_at` datetime DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL, `category_id` bigint(11) DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.010668)[0m   [0;1mCREATE UNIQUE INDEX `index_news_articles_on_title_permalink` ON `news_articles` (`title_permalink`)[0m
  [4;35;1mSQL (0.000181)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.002244)[0m   [0;1mCREATE TABLE `pages` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255) DEFAULT NULL NULL, `title_permalink` varchar(255) DEFAULT NULL NULL, `text` text DEFAULT NULL NULL, `rendered_text` text DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000169)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.002068)[0m   [0;1mCREATE TABLE `referrals` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `source` varchar(255) DEFAULT NULL NULL, `description` text DEFAULT NULL NULL, `visits_count` bigint(11) DEFAULT 0 NULL, `redirect_to` varchar(255) DEFAULT '/' NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000167)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001629)[0m   [0;1mCREATE TABLE `salespeople` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `phone` varchar(255) DEFAULT NULL NULL, `email` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000177)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.003172)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40) DEFAULT NULL NULL, `name` varchar(100) DEFAULT '' NULL, `email` varchar(100) DEFAULT NULL NULL, `crypted_password` varchar(40) DEFAULT NULL NULL, `salt` varchar(40) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL, `remember_token` varchar(40) DEFAULT NULL NULL, `remember_token_expires_at` datetime DEFAULT NULL NULL, `is_admin` tinyint(1) DEFAULT 0 NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.010476)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (0.004592)[0m   [0;1mCREATE UNIQUE INDEX `index_users_on_email` ON `users` (`email`)[0m
  [4;35;1mSQL (0.001393)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.002628)[0m   [0;1mCREATE TABLE `visits` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `referral_id` bigint(11) DEFAULT NULL NULL, `referer` varchar(255) DEFAULT NULL NULL, `remote_ip` varchar(255) DEFAULT NULL NULL, `user_agent` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL, `referer_host` varchar(255) DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000211)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.012163)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003640)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (0.000292)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.028285)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mSQL (0.000404)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080607034217')[0m
  [4;35;1mSQL (0.000241)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080606024632')[0m
  [4;36;1mSQL (0.000226)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080606200946')[0m
  [4;35;1mSQL (0.000253)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080604130146')[0m
  [4;36;1mSQL (0.000223)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080605205832')[0m
  [4;35;1mSQL (0.000253)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080605205428')[0m
  [4;36;1mSQL (0.000247)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080604024949')[0m
  [4;35;1mSQL (0.000262)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080605020537')[0m
  [4;36;1mSQL (0.000241)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080606021003')[0m
  [4;35;1mSQL (0.000247)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080607032939')[0m
  [4;36;1mSQL (0.000276)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080604170419')[0m
  [4;35;1mSQL (0.000227)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080604195242')[0m
  [4;36;1mSQL (0.000251)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080606224121')[0m
  [4;35;1mSQL (0.000224)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080606201507')[0m
  [4;36;1mSQL (0.000252)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080606124326')[0m
  [4;35;1mSQL (0.000222)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080604040527')[0m
  [4;36;1mSQL (0.000103)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000045)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.000256)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000077)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000072)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000199)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000428)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSQL (0.000344)[0m   [0mdescribe `assignments`[0m
  [4;36;1mSQL (0.000143)[0m   [0;1mSHOW KEYS FROM `assignments`[0m
  [4;35;1mSQL (0.000449)[0m   [0mSHOW FIELDS FROM `attachments`[0m
  [4;36;1mSQL (0.000524)[0m   [0;1mdescribe `attachments`[0m
  [4;35;1mSQL (0.000157)[0m   [0mSHOW KEYS FROM `attachments`[0m
  [4;36;1mSQL (0.000472)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mSQL (0.000301)[0m   [0mdescribe `branches`[0m
  [4;36;1mSQL (0.000124)[0m   [0;1mSHOW KEYS FROM `branches`[0m
  [4;35;1mSQL (0.000381)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mSQL (0.000289)[0m   [0;1mdescribe `categories`[0m
  [4;35;1mSQL (0.000122)[0m   [0mSHOW KEYS FROM `categories`[0m
  [4;36;1mSQL (0.000500)[0m   [0;1mSHOW FIELDS FROM `images`[0m
  [4;35;1mSQL (0.000455)[0m   [0mdescribe `images`[0m
  [4;36;1mSQL (0.000130)[0m   [0;1mSHOW KEYS FROM `images`[0m
  [4;35;1mSQL (0.000465)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mSQL (0.000446)[0m   [0;1mdescribe `menu_items`[0m
  [4;35;1mSQL (0.000130)[0m   [0mSHOW KEYS FROM `menu_items`[0m
  [4;36;1mSQL (0.041602)[0m   [0;1mSHOW FIELDS FROM `news_articles`[0m
  [4;35;1mSQL (0.001748)[0m   [0mdescribe `news_articles`[0m
  [4;36;1mSQL (0.000217)[0m   [0;1mSHOW KEYS FROM `news_articles`[0m
  [4;35;1mSQL (0.000469)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mSQL (0.000359)[0m   [0;1mdescribe `pages`[0m
  [4;35;1mSQL (0.000120)[0m   [0mSHOW KEYS FROM `pages`[0m
  [4;36;1mSQL (0.000385)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mSQL (0.000381)[0m   [0mdescribe `referrals`[0m
  [4;36;1mSQL (0.000120)[0m   [0;1mSHOW KEYS FROM `referrals`[0m
  [4;35;1mSQL (0.000335)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
  [4;36;1mSQL (0.000408)[0m   [0;1mdescribe `salespeople`[0m
  [4;35;1mSQL (0.000126)[0m   [0mSHOW KEYS FROM `salespeople`[0m
  [4;36;1mSQL (0.000505)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000456)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.000165)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (0.000409)[0m   [0mSHOW FIELDS FROM `visits`[0m
  [4;36;1mSQL (0.026616)[0m   [0;1mdescribe `visits`[0m
  [4;35;1mSQL (0.000368)[0m   [0mSHOW KEYS FROM `visits`[0m
  [4;36;1mSQL (0.000064)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000043)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.024819)[0m   [0;1mDROP DATABASE IF EXISTS `reeds_test`[0m
  [4;35;1mSQL (0.000166)[0m   [0mCREATE DATABASE `reeds_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.000040)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000032)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.000112)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.004805)[0m   [0mCREATE TABLE `assignments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `branch_id` bigint(11) DEFAULT NULL NULL, `salesperson_id` bigint(11) DEFAULT NULL NULL, `enabled` tinyint(1) DEFAULT 1 NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000100)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001782)[0m   [0mCREATE TABLE `attachments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `size` bigint(11) DEFAULT NULL NULL, `filename` varchar(255) DEFAULT NULL NULL, `content_type` varchar(255) DEFAULT NULL NULL, `owner_id` bigint(11) DEFAULT NULL NULL, `owner_type` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000098)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001515)[0m   [0mCREATE TABLE `branches` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000092)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001729)[0m   [0mCREATE TABLE `categories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000101)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.002010)[0m   [0mCREATE TABLE `images` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `filename` varchar(255) DEFAULT NULL NULL, `content_type` varchar(255) DEFAULT NULL NULL, `size` bigint(11) DEFAULT NULL NULL, `width` bigint(11) DEFAULT NULL NULL, `height` bigint(11) DEFAULT NULL NULL, `parent_id` bigint(11) DEFAULT NULL NULL, `owner_id` bigint(11) DEFAULT NULL NULL, `owner_type` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000107)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001584)[0m   [0mCREATE TABLE `menu_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255) DEFAULT NULL NULL, `page_id` bigint(11) DEFAULT NULL NULL, `path` varchar(255) DEFAULT NULL NULL, `parent_id` bigint(11) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL, `position` bigint(11) DEFAULT NULL NULL, `depth` bigint(11) DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000145)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001831)[0m   [0mCREATE TABLE `news_articles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255) DEFAULT NULL NULL, `author` varchar(255) DEFAULT NULL NULL, `source_url` varchar(255) DEFAULT NULL NULL, `title_permalink` varchar(255) DEFAULT NULL NULL, `text` text DEFAULT NULL NULL, `rendered_text` text DEFAULT NULL NULL, `publish_at` datetime DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL, `category_id` bigint(11) DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003903)[0m   [0;1mCREATE UNIQUE INDEX `index_news_articles_on_title_permalink` ON `news_articles` (`title_permalink`)[0m
  [4;35;1mSQL (0.000136)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001860)[0m   [0;1mCREATE TABLE `pages` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255) DEFAULT NULL NULL, `title_permalink` varchar(255) DEFAULT NULL NULL, `text` text DEFAULT NULL NULL, `rendered_text` text DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000132)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001865)[0m   [0;1mCREATE TABLE `referrals` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `source` varchar(255) DEFAULT NULL NULL, `description` text DEFAULT NULL NULL, `visits_count` bigint(11) DEFAULT 0 NULL, `redirect_to` varchar(255) DEFAULT '/' NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000120)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001555)[0m   [0;1mCREATE TABLE `salespeople` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `phone` varchar(255) DEFAULT NULL NULL, `email` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000119)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001876)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40) DEFAULT NULL NULL, `name` varchar(100) DEFAULT '' NULL, `email` varchar(100) DEFAULT NULL NULL, `crypted_password` varchar(40) DEFAULT NULL NULL, `salt` varchar(40) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL, `remember_token` varchar(40) DEFAULT NULL NULL, `remember_token_expires_at` datetime DEFAULT NULL NULL, `is_admin` tinyint(1) DEFAULT 0 NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003924)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (0.004101)[0m   [0;1mCREATE UNIQUE INDEX `index_users_on_email` ON `users` (`email`)[0m
  [4;35;1mSQL (0.000158)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001842)[0m   [0;1mCREATE TABLE `visits` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `referral_id` bigint(11) DEFAULT NULL NULL, `referer` varchar(255) DEFAULT NULL NULL, `remote_ip` varchar(255) DEFAULT NULL NULL, `user_agent` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL, `referer_host` varchar(255) DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000166)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001677)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003353)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (0.000139)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.028303)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mSQL (0.000352)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080607034217')[0m
  [4;35;1mSQL (0.000252)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080606024632')[0m
  [4;36;1mSQL (0.000245)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080606200946')[0m
  [4;35;1mSQL (0.000207)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080604130146')[0m
  [4;36;1mSQL (0.000239)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080605205832')[0m
  [4;35;1mSQL (0.000310)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080605205428')[0m
  [4;36;1mSQL (0.000221)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080604024949')[0m
  [4;35;1mSQL (0.000249)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080605020537')[0m
  [4;36;1mSQL (0.000211)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080606021003')[0m
  [4;35;1mSQL (0.000255)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080607032939')[0m
  [4;36;1mSQL (0.000215)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080604170419')[0m
  [4;35;1mSQL (0.000252)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080604195242')[0m
  [4;36;1mSQL (0.000220)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080606224121')[0m
  [4;35;1mSQL (0.000248)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080606201507')[0m
  [4;36;1mSQL (0.000220)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080606124326')[0m
  [4;35;1mSQL (0.000250)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080604040527')[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000031)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.000189)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000042)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000088)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000184)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000385)[0m   [0;1mSHOW FIELDS FROM `assignments`[0m
  [4;35;1mSQL (0.000322)[0m   [0mdescribe `assignments`[0m
  [4;36;1mSQL (0.000133)[0m   [0;1mSHOW KEYS FROM `assignments`[0m
  [4;35;1mSQL (0.000369)[0m   [0mSHOW FIELDS FROM `attachments`[0m
  [4;36;1mSQL (0.000362)[0m   [0;1mdescribe `attachments`[0m
  [4;35;1mSQL (0.000113)[0m   [0mSHOW KEYS FROM `attachments`[0m
  [4;36;1mSQL (0.000275)[0m   [0;1mSHOW FIELDS FROM `branches`[0m
  [4;35;1mSQL (0.000271)[0m   [0mdescribe `branches`[0m
  [4;36;1mSQL (0.000113)[0m   [0;1mSHOW KEYS FROM `branches`[0m
  [4;35;1mSQL (0.000273)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mSQL (0.000273)[0m   [0;1mdescribe `categories`[0m
  [4;35;1mSQL (0.000119)[0m   [0mSHOW KEYS FROM `categories`[0m
  [4;36;1mSQL (0.000439)[0m   [0;1mSHOW FIELDS FROM `images`[0m
  [4;35;1mSQL (0.000424)[0m   [0mdescribe `images`[0m
  [4;36;1mSQL (0.000112)[0m   [0;1mSHOW KEYS FROM `images`[0m
  [4;35;1mSQL (0.000382)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mSQL (0.000376)[0m   [0;1mdescribe `menu_items`[0m
  [4;35;1mSQL (0.000117)[0m   [0mSHOW KEYS FROM `menu_items`[0m
  [4;36;1mSQL (0.041695)[0m   [0;1mSHOW FIELDS FROM `news_articles`[0m
  [4;35;1mSQL (0.001758)[0m   [0mdescribe `news_articles`[0m
  [4;36;1mSQL (0.000231)[0m   [0;1mSHOW KEYS FROM `news_articles`[0m
  [4;35;1mSQL (0.000385)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mSQL (0.000360)[0m   [0;1mdescribe `pages`[0m
  [4;35;1mSQL (0.000128)[0m   [0mSHOW KEYS FROM `pages`[0m
  [4;36;1mSQL (0.000371)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mSQL (0.000368)[0m   [0mdescribe `referrals`[0m
  [4;36;1mSQL (0.000127)[0m   [0;1mSHOW KEYS FROM `referrals`[0m
  [4;35;1mSQL (0.000332)[0m   [0mSHOW FIELDS FROM `salespeople`[0m
  [4;36;1mSQL (0.000315)[0m   [0;1mdescribe `salespeople`[0m
  [4;35;1mSQL (0.000127)[0m   [0mSHOW KEYS FROM `salespeople`[0m
  [4;36;1mSQL (0.000436)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000431)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.000172)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (0.000398)[0m   [0mSHOW FIELDS FROM `visits`[0m
  [4;36;1mSQL (0.027723)[0m   [0;1mdescribe `visits`[0m
  [4;35;1mSQL (0.000396)[0m   [0mSHOW KEYS FROM `visits`[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000031)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.032036)[0m   [0;1mDROP DATABASE IF EXISTS `reeds_test`[0m
  [4;35;1mSQL (0.000099)[0m   [0mCREATE DATABASE `reeds_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000031)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.005919)[0m   [0mCREATE TABLE `assignments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `branch_id` bigint(11) DEFAULT NULL NULL, `salesperson_id` bigint(11) DEFAULT NULL NULL, `enabled` tinyint(1) DEFAULT 1 NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000097)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001854)[0m   [0mCREATE TABLE `attachments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `size` bigint(11) DEFAULT NULL NULL, `filename` varchar(255) DEFAULT NULL NULL, `content_type` varchar(255) DEFAULT NULL NULL, `owner_id` bigint(11) DEFAULT NULL NULL, `owner_type` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000095)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001531)[0m   [0mCREATE TABLE `branches` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000090)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001806)[0m   [0mCREATE TABLE `categories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000100)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001763)[0m   [0mCREATE TABLE `images` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `filename` varchar(255) DEFAULT NULL NULL, `content_type` varchar(255) DEFAULT NULL NULL, `size` bigint(11) DEFAULT NULL NULL, `width` bigint(11) DEFAULT NULL NULL, `height` bigint(11) DEFAULT NULL NULL, `parent_id` bigint(11) DEFAULT NULL NULL, `owner_id` bigint(11) DEFAULT NULL NULL, `owner_type` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000111)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.002848)[0m   [0mCREATE TABLE `menu_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255) DEFAULT NULL NULL, `page_id` bigint(11) DEFAULT NULL NULL, `path` varchar(255) DEFAULT NULL NULL, `parent_id` bigint(11) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL, `position` bigint(11) DEFAULT NULL NULL, `depth` bigint(11) DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000188)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001968)[0m   [0mCREATE TABLE `news_articles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255) DEFAULT NULL NULL, `author` varchar(255) DEFAULT NULL NULL, `source_url` varchar(255) DEFAULT NULL NULL, `title_permalink` varchar(255) DEFAULT NULL NULL, `text` text DEFAULT NULL NULL, `rendered_text` text DEFAULT NULL NULL, `publish_at` datetime DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL, `category_id` bigint(11) DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003821)[0m   [0;1mCREATE UNIQUE INDEX `index_news_articles_on_title_permalink` ON `news_articles` (`title_permalink`)[0m
  [4;35;1mSQL (0.000142)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001925)[0m   [0;1mCREATE TABLE `pages` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255) DEFAULT NULL NULL, `title_permalink` varchar(255) DEFAULT NULL NULL, `text` text DEFAULT NULL NULL, `rendered_text` text DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000118)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.015745)[0m   [0;1mCREATE TABLE `referrals` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `source` varchar(255) DEFAULT NULL NULL, `description` text DEFAULT NULL NULL, `visits_count` bigint(11) DEFAULT 0 NULL, `redirect_to` varchar(255) DEFAULT '/' NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000131)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001542)[0m   [0;1mCREATE TABLE `salespeople` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `phone` varchar(255) DEFAULT NULL NULL, `email` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000120)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001921)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40) DEFAULT NULL NULL, `name` varchar(100) DEFAULT '' NULL, `email` varchar(100) DEFAULT NULL NULL, `crypted_password` varchar(40) DEFAULT NULL NULL, `salt` varchar(40) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL, `remember_token` varchar(40) DEFAULT NULL NULL, `remember_token_expires_at` datetime DEFAULT NULL NULL, `is_admin` tinyint(1) DEFAULT 0 NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003982)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (0.008928)[0m   [0;1mCREATE UNIQUE INDEX `index_users_on_email` ON `users` (`email`)[0m
  [4;35;1mSQL (0.000152)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001733)[0m   [0;1mCREATE TABLE `visits` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `referral_id` bigint(11) DEFAULT NULL NULL, `referer` varchar(255) DEFAULT NULL NULL, `remote_ip` varchar(255) DEFAULT NULL NULL, `user_agent` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL, `referer_host` varchar(255) DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000163)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001772)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003420)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (0.000138)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.028361)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mSQL (0.000407)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080607034217')[0m
  [4;35;1mSQL (0.000287)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080606024632')[0m
  [4;36;1mSQL (0.000247)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080606200946')[0m
  [4;35;1mSQL (0.000260)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080604130146')[0m
  [4;36;1mSQL (0.000280)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080605205832')[0m
  [4;35;1mSQL (0.000274)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080605205428')[0m
  [4;36;1mSQL (0.000257)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080604024949')[0m
  [4;35;1mSQL (0.000256)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080605020537')[0m
  [4;36;1mSQL (0.000262)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080606021003')[0m
  [4;35;1mSQL (0.000240)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080607032939')[0m
  [4;36;1mSQL (0.000247)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080604170419')[0m
  [4;35;1mSQL (0.000226)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080604195242')[0m
  [4;36;1mSQL (0.000252)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080606224121')[0m
  [4;35;1mSQL (0.000224)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080606201507')[0m
  [4;36;1mSQL (0.000241)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080606124326')[0m
  [4;35;1mSQL (0.000233)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080604040527')[0m
