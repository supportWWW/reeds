  [4;36;1mSQL (0.000062)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000035)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.000153)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000176)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000119)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000052)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to UpdatePositionOnMenuItems (20080605205832)
  [4;36;1mSQL (0.000026)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.001946)[0m   [0mDELETE FROM schema_migrations WHERE version = '20080605205832'[0m
  [4;36;1mSQL (0.000118)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000118)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000384)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mSQL (0.000333)[0m   [0mdescribe `categories`[0m
  [4;36;1mSQL (0.000129)[0m   [0;1mSHOW KEYS FROM `categories`[0m
  [4;35;1mSQL (0.000471)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mSQL (0.000452)[0m   [0;1mdescribe `menu_items`[0m
  [4;35;1mSQL (0.000127)[0m   [0mSHOW KEYS FROM `menu_items`[0m
  [4;36;1mSQL (0.000513)[0m   [0;1mSHOW FIELDS FROM `news_articles`[0m
  [4;35;1mSQL (0.000504)[0m   [0mdescribe `news_articles`[0m
  [4;36;1mSQL (0.000206)[0m   [0;1mSHOW KEYS FROM `news_articles`[0m
  [4;35;1mSQL (0.000571)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mSQL (0.000521)[0m   [0;1mdescribe `pages`[0m
  [4;35;1mSQL (0.000197)[0m   [0mSHOW KEYS FROM `pages`[0m
  [4;36;1mSQL (0.000689)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000544)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.000171)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (0.000107)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000064)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000025)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000024)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000024)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000025)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000024)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000024)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20080604024949)
  [4;35;1mSQL (0.000026)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateAdminGuy (20080604040527)
  [4;36;1mSQL (0.000025)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateNewsArticles (20080604130146)
  [4;35;1mSQL (0.000025)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateCategories (20080604170419)
  [4;36;1mSQL (0.000025)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePages (20080604195242)
  [4;35;1mSQL (0.000024)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateMenuItems (20080605020537)
  [4;36;1mSQL (0.000024)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AddPositionToMenuItems (20080605205428)
  [4;35;1mSQL (0.000025)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to UpdatePositionOnMenuItems (20080605205832)
  [4;36;1mSQL (0.000024)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mMenuItem Load (0.000042)[0m   [0mSELECT * FROM `menu_items` [0m
  [4;36;1mMenuItem Columns (0.000572)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mSQL (0.000062)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000034)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.000154)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000062)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000025)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000130)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000045)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000026)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddPositionToMenuItems (20080605205428)
  [4;36;1mSQL (0.000026)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000000)[0m   [0mMysql::Error: Can't DROP 'depht'; check that column/key exists: ALTER TABLE `menu_items` DROP `depht`[0m
  [4;36;1mSQL (0.000063)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000032)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.000152)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000067)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000027)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000139)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000025)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddPositionToMenuItems (20080605205428)
  [4;36;1mSQL (0.000025)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.013323)[0m   [0mALTER TABLE `menu_items` DROP `depth`[0m
  [4;36;1mSQL (0.000322)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20080605205428'[0m
  [4;35;1mSQL (0.000127)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000124)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000398)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mSQL (0.000318)[0m   [0;1mdescribe `categories`[0m
  [4;35;1mSQL (0.000126)[0m   [0mSHOW KEYS FROM `categories`[0m
  [4;36;1mSQL (0.000509)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mSQL (0.000423)[0m   [0mdescribe `menu_items`[0m
  [4;36;1mSQL (0.000132)[0m   [0;1mSHOW KEYS FROM `menu_items`[0m
  [4;35;1mSQL (0.000521)[0m   [0mSHOW FIELDS FROM `news_articles`[0m
  [4;36;1mSQL (0.000498)[0m   [0;1mdescribe `news_articles`[0m
  [4;35;1mSQL (0.000189)[0m   [0mSHOW KEYS FROM `news_articles`[0m
  [4;36;1mSQL (0.000560)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mSQL (0.000537)[0m   [0mdescribe `pages`[0m
  [4;36;1mSQL (0.000182)[0m   [0;1mSHOW KEYS FROM `pages`[0m
  [4;35;1mSQL (0.000787)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000821)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.000220)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.000138)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000090)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000043)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000030)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000024)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000024)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000024)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20080604024949)
  [4;35;1mSQL (0.000025)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateAdminGuy (20080604040527)
  [4;36;1mSQL (0.000031)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateNewsArticles (20080604130146)
  [4;35;1mSQL (0.000026)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateCategories (20080604170419)
  [4;36;1mSQL (0.000025)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePages (20080604195242)
  [4;35;1mSQL (0.000025)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateMenuItems (20080605020537)
  [4;36;1mSQL (0.000024)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AddPositionToMenuItems (20080605205428)
  [4;35;1mSQL (0.000025)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.004578)[0m   [0;1mALTER TABLE `menu_items` ADD `depth` int(11)[0m
  [4;35;1mSQL (0.000296)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20080605205428')[0m
Migrating to UpdatePositionOnMenuItems (20080605205832)
  [4;36;1mSQL (0.000135)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mMenuItem Load (0.000202)[0m   [0mSELECT * FROM `menu_items` [0m
  [4;36;1mMenuItem Columns (0.000639)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Update (0.000627)[0m   [0mUPDATE `menu_items` SET `depth` = 0 WHERE (`menu_items`.`id` = 1) [0m
  [4;36;1mMenuItem Update (0.000298)[0m   [0;1mUPDATE `menu_items` SET `depth` = 0 WHERE (`menu_items`.`id` = 2) [0m
  [4;35;1mMenuItem Load (0.031960)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.`id` = 2) [0m
  [4;36;1mMenuItem Update (0.001635)[0m   [0;1mUPDATE `menu_items` SET `depth` = 0 WHERE (`menu_items`.`id` = 3) [0m
  [4;35;1mMenuItem Load (0.005401)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.`id` = 2) [0m
  [4;36;1mMenuItem Update (0.000493)[0m   [0;1mUPDATE `menu_items` SET `depth` = 0 WHERE (`menu_items`.`id` = 4) [0m
  [4;35;1mSQL (0.000331)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20080605205832')[0m
  [4;36;1mSQL (0.000106)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000063)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mMenuItem Load (0.000350)[0m   [0;1mSELECT * FROM `menu_items` [0m
  [4;35;1mMenuItem Columns (0.000723)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mSQL (0.000069)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000035)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.000172)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000176)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000123)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000054)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to UpdatePositionOnMenuItems (20080605205832)
  [4;36;1mSQL (0.000028)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.002563)[0m   [0mDELETE FROM schema_migrations WHERE version = '20080605205832'[0m
  [4;36;1mSQL (0.000124)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000121)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000394)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mSQL (0.000336)[0m   [0mdescribe `categories`[0m
  [4;36;1mSQL (0.000132)[0m   [0;1mSHOW KEYS FROM `categories`[0m
  [4;35;1mSQL (0.000542)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mSQL (0.000457)[0m   [0;1mdescribe `menu_items`[0m
  [4;35;1mSQL (0.000125)[0m   [0mSHOW KEYS FROM `menu_items`[0m
  [4;36;1mSQL (0.000553)[0m   [0;1mSHOW FIELDS FROM `news_articles`[0m
  [4;35;1mSQL (0.000689)[0m   [0mdescribe `news_articles`[0m
  [4;36;1mSQL (0.000194)[0m   [0;1mSHOW KEYS FROM `news_articles`[0m
  [4;35;1mSQL (0.000604)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mSQL (0.000517)[0m   [0;1mdescribe `pages`[0m
  [4;35;1mSQL (0.000139)[0m   [0mSHOW KEYS FROM `pages`[0m
  [4;36;1mSQL (0.000538)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000519)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.000164)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (0.000118)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000069)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000026)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000025)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000028)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000033)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000027)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000025)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20080604024949)
  [4;35;1mSQL (0.000025)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateAdminGuy (20080604040527)
  [4;36;1mSQL (0.000025)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateNewsArticles (20080604130146)
  [4;35;1mSQL (0.000024)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateCategories (20080604170419)
  [4;36;1mSQL (0.000025)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePages (20080604195242)
  [4;35;1mSQL (0.000038)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateMenuItems (20080605020537)
  [4;36;1mSQL (0.000025)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AddPositionToMenuItems (20080605205428)
  [4;35;1mSQL (0.000024)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to UpdatePositionOnMenuItems (20080605205832)
  [4;36;1mSQL (0.000025)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mMenuItem Load (0.000044)[0m   [0mSELECT * FROM `menu_items` [0m
  [4;36;1mMenuItem Columns (0.000599)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Update (0.000122)[0m   [0mUPDATE `menu_items` SET `depth` = 0 WHERE (`menu_items`.`id` = 1) [0m
  [4;36;1mMenuItem Update (0.000058)[0m   [0;1mUPDATE `menu_items` SET `depth` = 0 WHERE (`menu_items`.`id` = 2) [0m
  [4;35;1mMenuItem Load (0.033842)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.`id` = 2) [0m
  [4;36;1mMenuItem Update (0.000176)[0m   [0;1mUPDATE `menu_items` SET `depth` = 0 WHERE (`menu_items`.`id` = 3) [0m
  [4;35;1mMenuItem Load (0.006440)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.`id` = 2) [0m
  [4;36;1mMenuItem Update (0.000177)[0m   [0;1mUPDATE `menu_items` SET `depth` = 0 WHERE (`menu_items`.`id` = 4) [0m
  [4;35;1mSQL (0.000357)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20080605205832')[0m
  [4;36;1mSQL (0.000066)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000133)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.000302)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000188)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000129)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000051)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to UpdatePositionOnMenuItems (20080605205832)
  [4;36;1mSQL (0.000028)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.002274)[0m   [0mDELETE FROM schema_migrations WHERE version = '20080605205832'[0m
  [4;36;1mSQL (0.000115)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000119)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000396)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mSQL (0.000336)[0m   [0mdescribe `categories`[0m
  [4;36;1mSQL (0.000126)[0m   [0;1mSHOW KEYS FROM `categories`[0m
  [4;35;1mSQL (0.000483)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mSQL (0.000453)[0m   [0;1mdescribe `menu_items`[0m
  [4;35;1mSQL (0.000125)[0m   [0mSHOW KEYS FROM `menu_items`[0m
  [4;36;1mSQL (0.000515)[0m   [0;1mSHOW FIELDS FROM `news_articles`[0m
  [4;35;1mSQL (0.000688)[0m   [0mdescribe `news_articles`[0m
  [4;36;1mSQL (0.000251)[0m   [0;1mSHOW KEYS FROM `news_articles`[0m
  [4;35;1mSQL (0.000580)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mSQL (0.000443)[0m   [0;1mdescribe `pages`[0m
  [4;35;1mSQL (0.000126)[0m   [0mSHOW KEYS FROM `pages`[0m
  [4;36;1mSQL (0.000632)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000531)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.000166)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (0.000107)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000065)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000027)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000026)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000026)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000025)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000025)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000024)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20080604024949)
  [4;35;1mSQL (0.000026)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateAdminGuy (20080604040527)
  [4;36;1mSQL (0.000025)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateNewsArticles (20080604130146)
  [4;35;1mSQL (0.000025)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateCategories (20080604170419)
  [4;36;1mSQL (0.000035)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePages (20080604195242)
  [4;35;1mSQL (0.000045)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateMenuItems (20080605020537)
  [4;36;1mSQL (0.000025)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AddPositionToMenuItems (20080605205428)
  [4;35;1mSQL (0.000024)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to UpdatePositionOnMenuItems (20080605205832)
  [4;36;1mSQL (0.000025)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mMenuItem Load (0.000042)[0m   [0mSELECT * FROM `menu_items` [0m
  [4;36;1mMenuItem Columns (0.000771)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Update (0.000191)[0m   [0mUPDATE `menu_items` SET `depth` = 0 WHERE (`menu_items`.`id` = 1) [0m
  [4;36;1mMenuItem Update (0.000080)[0m   [0;1mUPDATE `menu_items` SET `depth` = 0 WHERE (`menu_items`.`id` = 2) [0m
  [4;35;1mMenuItem Load (0.035423)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.`id` = 2) [0m
  [4;36;1mMenuItem Update (0.008768)[0m   [0;1mUPDATE `menu_items` SET `depth` = 1 WHERE (`menu_items`.`id` = 3) [0m
  [4;35;1mMenuItem Load (0.007664)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.`id` = 2) [0m
  [4;36;1mMenuItem Update (0.000489)[0m   [0;1mUPDATE `menu_items` SET `depth` = 1 WHERE (`menu_items`.`id` = 4) [0m
  [4;35;1mSQL (0.000348)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20080605205832')[0m


Processing MainController#index (for 127.0.0.1 at 2008-06-05 18:16:16) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiU4YWI3NWQwMzYwYjBjNDZiMTU2
N2I5MmJjOTA3ZGQ2ZjoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--edf8811d50f29077489c7f224cabb62929bbd63d
  Parameters: {"action"=>"index", "controller"=>"main"}
  [4;36;1mSQL (0.000095)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000054)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mNewsArticle Load (0.000477)[0m   [0;1mSELECT * FROM `news_articles` WHERE (publish_at < '2008-06-05 18:16:16') ORDER BY publish_at desc LIMIT 0, 10[0m
Rendering template within layouts/application
Rendering main/index
  [4;35;1mNewsArticle Columns (0.000863)[0m   [0mSHOW FIELDS FROM `news_articles`[0m
  [4;36;1mMenuItem Load (0.000323)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000801)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000236)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000133)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000110)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00100)
  [4;35;1mPage Columns (0.000578)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000038)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000145)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01404)
Rendered menu_items/_menu (0.02265)
Completed in 0.04108 (24 reqs/sec) | Rendering: 0.02558 (62%) | DB: 0.00385 (9%) | 200 OK [http://localhost/]


Processing MenuItemsController#index (for 127.0.0.1 at 2008-06-05 18:16:19) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiU4YWI3NWQwMzYwYjBjNDZiMTU2
N2I5MmJjOTA3ZGQ2ZjoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--edf8811d50f29077489c7f224cabb62929bbd63d
  Parameters: {"action"=>"index", "controller"=>"menu_items"}
  [4;36;1mUser Columns (0.000723)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000070)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mMenuItem Load (0.000364)[0m   [0;1mSELECT * FROM `menu_items` ORDER BY title[0m
Rendering template within layouts/application
Rendering menu_items/index
  [4;35;1mMenuItem Columns (0.000636)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mPage Columns (0.000546)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000039)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;36;1mMenuItem Load (0.000158)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.`id` = 2) [0m
  [4;36;1mMenuItem Load (0.000049)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Load (0.000039)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;36;1mMenuItem Load (0.000039)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000032)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00078)
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000034)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.00209)
Rendered menu_items/_menu (0.00256)
Completed in 0.09354 (10 reqs/sec) | Rendering: 0.02557 (27%) | DB: 0.00273 (2%) | 200 OK [http://localhost/menu_items]


Processing MenuItemsController#edit (for 127.0.0.1 at 2008-06-05 18:16:21) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiU4YWI3NWQwMzYwYjBjNDZiMTU2
N2I5MmJjOTA3ZGQ2ZjoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--edf8811d50f29077489c7f224cabb62929bbd63d
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"menu_items"}
  [4;36;1mUser Columns (0.000704)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000044)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mMenuItem Columns (0.000567)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000136)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.`id` = 1) [0m
Rendering template within layouts/application
Rendering menu_items/edit
  [4;36;1mPage Load (0.000164)[0m   [0;1mSELECT * FROM `pages` [0m
  [4;35;1mPage Columns (0.000494)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mMenuItem Load (0.000194)[0m   [0;1mSELECT * FROM `menu_items` WHERE (id != 1) [0m


ActionView::TemplateError (String can't be coerced into Fixnum) on line #22 of menu_items/_form.html.erb:
19:   </p>
20:   <p>
21:     Parent menu<br />
22:     <%= parents_select f %>
23:   </p>
24:   <p>
25:     <%= f.submit "Send" %>

    app/models/menu_item.rb:22:in `*'
    app/models/menu_item.rb:22:in `title_with_depth'
    app/helpers/menu_items_helper.rb:16:in `parents_select'
    app/helpers/menu_items_helper.rb:16:in `collect'
    app/helpers/menu_items_helper.rb:16:in `parents_select'
    app/views/menu_items/_form.html.erb:22:in `_run_erb_47app47views47menu_items47_form46html46erb'
    vendor/rails/actionpack/lib/action_view/helpers/form_helper.rb:317:in `fields_for'
    vendor/rails/actionpack/lib/action_view/helpers/form_helper.rb:253:in `form_for'
    app/views/menu_items/_form.html.erb:1:in `_run_erb_47app47views47menu_items47_form46html46erb'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/partial_template.rb:20:in `render'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:26:in `benchmark'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:26:in `benchmark'
    vendor/rails/actionpack/lib/action_view/partial_template.rb:19:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/partials.rb:110:in `render_partial'
    vendor/rails/actionpack/lib/action_view/base.rb:273:in `render'
    app/helpers/application_helper.rb:5:in `partial'
    app/views/menu_items/edit.html.erb:3:in `_run_erb_47app47views47menu_items47edit46html46erb'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:35:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:245:in `render_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:1108:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:841:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/layout.rb:251:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1157:in `default_render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1163:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:580:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:130:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:389:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:149:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/railties/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /home/mauricio/NetBeansProjects/reeds/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing MenuItemsController#edit (for 127.0.0.1 at 2008-06-05 18:17:04) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiU4YWI3NWQwMzYwYjBjNDZiMTU2
N2I5MmJjOTA3ZGQ2ZjoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--edf8811d50f29077489c7f224cabb62929bbd63d
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"menu_items"}
  [4;35;1mUser Columns (0.000898)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000048)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mMenuItem Columns (0.000763)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000059)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.`id` = 1) [0m
Rendering template within layouts/application
Rendering menu_items/edit
  [4;35;1mPage Load (0.000078)[0m   [0mSELECT * FROM `pages` [0m
  [4;36;1mPage Columns (0.000556)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mMenuItem Load (0.000051)[0m   [0mSELECT * FROM `menu_items` WHERE (id != 1) [0m
Rendered menu_items/_form (0.01194)
  [4;36;1mMenuItem Load (0.000041)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Load (0.000037)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;36;1mMenuItem Load (0.000038)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000033)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00073)
  [4;36;1mPage Load (0.000034)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000035)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.00217)
Rendered menu_items/_menu (0.00263)
Completed in 0.03594 (27 reqs/sec) | Rendering: 0.01552 (43%) | DB: 0.00352 (9%) | 200 OK [http://localhost/menu_items/1/edit]
  [4;36;1mSQL (0.000065)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000062)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.000167)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000245)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000033)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000031)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000030)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000029)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000029)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000029)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000030)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20080604024949)
  [4;35;1mSQL (0.000030)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateAdminGuy (20080604040527)
  [4;36;1mSQL (0.000030)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateNewsArticles (20080604130146)
  [4;35;1mSQL (0.000030)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateCategories (20080604170419)
  [4;36;1mSQL (0.000029)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePages (20080604195242)
  [4;35;1mSQL (0.000029)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateMenuItems (20080605020537)
  [4;36;1mSQL (0.000029)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AddPositionToMenuItems (20080605205428)
  [4;35;1mSQL (0.000029)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to UpdatePositionOnMenuItems (20080605205832)
  [4;36;1mSQL (0.000029)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateReferrals (20080606021003)
  [4;35;1mSQL (0.000029)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.019022)[0m   [0;1mCREATE TABLE `referrals` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `source` varchar(255) DEFAULT NULL NULL, `description` text DEFAULT NULL NULL, `visits_count` int(11) DEFAULT 0 NULL, `redirect_to` varchar(255) DEFAULT '/' NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000271)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20080606021003')[0m
Migrating to CreateVisits (20080606024632)
  [4;36;1mSQL (0.000141)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.001624)[0m   [0mCREATE TABLE `visits` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `referral_id` int(11) DEFAULT NULL NULL, `referrer` varchar(255) DEFAULT NULL NULL, `user_agent` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000273)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20080606024632')[0m
  [4;35;1mSQL (0.000138)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000151)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000459)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mSQL (0.000295)[0m   [0;1mdescribe `categories`[0m
  [4;35;1mSQL (0.000136)[0m   [0mSHOW KEYS FROM `categories`[0m
  [4;36;1mSQL (0.000458)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mSQL (0.000381)[0m   [0mdescribe `menu_items`[0m
  [4;36;1mSQL (0.000125)[0m   [0;1mSHOW KEYS FROM `menu_items`[0m
  [4;35;1mSQL (0.000503)[0m   [0mSHOW FIELDS FROM `news_articles`[0m
  [4;36;1mSQL (0.000425)[0m   [0;1mdescribe `news_articles`[0m
  [4;35;1mSQL (0.000144)[0m   [0mSHOW KEYS FROM `news_articles`[0m
  [4;36;1mSQL (0.000399)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mSQL (0.000847)[0m   [0mdescribe `pages`[0m
  [4;36;1mSQL (0.000221)[0m   [0;1mSHOW KEYS FROM `pages`[0m
  [4;35;1mSQL (0.000440)[0m   [0mSHOW FIELDS FROM `referrals`[0m
  [4;36;1mSQL (0.000377)[0m   [0;1mdescribe `referrals`[0m
  [4;35;1mSQL (0.000123)[0m   [0mSHOW KEYS FROM `referrals`[0m
  [4;36;1mSQL (0.000537)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000441)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.000161)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (0.028895)[0m   [0mSHOW FIELDS FROM `visits`[0m
  [4;36;1mSQL (0.004572)[0m   [0;1mdescribe `visits`[0m
  [4;35;1mSQL (0.000235)[0m   [0mSHOW KEYS FROM `visits`[0m


Processing MainController#index (for 127.0.0.1 at 2008-06-06 00:07:35) [GET]
  Session ID: 117ff766aad42b7de2f2bfef5264e320
  Parameters: {"action"=>"index", "controller"=>"main"}
  [4;36;1mSQL (0.000086)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000049)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mNewsArticle Load (0.000458)[0m   [0;1mSELECT * FROM `news_articles` WHERE (publish_at < '2008-06-06 00:07:35') ORDER BY publish_at desc LIMIT 0, 10[0m
Rendering template within layouts/application
Rendering main/index
  [4;35;1mNewsArticle Columns (0.000823)[0m   [0mSHOW FIELDS FROM `news_articles`[0m
  [4;36;1mMenuItem Load (0.000253)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000478)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000153)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000096)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000091)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00087)
  [4;35;1mPage Columns (0.000458)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000132)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000100)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01471)
Rendered menu_items/_menu (0.03308)
Completed in 0.09143 (10 reqs/sec) | Rendering: 0.07552 (82%) | DB: 0.00318 (3%) | 200 OK [http://localhost/]


Processing MainController#index (for 127.0.0.1 at 2008-06-06 00:08:00) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNo
SGFzaHsABjoKQHVzZWR7AA==--f91e9d6b369072294e001af6121a48781558ce36
  Parameters: {"action"=>"index", "controller"=>"main"}
  [4;36;1mNewsArticle Load (0.000312)[0m   [0;1mSELECT * FROM `news_articles` WHERE (publish_at < '2008-06-06 00:08:00') ORDER BY publish_at desc LIMIT 0, 10[0m
Rendering template within layouts/application
Rendering main/index
  [4;35;1mNewsArticle Columns (0.000563)[0m   [0mSHOW FIELDS FROM `news_articles`[0m
  [4;36;1mMenuItem Load (0.000074)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000501)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000054)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000041)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000037)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00072)
  [4;35;1mPage Columns (0.000564)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000044)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000038)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01178)
Rendered menu_items/_menu (0.01865)
Completed in 0.03294 (30 reqs/sec) | Rendering: 0.02098 (63%) | DB: 0.00223 (6%) | 200 OK [http://localhost/]


Processing ReferralsController#index (for 127.0.0.1 at 2008-06-06 00:08:03) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNo
SGFzaHsABjoKQHVzZWR7AA==--f91e9d6b369072294e001af6121a48781558ce36
  Parameters: {"action"=>"index", "controller"=>"referrals"}
Redirected to http://localhost:3000/session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0.00083 (1207 reqs/sec) | DB: 0.00000 (0%) | 302 Found [http://localhost/referrals]


Processing SessionsController#new (for 127.0.0.1 at 2008-06-06 00:08:03) [GET]
  Session ID: BAh7BzoOcmV0dXJuX3RvIg8vcmVmZXJyYWxzIgpmbGFzaElDOidBY3Rpb25D
b250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewY6CmVycm9yIjFZb3UgaGF2
ZSB0byBiZSBsb2dnZWQgaW4gdG8gYWNjZXNzIHRoaXMgcGFnZQY6CkB1c2Vk
ewY7B0Y=--9027a1d1073b61efe82d0da4c232622563330f39
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
  [4;36;1mMenuItem Load (0.000069)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000542)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000062)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000696)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000060)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00182)
  [4;35;1mPage Columns (0.000503)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000036)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000030)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01330)
Rendered menu_items/_menu (0.02048)
Completed in 0.03557 (28 reqs/sec) | Rendering: 0.03057 (85%) | DB: 0.00200 (5%) | 200 OK [http://localhost/session/new]


Processing SessionsController#create (for 127.0.0.1 at 2008-06-06 00:08:09) [POST]
  Session ID: BAh7CDoMY3NyZl9pZCIlYmQzOWNjYzEzNjVmMWZkMGRlYzgxMTc5OGRjZmFi
MWE6DnJldHVybl90byIPL3JlZmVycmFscyIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsGOgplcnJvciIxWW91IGhhdmUg
dG8gYmUgbG9nZ2VkIGluIHRvIGFjY2VzcyB0aGlzIHBhZ2UGOgpAdXNlZHsG
OwhU--512bfc928a29d79fbeb4033bdf7ddd7958deee79
  Parameters: {"commit"=>"Log in", "authenticity_token"=>"98cd48cda289af8386b903e0adbb42cab01c863a", "action"=>"create", "controller"=>"sessions", "password"=>"codevader-admin", "login"=>"codevader"}
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
  [4;36;1mUser Columns (0.000617)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000182)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'codevader') LIMIT 1[0m
  [4;36;1mSQL (0.000026)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000022)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/
Redirected to http://localhost:3000/referrals
Completed in 0.02670 (37 reqs/sec) | DB: 0.00085 (3%) | 302 Found [http://localhost/session]


Processing ReferralsController#index (for 127.0.0.1 at 2008-06-06 00:08:09) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiViZDM5Y2NjMTM2NWYxZmQwZGVj
ODExNzk4ZGNmYWIxYToOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsGOgtub3RpY2UiG0xvZ2dlZCBp
biBzdWNjZXNzZnVsbHkGOgpAdXNlZHsGOwlG--88f462628b615430a22a5ff6e53cc739139da5b1
  Parameters: {"action"=>"index", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000869)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000252)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Load (0.000231)[0m   [0;1mSELECT * FROM `referrals` ORDER BY created_at desc LIMIT 0, 30[0m
Rendering template within layouts/application
Rendering referrals/index
  [4;35;1mMenuItem Load (0.000096)[0m   [0mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;36;1mMenuItem Columns (0.000720)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000076)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;36;1mMenuItem Load (0.000081)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000058)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00111)
  [4;36;1mPage Columns (0.000650)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000062)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;36;1mMenuItem Load (0.000056)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01713)
Rendered menu_items/_menu (0.02737)
Completed in 0.05339 (18 reqs/sec) | Rendering: 0.02931 (54%) | DB: 0.00315 (5%) | 200 OK [http://localhost/referrals]


Processing ReferralsController#new (for 127.0.0.1 at 2008-06-06 00:08:11) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiViZDM5Y2NjMTM2NWYxZmQwZGVj
ODExNzk4ZGNmYWIxYToOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsGOgtub3RpY2UiG0xvZ2dlZCBp
biBzdWNjZXNzZnVsbHkGOgpAdXNlZHsGOwlU--b3d2227c9d2f0492173ae590c4e82fab25e4cab2
  Parameters: {"action"=>"new", "controller"=>"referrals"}
  [4;35;1mUser Columns (0.000619)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000048)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mReferral Columns (0.000497)[0m   [0mSHOW FIELDS FROM `referrals`[0m
Rendering template within layouts/application
Rendering referrals/new
Rendered referrals/_form (0.00264)
  [4;36;1mMenuItem Load (0.000069)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000499)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000056)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000042)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000037)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00073)
  [4;35;1mPage Columns (0.000690)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000050)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000053)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.05939)
Rendered menu_items/_menu (0.06584)
Completed in 0.08813 (11 reqs/sec) | Rendering: 0.06987 (79%) | DB: 0.00266 (3%) | 200 OK [http://localhost/referrals/new]


Processing ReferralsController#create (for 127.0.0.1 at 2008-06-06 00:08:30) [POST]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiViZDM5Y2NjMTM2NWYxZmQwZGVj
ODExNzk4ZGNmYWIxYToOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--91f5ea2849ff7ba336f8cefc9fcb0be6679383cc
  Parameters: {"referral"=>{"name"=>"Test referral", "redirect_to"=>"/", "description"=>"This is a test", "source"=>"Codevader"}, "commit"=>"Update", "authenticity_token"=>"98cd48cda289af8386b903e0adbb42cab01c863a", "action"=>"create", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000873)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000084)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000647)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mSQL (0.000033)[0m   [0mBEGIN[0m
  [4;36;1mReferral Create (0.000164)[0m   [0;1mINSERT INTO `referrals` (`name`, `redirect_to`, `updated_at`, `visits_count`, `description`, `source`, `created_at`) VALUES('Test referral', '/', '2008-06-06 00:08:30', 0, 'This is a test', 'Codevader', '2008-06-06 00:08:30')[0m
  [4;35;1mSQL (0.007522)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/referrals/1
Completed in 0.03310 (30 reqs/sec) | DB: 0.00932 (28%) | 302 Found [http://localhost/referrals]


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 00:08:30) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiViZDM5Y2NjMTM2NWYxZmQwZGVj
ODExNzk4ZGNmYWIxYToOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsGOgtub3RpY2UiJ1JlZmVycmFs
IHdhcyBzdWNjZXNzZnVsbHkgY3JlYXRlZC4GOgpAdXNlZHsGOwlG--fe9d5dcb74ad2afa292b6b8a6bf6acce7142c789
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000654)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000041)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000683)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mReferral Load (0.000158)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show


ActionView::TemplateError (undefined local variable or method `public_path' for #<ActionView::Base:0xb66f2500>) on line #3 of referrals/show.html.erb:
1: <p>
2:   Here is the link you should use: 
3: <%= referral_link %>
4: </p>
5: 
6: <p>

    app/helpers/referrals_helper.rb:4:in `referral_link'
    app/views/referrals/show.html.erb:3:in `_run_erb_47app47views47referrals47show46html46erb'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:35:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:245:in `render_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:1108:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:865:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/base.rb:880:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/layout.rb:251:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/referrals_controller.rb:21:in `show'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:580:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:130:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:389:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:149:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/railties/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /home/mauricio/NetBeansProjects/reeds/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 00:08:48) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiViZDM5Y2NjMTM2NWYxZmQwZGVj
ODExNzk4ZGNmYWIxYToOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsGOgtub3RpY2UiJ1JlZmVycmFs
IHdhcyBzdWNjZXNzZnVsbHkgY3JlYXRlZC4GOgpAdXNlZHsGOwlU--91a15f12c5ee743cdbd20cb1c12e3faebea3fadc
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000905)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000055)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000627)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mReferral Load (0.000058)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;36;1mMenuItem Load (0.000092)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.001101)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000057)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000042)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000634)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00135)
  [4;35;1mPage Columns (0.000486)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000043)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000032)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01313)
Rendered menu_items/_menu (0.02063)
Completed in 0.09670 (10 reqs/sec) | Rendering: 0.02081 (21%) | DB: 0.00413 (4%) | 200 OK [http://localhost/referrals/1]


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 00:09:18) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiViZDM5Y2NjMTM2NWYxZmQwZGVj
ODExNzk4ZGNmYWIxYToOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--91f5ea2849ff7ba336f8cefc9fcb0be6679383cc
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.001080)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000101)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000891)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mReferral Load (0.000072)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;36;1mMenuItem Load (0.000085)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000719)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000061)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000042)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000031)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00075)
  [4;35;1mPage Columns (0.000485)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000547)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000047)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01359)
Rendered menu_items/_menu (0.02327)
Completed in 0.05716 (17 reqs/sec) | Rendering: 0.02501 (43%) | DB: 0.00416 (7%) | 200 OK [http://localhost/referrals/1]


Processing ApplicationController#index (for 127.0.0.1 at 2008-06-06 00:09:29) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiViZDM5Y2NjMTM2NWYxZmQwZGVj
ODExNzk4ZGNmYWIxYToOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--91f5ea2849ff7ba336f8cefc9fcb0be6679383cc
  Parameters: {}


ActionController::RoutingError (No route matches "/referral/1/visit" with {:method=>:get}):
    /vendor/rails/actionpack/lib/action_controller/routing/recognition_optimisation.rb:67:in `recognize_path'
    /vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:384:in `recognize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:148:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    /vendor/rails/railties/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /home/mauricio/NetBeansProjects/reeds/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (not_found)


Processing Base#index (for 127.0.0.1 at 2008-06-06 00:10:46) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiViZDM5Y2NjMTM2NWYxZmQwZGVj
ODExNzk4ZGNmYWIxYToOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--91f5ea2849ff7ba336f8cefc9fcb0be6679383cc
  Parameters: {}


SyntaxError (/home/mauricio/NetBeansProjects/reeds/app/helpers/referrals_helper.rb:4: syntax error, unexpected '}', expecting ')'
    "#{public_path}#{visit_referral_path( referral }"
                                                    ^
/home/mauricio/NetBeansProjects/reeds/app/helpers/referrals_helper.rb:4: unterminated string meets end of file):
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:215:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:215:in `load_file'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:214:in `load_file'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:95:in `require_or_load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:60:in `depend_on'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:456:in `require_dependency'
    /vendor/rails/actionpack/lib/action_controller/helpers.rb:122:in `helper'
    /vendor/rails/actionpack/lib/action_controller/helpers.rb:111:in `each'
    /vendor/rails/actionpack/lib/action_controller/helpers.rb:111:in `helper'
    /vendor/rails/actionpack/lib/action_controller/helpers.rb:116:in `helper'
    /vendor/rails/actionpack/lib/action_controller/helpers.rb:111:in `each'
    /vendor/rails/actionpack/lib/action_controller/helpers.rb:111:in `helper'
    /app/controllers/application.rb:5
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:215:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:215:in `load_file'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:214:in `load_file'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:95:in `require_or_load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:60:in `depend_on'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:456:in `require_dependency'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:18:in `define_dispatcher_callbacks'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:177:in `call'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:177:in `evaluate_method'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:161:in `call'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:90:in `run'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:90:in `each'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:90:in `send'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:90:in `run'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:272:in `run_callbacks'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:128:in `reload_application'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:173:in `send'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:173:in `evaluate_method'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:161:in `call'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:90:in `run'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:90:in `each'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:90:in `send'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:90:in `run'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:272:in `run_callbacks'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:106:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    /vendor/rails/railties/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /home/mauricio/NetBeansProjects/reeds/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 00:10:58) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiViZDM5Y2NjMTM2NWYxZmQwZGVj
ODExNzk4ZGNmYWIxYToOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--91f5ea2849ff7ba336f8cefc9fcb0be6679383cc
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.001043)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000054)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000507)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mReferral Load (0.000053)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;36;1mMenuItem Load (0.000082)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000509)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000053)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000045)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000034)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00076)
  [4;35;1mPage Columns (0.000473)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000064)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000038)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01168)
Rendered menu_items/_menu (0.01865)
Completed in 0.04101 (24 reqs/sec) | Rendering: 0.02081 (50%) | DB: 0.00295 (7%) | 200 OK [http://localhost/referrals/1]


Processing ReferralsController#visit (for 127.0.0.1 at 2008-06-06 00:11:13) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiViZDM5Y2NjMTM2NWYxZmQwZGVj
ODExNzk4ZGNmYWIxYToOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--91f5ea2849ff7ba336f8cefc9fcb0be6679383cc
  Parameters: {"action"=>"visit", "id"=>"1", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000932)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000044)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000793)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mReferral Load (0.000073)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
  [4;36;1mVisit Columns (0.000471)[0m   [0;1mSHOW FIELDS FROM `visits`[0m
  [4;35;1mSQL (0.000066)[0m   [0mBEGIN[0m
  [4;36;1mVisit Create (0.000155)[0m   [0;1mINSERT INTO `visits` (`referral_id`, `updated_at`, `referrer`, `user_agent`, `created_at`) VALUES(1, '2008-06-06 00:11:13', 'No referrer', 'Mozilla/5.0 (X11; U; Linux i686; pt-BR; rv:1.9b5) Gecko/2008050509 Firefox/3.0b5', '2008-06-06 00:11:13')[0m
  [4;35;1mReferral Load (0.000049)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
  [4;36;1mReferral Update (0.000160)[0m   [0;1mUPDATE `referrals` SET `visits_count` = `visits_count` + 1 WHERE (`id` = 1) [0m
  [4;35;1mSQL (0.001282)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/
Completed in 0.08128 (12 reqs/sec) | DB: 0.00403 (4%) | 302 Found [http://localhost/referrals/1/visit]


Processing MainController#index (for 127.0.0.1 at 2008-06-06 00:11:13) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiViZDM5Y2NjMTM2NWYxZmQwZGVj
ODExNzk4ZGNmYWIxYToOcmV0dXJuX3RvMDoLdmlzaXRzIgYxIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewAGOgpAdXNl
ZHsA--fca1f9e2c74f22eda2e81515cb5089a9bd1a791f
  Parameters: {"action"=>"index", "controller"=>"main"}
  [4;36;1mNewsArticle Load (0.000319)[0m   [0;1mSELECT * FROM `news_articles` WHERE (publish_at < '2008-06-06 00:11:13') ORDER BY publish_at desc LIMIT 0, 10[0m
Rendering template within layouts/application
Rendering main/index
  [4;35;1mNewsArticle Columns (0.000565)[0m   [0mSHOW FIELDS FROM `news_articles`[0m
  [4;36;1mMenuItem Load (0.000062)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000516)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000045)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000034)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000031)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00071)
  [4;35;1mPage Columns (0.000528)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000037)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000032)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01192)
Rendered menu_items/_menu (0.01921)
Completed in 0.03313 (30 reqs/sec) | Rendering: 0.01993 (60%) | DB: 0.00217 (6%) | 200 OK [http://localhost/]


Processing MainController#index (for 127.0.0.1 at 2008-06-06 00:12:16) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiViZDM5Y2NjMTM2NWYxZmQwZGVj
ODExNzk4ZGNmYWIxYToOcmV0dXJuX3RvMDoLdmlzaXRzIgYxIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewAGOgpAdXNl
ZHsA--fca1f9e2c74f22eda2e81515cb5089a9bd1a791f
  Parameters: {"action"=>"index", "controller"=>"main"}
  [4;36;1mNewsArticle Load (0.000306)[0m   [0;1mSELECT * FROM `news_articles` WHERE (publish_at < '2008-06-06 00:12:16') ORDER BY publish_at desc LIMIT 0, 10[0m
Rendering template within layouts/application
Rendering main/index
  [4;35;1mNewsArticle Columns (0.000735)[0m   [0mSHOW FIELDS FROM `news_articles`[0m
  [4;36;1mMenuItem Load (0.000078)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000534)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000063)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000043)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000039)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00078)
  [4;35;1mPage Columns (0.000504)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000628)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000043)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01288)
Rendered menu_items/_menu (0.02044)
Completed in 0.03365 (29 reqs/sec) | Rendering: 0.02075 (61%) | DB: 0.00297 (8%) | 200 OK [http://localhost/]


Processing ReferralsController#index (for 127.0.0.1 at 2008-06-06 00:12:18) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiViZDM5Y2NjMTM2NWYxZmQwZGVj
ODExNzk4ZGNmYWIxYToOcmV0dXJuX3RvMDoLdmlzaXRzIgYxIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewAGOgpAdXNl
ZHsA--fca1f9e2c74f22eda2e81515cb5089a9bd1a791f
  Parameters: {"action"=>"index", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000632)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000048)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Load (0.000200)[0m   [0;1mSELECT * FROM `referrals` ORDER BY created_at desc LIMIT 0, 30[0m
Rendering template within layouts/application
Rendering referrals/index
  [4;35;1mReferral Columns (0.000481)[0m   [0mSHOW FIELDS FROM `referrals`[0m
  [4;36;1mMenuItem Load (0.000062)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000502)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000043)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000034)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000033)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00070)
  [4;35;1mPage Columns (0.000478)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000709)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000038)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01212)
Rendered menu_items/_menu (0.01874)
Completed in 0.03862 (25 reqs/sec) | Rendering: 0.01986 (51%) | DB: 0.00326 (8%) | 200 OK [http://localhost/referrals]


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 00:12:23) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiViZDM5Y2NjMTM2NWYxZmQwZGVj
ODExNzk4ZGNmYWIxYToOcmV0dXJuX3RvMDoLdmlzaXRzIgYxIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewAGOgpAdXNl
ZHsA--fca1f9e2c74f22eda2e81515cb5089a9bd1a791f
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000637)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000041)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000517)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mReferral Load (0.000147)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;36;1mMenuItem Load (0.000063)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000523)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000044)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000039)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000036)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00072)
  [4;35;1mPage Columns (0.000605)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000041)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000033)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01799)
Rendered menu_items/_menu (0.02486)
Completed in 0.04591 (21 reqs/sec) | Rendering: 0.02688 (58%) | DB: 0.00273 (5%) | 200 OK [http://localhost/referrals/1]


Processing ReferralsController#visit (for 127.0.0.1 at 2008-06-06 00:12:30) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiViZDM5Y2NjMTM2NWYxZmQwZGVj
ODExNzk4ZGNmYWIxYToOcmV0dXJuX3RvMDoLdmlzaXRzIgYxIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewAGOgpAdXNl
ZHsA--fca1f9e2c74f22eda2e81515cb5089a9bd1a791f
  Parameters: {"action"=>"visit", "id"=>"1", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000878)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000093)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000712)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mReferral Load (0.000042)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Redirected to http://localhost:3000/
Completed in 0.07568 (13 reqs/sec) | DB: 0.00172 (2%) | 302 Found [http://localhost/referrals/1/visit]


Processing MainController#index (for 127.0.0.1 at 2008-06-06 00:12:30) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiViZDM5Y2NjMTM2NWYxZmQwZGVj
ODExNzk4ZGNmYWIxYToOcmV0dXJuX3RvMDoLdmlzaXRzIgYxIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewY6CmRlYnVn
IjJVc2VyIGNsaWNrZWQgbW9yZSB0aGFuIG9uY2Ugb24gdGhlIHNhbWUgbGlu
ayAGOgpAdXNlZHsGOwpG--a814a34954d8fef96ea208f421d05bfb45fc0323
  Parameters: {"action"=>"index", "controller"=>"main"}
  [4;36;1mNewsArticle Load (0.000267)[0m   [0;1mSELECT * FROM `news_articles` WHERE (publish_at < '2008-06-06 00:12:30') ORDER BY publish_at desc LIMIT 0, 10[0m
Rendering template within layouts/application
Rendering main/index
  [4;35;1mNewsArticle Columns (0.000563)[0m   [0mSHOW FIELDS FROM `news_articles`[0m
  [4;36;1mMenuItem Load (0.000067)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000524)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000054)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000036)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000032)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00071)
  [4;35;1mPage Columns (0.000478)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000037)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000032)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01151)
Rendered menu_items/_menu (0.01852)
Completed in 0.03083 (32 reqs/sec) | Rendering: 0.01931 (62%) | DB: 0.00209 (6%) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.000100)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000079)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.000067)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000211)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateVisits (20080606024632)
  [4;35;1mSQL (0.000025)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.006380)[0m   [0;1mDROP TABLE `visits`[0m
  [4;35;1mSQL (0.000319)[0m   [0mDELETE FROM schema_migrations WHERE version = '20080606024632'[0m
  [4;36;1mSQL (0.000149)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000130)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000335)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mSQL (0.000287)[0m   [0mdescribe `categories`[0m
  [4;36;1mSQL (0.000127)[0m   [0;1mSHOW KEYS FROM `categories`[0m
  [4;35;1mSQL (0.000412)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mSQL (0.000399)[0m   [0;1mdescribe `menu_items`[0m
  [4;35;1mSQL (0.000129)[0m   [0mSHOW KEYS FROM `menu_items`[0m
  [4;36;1mSQL (0.000459)[0m   [0;1mSHOW FIELDS FROM `news_articles`[0m
  [4;35;1mSQL (0.000452)[0m   [0mdescribe `news_articles`[0m
  [4;36;1mSQL (0.000141)[0m   [0;1mSHOW KEYS FROM `news_articles`[0m
  [4;35;1mSQL (0.000355)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mSQL (0.000355)[0m   [0;1mdescribe `pages`[0m
  [4;35;1mSQL (0.000116)[0m   [0mSHOW KEYS FROM `pages`[0m
  [4;36;1mSQL (0.000388)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mSQL (0.000390)[0m   [0mdescribe `referrals`[0m
  [4;36;1mSQL (0.000151)[0m   [0;1mSHOW KEYS FROM `referrals`[0m
  [4;35;1mSQL (0.000473)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000455)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.000160)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000031)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.000162)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000065)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000025)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000023)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000022)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000023)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000022)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000022)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000022)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000023)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20080604024949)
  [4;36;1mSQL (0.000022)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateAdminGuy (20080604040527)
  [4;35;1mSQL (0.000023)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateNewsArticles (20080604130146)
  [4;36;1mSQL (0.000023)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateCategories (20080604170419)
  [4;35;1mSQL (0.000023)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePages (20080604195242)
  [4;36;1mSQL (0.000025)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateMenuItems (20080605020537)
  [4;35;1mSQL (0.000022)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddPositionToMenuItems (20080605205428)
  [4;36;1mSQL (0.000023)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to UpdatePositionOnMenuItems (20080605205832)
  [4;35;1mSQL (0.000022)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateReferrals (20080606021003)
  [4;36;1mSQL (0.000023)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateVisits (20080606024632)
  [4;35;1mSQL (0.000023)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.008144)[0m   [0;1mCREATE TABLE `visits` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `referral_id` int(11) DEFAULT NULL NULL, `referer` varchar(255) DEFAULT NULL NULL, `remote_ip` varchar(255) DEFAULT NULL NULL, `user_agent` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000605)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20080606024632')[0m
  [4;36;1mSQL (0.000161)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000139)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000323)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mSQL (0.000272)[0m   [0mdescribe `categories`[0m
  [4;36;1mSQL (0.000124)[0m   [0;1mSHOW KEYS FROM `categories`[0m
  [4;35;1mSQL (0.000389)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mSQL (0.000379)[0m   [0;1mdescribe `menu_items`[0m
  [4;35;1mSQL (0.000123)[0m   [0mSHOW KEYS FROM `menu_items`[0m
  [4;36;1mSQL (0.000434)[0m   [0;1mSHOW FIELDS FROM `news_articles`[0m
  [4;35;1mSQL (0.000426)[0m   [0mdescribe `news_articles`[0m
  [4;36;1mSQL (0.000138)[0m   [0;1mSHOW KEYS FROM `news_articles`[0m
  [4;35;1mSQL (0.000338)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mSQL (0.000335)[0m   [0;1mdescribe `pages`[0m
  [4;35;1mSQL (0.000116)[0m   [0mSHOW KEYS FROM `pages`[0m
  [4;36;1mSQL (0.000365)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mSQL (0.000363)[0m   [0mdescribe `referrals`[0m
  [4;36;1mSQL (0.000116)[0m   [0;1mSHOW KEYS FROM `referrals`[0m
  [4;35;1mSQL (0.000433)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000429)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.000158)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.031110)[0m   [0;1mSHOW FIELDS FROM `visits`[0m
  [4;35;1mSQL (0.004195)[0m   [0mdescribe `visits`[0m
  [4;36;1mSQL (0.000542)[0m   [0;1mSHOW KEYS FROM `visits`[0m


Processing SessionsController#destroy (for 127.0.0.1 at 2008-06-06 00:17:41) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiViZDM5Y2NjMTM2NWYxZmQwZGVj
ODExNzk4ZGNmYWIxYToOcmV0dXJuX3RvMDoLdmlzaXRzIgYxIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewY6CmRlYnVn
IjJVc2VyIGNsaWNrZWQgbW9yZSB0aGFuIG9uY2Ugb24gdGhlIHNhbWUgbGlu
ayAGOgpAdXNlZHsGOwpU--865f35892c385c4523f946ff63f40c34bb4ccea9
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;36;1mSQL (0.000105)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000043)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to http://localhost:3000/
Completed in 0.01620 (61 reqs/sec) | DB: 0.00015 (0%) | 302 Found [http://localhost/logout]


Processing MainController#index (for 127.0.0.1 at 2008-06-06 00:17:41) [GET]
  Session ID: BAh7BzoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6
Rmxhc2g6OkZsYXNoSGFzaHsGOgtub3RpY2UiHllvdSBoYXZlIGJlZW4gbG9n
Z2VkIG91dC4GOgpAdXNlZHsGOwdG--476c04ba1bea7557de30fcb130a17700c5505263
  Parameters: {"action"=>"index", "controller"=>"main"}
  [4;36;1mNewsArticle Load (0.000281)[0m   [0;1mSELECT * FROM `news_articles` WHERE (publish_at < '2008-06-06 00:17:41') ORDER BY publish_at desc LIMIT 0, 10[0m
Rendering template within layouts/application
Rendering main/index
  [4;35;1mNewsArticle Columns (0.000571)[0m   [0mSHOW FIELDS FROM `news_articles`[0m
  [4;36;1mMenuItem Load (0.000078)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000533)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000051)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000037)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000031)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00079)
  [4;35;1mPage Columns (0.000517)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000045)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000061)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01416)
Rendered menu_items/_menu (0.07113)
Completed in 0.08804 (11 reqs/sec) | Rendering: 0.07472 (84%) | DB: 0.00220 (2%) | 200 OK [http://localhost/]


Processing ReferralsController#index (for 127.0.0.1 at 2008-06-06 00:17:44) [GET]
  Session ID: BAh7BzoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6
Rmxhc2g6OkZsYXNoSGFzaHsGOgtub3RpY2UiHllvdSBoYXZlIGJlZW4gbG9n
Z2VkIG91dC4GOgpAdXNlZHsGOwdU--abc76177cb5fd186a80205b6e2f020e24e6be07a
  Parameters: {"action"=>"index", "controller"=>"referrals"}
Redirected to http://localhost:3000/session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0.00056 (1785 reqs/sec) | DB: 0.00000 (0%) | 302 Found [http://localhost/referrals]


Processing SessionsController#new (for 127.0.0.1 at 2008-06-06 00:17:44) [GET]
  Session ID: BAh7BzoOcmV0dXJuX3RvIg8vcmVmZXJyYWxzIgpmbGFzaElDOidBY3Rpb25D
b250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewY6CmVycm9yIjFZb3UgaGF2
ZSB0byBiZSBsb2dnZWQgaW4gdG8gYWNjZXNzIHRoaXMgcGFnZQY6CkB1c2Vk
ewY7B0Y=--9027a1d1073b61efe82d0da4c232622563330f39
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
  [4;36;1mMenuItem Load (0.000081)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000534)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000048)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000041)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000034)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00071)
  [4;35;1mPage Columns (0.000509)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000036)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000031)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.05999)
Rendered menu_items/_menu (0.06728)
Completed in 0.07424 (13 reqs/sec) | Rendering: 0.06869 (92%) | DB: 0.00131 (1%) | 200 OK [http://localhost/session/new]


Processing SessionsController#create (for 127.0.0.1 at 2008-06-06 00:17:49) [POST]
  Session ID: BAh7CDoMY3NyZl9pZCIlZjI5MjE2YzRmNDAzMDk0MTVjZjA0ZDdiOTliNmQw
MjA6DnJldHVybl90byIPL3JlZmVycmFscyIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsGOgplcnJvciIxWW91IGhhdmUg
dG8gYmUgbG9nZ2VkIGluIHRvIGFjY2VzcyB0aGlzIHBhZ2UGOgpAdXNlZHsG
OwhU--4c325663d7247185829582eaa09548dc109c6632
  Parameters: {"commit"=>"Log in", "authenticity_token"=>"a482055202f8509e30713c9a367f3414a45e8c86", "action"=>"create", "controller"=>"sessions", "password"=>"codevader-admin", "login"=>"codevader"}
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
  [4;36;1mUser Columns (0.000615)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000044)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'codevader') LIMIT 1[0m
  [4;36;1mSQL (0.000027)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000023)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/
Redirected to http://localhost:3000/referrals
Completed in 0.01628 (61 reqs/sec) | DB: 0.00071 (4%) | 302 Found [http://localhost/session]


Processing ReferralsController#index (for 127.0.0.1 at 2008-06-06 00:17:49) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsGOgtub3RpY2UiG0xvZ2dlZCBp
biBzdWNjZXNzZnVsbHkGOgpAdXNlZHsGOwlG--04e2fb648f7278322f0bd55b5dd638d728b925bb
  Parameters: {"action"=>"index", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000598)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000040)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Load (0.000047)[0m   [0;1mSELECT * FROM `referrals` ORDER BY created_at desc LIMIT 0, 30[0m
Rendering template within layouts/application
Rendering referrals/index
  [4;35;1mReferral Columns (0.000540)[0m   [0mSHOW FIELDS FROM `referrals`[0m
  [4;36;1mMenuItem Load (0.000076)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000524)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000064)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000067)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000039)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00094)
  [4;35;1mPage Columns (0.000492)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000036)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000036)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01303)
Rendered menu_items/_menu (0.06628)
Completed in 0.08704 (11 reqs/sec) | Rendering: 0.06911 (79%) | DB: 0.00256 (2%) | 200 OK [http://localhost/referrals]


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 00:17:52) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsGOgtub3RpY2UiG0xvZ2dlZCBp
biBzdWNjZXNzZnVsbHkGOgpAdXNlZHsGOwlU--9153262c779ade3fa90ac672f7daf610407bc1ac
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000617)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000042)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000455)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mReferral Load (0.000041)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;36;1mMenuItem Load (0.000074)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000486)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000046)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000033)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000030)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00071)
  [4;35;1mPage Columns (0.000482)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000037)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000031)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01173)
Rendered menu_items/_menu (0.01834)
Completed in 0.03869 (25 reqs/sec) | Rendering: 0.02043 (52%) | DB: 0.00237 (6%) | 200 OK [http://localhost/referrals/1]


Processing ReferralsController#visit (for 127.0.0.1 at 2008-06-06 00:17:54) [GET]
  Session ID: BAh7CToMdXNlcl9pZGkGOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--4e1c20f1461434585416657b5435761b12b6e210
  Parameters: {"action"=>"visit", "id"=>"1", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000640)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000041)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000453)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mReferral Load (0.000034)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
  [4;36;1mVisit Columns (0.000410)[0m   [0;1mSHOW FIELDS FROM `visits`[0m
  [4;35;1mSQL (0.000031)[0m   [0mBEGIN[0m
  [4;36;1mVisit Create (0.000132)[0m   [0;1mINSERT INTO `visits` (`referral_id`, `remote_ip`, `updated_at`, `referer`, `user_agent`, `created_at`) VALUES(1, '127.0.0.1', '2008-06-06 00:17:54', 'http://localhost:3000/referrals/1', 'Mozilla/5.0 (X11; U; Linux i686; pt-BR; rv:1.9b5) Gecko/2008050509 Firefox/3.0b5', '2008-06-06 00:17:54')[0m
  [4;35;1mReferral Load (0.000037)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
  [4;36;1mReferral Update (0.000119)[0m   [0;1mUPDATE `referrals` SET `visits_count` = `visits_count` + 1 WHERE (`id` = 1) [0m
  [4;35;1mSQL (0.006579)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/
Completed in 0.03290 (30 reqs/sec) | DB: 0.00848 (25%) | 302 Found [http://localhost/referrals/1/visit]


Processing MainController#index (for 127.0.0.1 at 2008-06-06 00:17:54) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoOcmV0dXJuX3RvMDoLdmlzaXRzIgYxIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewAGOgpAdXNl
ZHsA--539ee14a492a7b536bcc82a0d76cb85de3dc98a1
  Parameters: {"action"=>"index", "controller"=>"main"}
  [4;36;1mNewsArticle Load (0.000264)[0m   [0;1mSELECT * FROM `news_articles` WHERE (publish_at < '2008-06-06 00:17:54') ORDER BY publish_at desc LIMIT 0, 10[0m
Rendering template within layouts/application
Rendering main/index
  [4;35;1mNewsArticle Columns (0.000538)[0m   [0mSHOW FIELDS FROM `news_articles`[0m
  [4;36;1mMenuItem Load (0.000060)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000464)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000046)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000034)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000128)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00080)
  [4;35;1mPage Columns (0.000431)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000035)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000031)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01128)
Rendered menu_items/_menu (0.01772)
Completed in 0.02960 (33 reqs/sec) | Rendering: 0.01846 (62%) | DB: 0.00203 (6%) | 200 OK [http://localhost/]


Processing ReferralsController#index (for 127.0.0.1 at 2008-06-06 00:19:27) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7ADoLdmlzaXRz
IgYx--04492a161975361e35e9982f1da93cc49916fb1e
  Parameters: {"action"=>"index", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000836)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000067)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Load (0.000188)[0m   [0;1mSELECT * FROM `referrals` ORDER BY created_at desc LIMIT 0, 30[0m
Rendering template within layouts/application
Rendering referrals/index
  [4;35;1mReferral Columns (0.000455)[0m   [0mSHOW FIELDS FROM `referrals`[0m
  [4;36;1mMenuItem Load (0.000065)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000488)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000061)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000045)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000034)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00073)
  [4;35;1mPage Columns (0.000467)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000036)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000030)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01175)
Rendered menu_items/_menu (0.01874)
Completed in 0.04567 (21 reqs/sec) | Rendering: 0.02057 (45%) | DB: 0.00277 (6%) | 200 OK [http://localhost/referrals]


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 00:19:29) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoOcmV0dXJuX3RvMDoLdmlzaXRzIgYxIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewAGOgpAdXNl
ZHsA--539ee14a492a7b536bcc82a0d76cb85de3dc98a1
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000614)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000040)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000898)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mReferral Load (0.000165)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;36;1mMenuItem Load (0.000071)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000498)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000043)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000037)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000040)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00077)
  [4;35;1mPage Columns (0.000492)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000038)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000031)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01222)
Rendered menu_items/_menu (0.01997)
Completed in 0.08986 (11 reqs/sec) | Rendering: 0.02235 (24%) | DB: 0.00297 (3%) | 200 OK [http://localhost/referrals/1]


Processing ReferralsController#visit (for 127.0.0.1 at 2008-06-06 00:19:34) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7ADoLdmlzaXRz
IgYx--04492a161975361e35e9982f1da93cc49916fb1e
  Parameters: {"action"=>"visit", "id"=>"1", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000613)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000040)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000446)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mReferral Load (0.000035)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Redirected to http://localhost:3000/
Completed in 0.01761 (56 reqs/sec) | DB: 0.00113 (6%) | 302 Found [http://localhost/referrals/1/visit]


Processing MainController#index (for 127.0.0.1 at 2008-06-06 00:19:35) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoOcmV0dXJuX3RvMDoLdmlzaXRzIgYxIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewY6CmRlYnVn
IjJVc2VyIGNsaWNrZWQgbW9yZSB0aGFuIG9uY2Ugb24gdGhlIHNhbWUgbGlu
ayAGOgpAdXNlZHsGOwpG--aae24723761eb15d794ed3ffc0ae337d3e20e5d8
  Parameters: {"action"=>"index", "controller"=>"main"}
  [4;36;1mNewsArticle Load (0.000266)[0m   [0;1mSELECT * FROM `news_articles` WHERE (publish_at < '2008-06-06 00:19:35') ORDER BY publish_at desc LIMIT 0, 10[0m
Rendering template within layouts/application
Rendering main/index
  [4;35;1mNewsArticle Columns (0.000538)[0m   [0mSHOW FIELDS FROM `news_articles`[0m
  [4;36;1mMenuItem Load (0.000140)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000632)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000048)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000034)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000030)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00072)
  [4;35;1mPage Columns (0.000484)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000038)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000032)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01208)
Rendered menu_items/_menu (0.01944)
Completed in 0.03241 (30 reqs/sec) | Rendering: 0.02009 (61%) | DB: 0.00224 (6%) | 200 OK [http://localhost/]


Processing ReferralsController#index (for 127.0.0.1 at 2008-06-06 00:19:37) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsGOgpkZWJ1ZyIyVXNlciBjbGlj
a2VkIG1vcmUgdGhhbiBvbmNlIG9uIHRoZSBzYW1lIGxpbmsgBjoKQHVzZWR7
BjsJVDoLdmlzaXRzIgYx--f7bd49d362f76939b9edd0818247c08954778890
  Parameters: {"action"=>"index", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000872)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000040)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Load (0.000038)[0m   [0;1mSELECT * FROM `referrals` ORDER BY created_at desc LIMIT 0, 30[0m
Rendering template within layouts/application
Rendering referrals/index
  [4;35;1mReferral Columns (0.000458)[0m   [0mSHOW FIELDS FROM `referrals`[0m
  [4;36;1mMenuItem Load (0.000060)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000465)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000084)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000034)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000030)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00070)
  [4;35;1mPage Columns (0.000465)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000036)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000031)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01127)
Rendered menu_items/_menu (0.01779)
Completed in 0.04117 (24 reqs/sec) | Rendering: 0.01948 (47%) | DB: 0.00261 (6%) | 200 OK [http://localhost/referrals]


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 00:19:39) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoOcmV0dXJuX3RvMDoLdmlzaXRzIgYxIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewAGOgpAdXNl
ZHsA--539ee14a492a7b536bcc82a0d76cb85de3dc98a1
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000605)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000042)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000499)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mReferral Load (0.000035)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;36;1mMenuItem Load (0.000069)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000497)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000043)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000033)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000030)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00070)
  [4;35;1mPage Columns (0.000467)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000036)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000031)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01246)
Rendered menu_items/_menu (0.01952)
Completed in 0.03991 (25 reqs/sec) | Rendering: 0.02101 (52%) | DB: 0.00239 (5%) | 200 OK [http://localhost/referrals/1]


Processing ReferralsController#edit (for 127.0.0.1 at 2008-06-06 00:20:24) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7ADoLdmlzaXRz
IgYx--04492a161975361e35e9982f1da93cc49916fb1e
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000881)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.002371)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000663)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mReferral Load (0.000049)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/edit
Rendered referrals/_form (0.00284)
  [4;36;1mMenuItem Load (0.000076)[0m   [0;1mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;35;1mMenuItem Columns (0.000529)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mMenuItem Load (0.000083)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;35;1mMenuItem Load (0.000056)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;36;1mMenuItem Load (0.000036)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00084)
  [4;35;1mPage Columns (0.000498)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.000037)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mMenuItem Load (0.000044)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01270)
Rendered menu_items/_menu (0.02029)
Completed in 0.09958 (10 reqs/sec) | Rendering: 0.02506 (25%) | DB: 0.00532 (5%) | 200 OK [http://localhost/referrals/1/edit]


Processing ReferralsController#update (for 127.0.0.1 at 2008-06-06 00:20:56) [PUT]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoOcmV0dXJuX3RvMDoLdmlzaXRzIgYxIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewAGOgpAdXNl
ZHsA--539ee14a492a7b536bcc82a0d76cb85de3dc98a1
  Parameters: {"referral"=>{"name"=>"Codevader St. John Ad", "redirect_to"=>"/", "description"=>"This is a test", "source"=>"Codevader"}, "commit"=>"Update", "authenticity_token"=>"a482055202f8509e30713c9a367f3414a45e8c86", "_method"=>"put", "action"=>"update", "id"=>"1", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000644)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000043)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000484)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mReferral Load (0.000035)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
  [4;36;1mSQL (0.000027)[0m   [0;1mBEGIN[0m
  [4;35;1mReferral Update (0.000189)[0m   [0mUPDATE `referrals` SET `updated_at` = '2008-06-06 00:20:56', `name` = 'Codevader St. John Ad' WHERE `id` = 1[0m
  [4;36;1mSQL (0.002727)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/referrals/1
Completed in 0.02238 (44 reqs/sec) | DB: 0.00415 (18%) | 302 Found [http://localhost/referrals/1]


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 00:20:56) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsGOgtub3RpY2UiJ1JlZmVycmFs
IHdhcyBzdWNjZXNzZnVsbHkgdXBkYXRlZC4GOgpAdXNlZHsGOwlGOgt2aXNp
dHMiBjE=--dc7b5dfa1dcdb69d040f6c00aa4e9049fd2f1227
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;35;1mUser Columns (0.000638)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000042)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mReferral Columns (0.000529)[0m   [0mSHOW FIELDS FROM `referrals`[0m
  [4;36;1mReferral Load (0.000138)[0m   [0;1mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;35;1mMenuItem Load (0.000073)[0m   [0mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;36;1mMenuItem Columns (0.000717)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000058)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;36;1mMenuItem Load (0.000049)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000032)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00123)
  [4;36;1mPage Columns (0.000501)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000037)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;36;1mMenuItem Load (0.000032)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01319)
Rendered menu_items/_menu (0.02026)
Completed in 0.04253 (23 reqs/sec) | Rendering: 0.02220 (52%) | DB: 0.00285 (6%) | 200 OK [http://localhost/referrals/1]


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 00:22:45) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoOcmV0dXJuX3RvMDoLdmlzaXRzIgYxIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewY6C25vdGlj
ZSInUmVmZXJyYWwgd2FzIHN1Y2Nlc3NmdWxseSB1cGRhdGVkLgY6CkB1c2Vk
ewY7ClQ=--688cc6ef6d9e3483e924046539cd393061f6e3af
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;35;1mUser Columns (0.000683)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000053)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mReferral Columns (0.000680)[0m   [0mSHOW FIELDS FROM `referrals`[0m
  [4;36;1mReferral Load (0.000044)[0m   [0;1mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;35;1mMenuItem Load (0.000057)[0m   [0mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;36;1mMenuItem Columns (0.000523)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000044)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;36;1mMenuItem Load (0.000035)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000030)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00071)
  [4;36;1mPage Columns (0.007876)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000086)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;36;1mMenuItem Load (0.000041)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.06033)
Rendered menu_items/_menu (0.06678)
Completed in 0.09018 (11 reqs/sec) | Rendering: 0.06164 (68%) | DB: 0.01015 (11%) | 200 OK [http://localhost/referrals/1]


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 00:23:10) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7ADoLdmlzaXRz
IgYx--04492a161975361e35e9982f1da93cc49916fb1e
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;35;1mUser Columns (0.000671)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000058)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mReferral Columns (0.000531)[0m   [0mSHOW FIELDS FROM `referrals`[0m
  [4;36;1mReferral Load (0.000046)[0m   [0;1mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;35;1mMenuItem Load (0.000072)[0m   [0mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;36;1mMenuItem Columns (0.000678)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000056)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;36;1mMenuItem Load (0.000035)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000030)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00071)
  [4;36;1mPage Columns (0.000482)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000036)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;36;1mMenuItem Load (0.000032)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01179)
Rendered menu_items/_menu (0.01878)
Completed in 0.04091 (24 reqs/sec) | Rendering: 0.02099 (51%) | DB: 0.00273 (6%) | 200 OK [http://localhost/referrals/1]


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 00:23:34) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoOcmV0dXJuX3RvMDoLdmlzaXRzIgYxIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewAGOgpAdXNl
ZHsA--539ee14a492a7b536bcc82a0d76cb85de3dc98a1
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;35;1mUser Columns (0.000646)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000048)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mReferral Columns (0.000540)[0m   [0mSHOW FIELDS FROM `referrals`[0m
  [4;36;1mReferral Load (0.000042)[0m   [0;1mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;35;1mMenuItem Load (0.000073)[0m   [0mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;36;1mMenuItem Columns (0.000533)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000051)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;36;1mMenuItem Load (0.000040)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000037)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00075)
  [4;36;1mPage Columns (0.000469)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000043)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;36;1mMenuItem Load (0.000038)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01180)
Rendered menu_items/_menu (0.01889)
Completed in 0.04097 (24 reqs/sec) | Rendering: 0.02128 (51%) | DB: 0.00256 (6%) | 200 OK [http://localhost/referrals/1]


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 00:24:01) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7ADoLdmlzaXRz
IgYx--04492a161975361e35e9982f1da93cc49916fb1e
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;35;1mUser Columns (0.000689)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000044)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mReferral Columns (0.000449)[0m   [0mSHOW FIELDS FROM `referrals`[0m
  [4;36;1mReferral Load (0.000035)[0m   [0;1mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show


ActionView::TemplateError (undefined local variable or method `referal_name' for #<ActionView::Base:0xb677e5f0>) on line #21 of referrals/show.html.erb:
18: 
19: <h3> Code to add a link in a HTML document </h3>
20: 
21: <p><textarea cols="50"><%= link_to referal_name, referral_link  %></textarea></p>
22: 
23: <br/>
24: 

    app/views/referrals/show.html.erb:21:in `_run_erb_47app47views47referrals47show46html46erb'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:35:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:245:in `render_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:1108:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:865:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/base.rb:880:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/layout.rb:251:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/referrals_controller.rb:21:in `show'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:580:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:130:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:389:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:149:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/railties/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /home/mauricio/NetBeansProjects/reeds/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 00:24:12) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoOcmV0dXJuX3RvMDoLdmlzaXRzIgYxIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewAGOgpAdXNl
ZHsA--539ee14a492a7b536bcc82a0d76cb85de3dc98a1
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;35;1mUser Columns (0.000915)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000040)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mReferral Columns (0.000527)[0m   [0mSHOW FIELDS FROM `referrals`[0m
  [4;36;1mReferral Load (0.000034)[0m   [0;1mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;35;1mMenuItem Load (0.000059)[0m   [0mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;36;1mMenuItem Columns (0.000527)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000042)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;36;1mMenuItem Load (0.000034)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000030)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00071)
  [4;36;1mPage Columns (0.000535)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000037)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;36;1mMenuItem Load (0.000032)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.06342)
Rendered menu_items/_menu (0.06986)
Completed in 0.09131 (10 reqs/sec) | Rendering: 0.07213 (78%) | DB: 0.00281 (3%) | 200 OK [http://localhost/referrals/1]


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 00:35:46) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7ADoLdmlzaXRz
IgYx--04492a161975361e35e9982f1da93cc49916fb1e
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;35;1mUser Columns (0.000625)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000046)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mReferral Columns (0.000476)[0m   [0mSHOW FIELDS FROM `referrals`[0m
  [4;36;1mReferral Load (0.000034)[0m   [0;1mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show


ActionView::TemplateError (undefined method `img_tag' for #<ActionView::Base:0xb682ae7c>) on line #25 of referrals/show.html.erb:
22: 
23: <h3> Code to add an image that links to this referral in a HTML document </h3>
24: 
25: <p><textarea cols="50"><%= img_tag( referral_link + ".jpeg" ) %></textarea></p>
26: 
27: <br/>
28: 

    app/views/referrals/show.html.erb:25:in `_run_erb_47app47views47referrals47show46html46erb'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `send'
    vendor/rails/actionpack/lib/action_view/base.rb:338:in `execute'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `send'
    vendor/rails/actionpack/lib/action_view/template_handlers/compilable.rb:29:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:35:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:22:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:245:in `render_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:1108:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:865:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/base.rb:880:in `render_with_no_layout'
    vendor/rails/actionpack/lib/action_controller/layout.rb:251:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/referrals_controller.rb:21:in `show'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:580:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:529:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:130:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:389:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:149:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    vendor/rails/railties/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /home/mauricio/NetBeansProjects/reeds/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing ReferralsController#show (for 127.0.0.1 at 2008-06-06 00:36:05) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoOcmV0dXJuX3RvMDoLdmlzaXRzIgYxIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewAGOgpAdXNl
ZHsA--539ee14a492a7b536bcc82a0d76cb85de3dc98a1
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"referrals"}
  [4;35;1mUser Columns (0.000921)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000073)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mReferral Columns (0.000477)[0m   [0mSHOW FIELDS FROM `referrals`[0m
  [4;36;1mReferral Load (0.000041)[0m   [0;1mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Rendering template within layouts/application
Rendering referrals/show
  [4;35;1mMenuItem Load (0.000073)[0m   [0mSELECT * FROM `menu_items` WHERE (parent_id is null) ORDER BY menu_items.position, menu_items.title[0m
  [4;36;1mMenuItem Columns (0.000506)[0m   [0;1mSHOW FIELDS FROM `menu_items`[0m
  [4;35;1mMenuItem Load (0.000050)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 2) [0m
  [4;36;1mMenuItem Load (0.000043)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 3) [0m
  [4;35;1mMenuItem Load (0.000038)[0m   [0mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 4) [0m
Rendered menu_items/_menu_list (0.00073)
  [4;36;1mPage Columns (0.000460)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.000042)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;36;1mMenuItem Load (0.000038)[0m   [0;1mSELECT * FROM `menu_items` WHERE (`menu_items`.parent_id = 1) [0m
Rendered menu_items/_menu_list (0.01148)
Rendered menu_items/_menu (0.01819)
Completed in 0.04591 (21 reqs/sec) | Rendering: 0.02087 (45%) | DB: 0.00276 (6%) | 200 OK [http://localhost/referrals/1]


Processing ReferralsController#visit (for 127.0.0.1 at 2008-06-06 00:36:17) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7ADoLdmlzaXRz
IgYx--04492a161975361e35e9982f1da93cc49916fb1e
  Parameters: {"format"=>"jpeg", "action"=>"visit", "id"=>"1", "controller"=>"referrals"}
  [4;35;1mUser Columns (0.000635)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000040)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mReferral Columns (0.000481)[0m   [0mSHOW FIELDS FROM `referrals`[0m
  [4;36;1mReferral Load (0.000036)[0m   [0;1mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m


NameError (uninitialized constant Mime::JPEG):
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:275:in `load_missing_constant'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:467:in `const_missing'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:146:in `const_get'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:146:in `method_missing'
    /app/controllers/referrals_controller.rb:102:in `visit'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:106:in `call'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:106:in `respond_to'
    /app/controllers/referrals_controller.rb:100:in `visit'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:580:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:529:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:529:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:130:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:389:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:149:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    /vendor/rails/railties/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /home/mauricio/NetBeansProjects/reeds/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing ReferralsController#visit (for 127.0.0.1 at 2008-06-06 00:37:21) [GET]
  Session ID: BAh7CjoMdXNlcl9pZGkGOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoOcmV0dXJuX3RvMDoLdmlzaXRzIgYxIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewY6CmRlYnVn
IjJVc2VyIGNsaWNrZWQgbW9yZSB0aGFuIG9uY2Ugb24gdGhlIHNhbWUgbGlu
ayAGOgpAdXNlZHsGOwpG--aae24723761eb15d794ed3ffc0ae337d3e20e5d8
  Parameters: {"format"=>"jpeg", "action"=>"visit", "id"=>"1", "controller"=>"referrals"}
  [4;36;1mSQL (0.000066)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000035)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.000799)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000052)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000598)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mReferral Load (0.000040)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Sending data 


TypeError (can't dup Symbol):
    /vendor/rails/actionpack/lib/action_controller/streaming.rb:135:in `dup'
    /vendor/rails/actionpack/lib/action_controller/streaming.rb:135:in `send_file_headers!'
    /vendor/rails/actionpack/lib/action_controller/streaming.rb:123:in `send_data'
    /app/controllers/referrals_controller.rb:103:in `visit'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `call'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:131:in `custom'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `call'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:160:in `respond'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `each'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:154:in `respond'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    /app/controllers/referrals_controller.rb:100:in `visit'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:580:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:529:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:529:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:130:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:389:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:149:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:104:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:502:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:354:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:509:in `require'
    /vendor/rails/railties/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /home/mauricio/NetBeansProjects/reeds/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing ReferralsController#visit (for 127.0.0.1 at 2008-06-06 00:38:03) [GET]
  Session ID: BAh7CjoLdmlzaXRzIgYxOgxjc3JmX2lkIiVmMjkyMTZjNGY0MDMwOTQxNWNm
MDRkN2I5OWI2ZDAyMDoMdXNlcl9pZGkGIgpmbGFzaElDOidBY3Rpb25Db250
cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewY6CmRlYnVnIjJVc2VyIGNsaWNr
ZWQgbW9yZSB0aGFuIG9uY2Ugb24gdGhlIHNhbWUgbGluayAGOgpAdXNlZHsG
OwlGOg5yZXR1cm5fdG8w--08164014e848a5439f350d4630d847e5d10a2f9f
  Parameters: {"format"=>"jpeg", "action"=>"visit", "id"=>"1", "controller"=>"referrals"}
  [4;36;1mUser Columns (0.000618)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000050)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mReferral Columns (0.000461)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mReferral Load (0.000044)[0m   [0mSELECT * FROM `referrals` WHERE (`referrals`.`id` = 1) [0m
Sending data 
Completed in 0.01797 (55 reqs/sec) | Rendering: 0.00016 (0%) | DB: 0.00276 (15%) | 200 OK [http://localhost/referrals/1/visit.jpeg]
  [4;36;1mSQL (0.000114)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000043)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.000244)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000063)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000067)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000154)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000360)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mSQL (0.000290)[0m   [0mdescribe `categories`[0m
  [4;36;1mSQL (0.000144)[0m   [0;1mSHOW KEYS FROM `categories`[0m
  [4;35;1mSQL (0.000397)[0m   [0mSHOW FIELDS FROM `menu_items`[0m
  [4;36;1mSQL (0.000376)[0m   [0;1mdescribe `menu_items`[0m
  [4;35;1mSQL (0.000126)[0m   [0mSHOW KEYS FROM `menu_items`[0m
  [4;36;1mSQL (0.000432)[0m   [0;1mSHOW FIELDS FROM `news_articles`[0m
  [4;35;1mSQL (0.000422)[0m   [0mdescribe `news_articles`[0m
  [4;36;1mSQL (0.000144)[0m   [0;1mSHOW KEYS FROM `news_articles`[0m
  [4;35;1mSQL (0.000344)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mSQL (0.000334)[0m   [0;1mdescribe `pages`[0m
  [4;35;1mSQL (0.000122)[0m   [0mSHOW KEYS FROM `pages`[0m
  [4;36;1mSQL (0.000363)[0m   [0;1mSHOW FIELDS FROM `referrals`[0m
  [4;35;1mSQL (0.000356)[0m   [0mdescribe `referrals`[0m
  [4;36;1mSQL (0.000121)[0m   [0;1mSHOW KEYS FROM `referrals`[0m
  [4;35;1mSQL (0.000430)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000432)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.000169)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.029676)[0m   [0;1mSHOW FIELDS FROM `visits`[0m
  [4;35;1mSQL (0.005086)[0m   [0mdescribe `visits`[0m
  [4;36;1mSQL (0.000310)[0m   [0;1mSHOW KEYS FROM `visits`[0m
  [4;35;1mSQL (0.000049)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.000040)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.010228)[0m   [0mDROP DATABASE IF EXISTS `reeds_test`[0m
  [4;36;1mSQL (0.018932)[0m   [0;1mCREATE DATABASE `reeds_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;35;1mSQL (0.000050)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000138)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.003049)[0m   [0;1mCREATE TABLE `categories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000132)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001801)[0m   [0;1mCREATE TABLE `menu_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255) DEFAULT NULL NULL, `page_id` bigint(11) DEFAULT NULL NULL, `path` varchar(255) DEFAULT NULL NULL, `parent_id` bigint(11) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL, `position` bigint(11) DEFAULT NULL NULL, `depth` bigint(11) DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000133)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001869)[0m   [0;1mCREATE TABLE `news_articles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255) DEFAULT NULL NULL, `author` varchar(255) DEFAULT NULL NULL, `source_url` varchar(255) DEFAULT NULL NULL, `title_permalink` varchar(255) DEFAULT NULL NULL, `text` text DEFAULT NULL NULL, `rendered_text` text DEFAULT NULL NULL, `publish_at` datetime DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL, `category_id` bigint(11) DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.004060)[0m   [0mCREATE UNIQUE INDEX `index_news_articles_on_title_permalink` ON `news_articles` (`title_permalink`)[0m
  [4;36;1mSQL (0.000159)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001996)[0m   [0mCREATE TABLE `pages` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255) DEFAULT NULL NULL, `title_permalink` varchar(255) DEFAULT NULL NULL, `text` text DEFAULT NULL NULL, `rendered_text` text DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000166)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001875)[0m   [0mCREATE TABLE `referrals` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `source` varchar(255) DEFAULT NULL NULL, `description` text DEFAULT NULL NULL, `visits_count` bigint(11) DEFAULT 0 NULL, `redirect_to` varchar(255) DEFAULT '/' NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000173)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001850)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40) DEFAULT NULL NULL, `name` varchar(100) DEFAULT '' NULL, `email` varchar(100) DEFAULT NULL NULL, `crypted_password` varchar(40) DEFAULT NULL NULL, `salt` varchar(40) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL, `remember_token` varchar(40) DEFAULT NULL NULL, `remember_token_expires_at` datetime DEFAULT NULL NULL, `is_admin` tinyint(1) DEFAULT 0 NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.004134)[0m   [0;1mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;35;1mSQL (0.004337)[0m   [0mCREATE UNIQUE INDEX `index_users_on_email` ON `users` (`email`)[0m
  [4;36;1mSQL (0.000190)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001895)[0m   [0mCREATE TABLE `visits` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `referral_id` bigint(11) DEFAULT NULL NULL, `referer` varchar(255) DEFAULT NULL NULL, `remote_ip` varchar(255) DEFAULT NULL NULL, `user_agent` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000175)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.001801)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003478)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.000203)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000166)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (0.000291)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080606024632')[0m
  [4;36;1mSQL (0.000272)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080604130146')[0m
  [4;35;1mSQL (0.000248)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080605205832')[0m
  [4;36;1mSQL (0.000352)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080605205428')[0m
  [4;35;1mSQL (0.000247)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080604024949')[0m
  [4;36;1mSQL (0.000274)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080605020537')[0m
  [4;35;1mSQL (0.000249)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080606021003')[0m
  [4;36;1mSQL (0.000246)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080604170419')[0m
  [4;35;1mSQL (0.000246)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20080604195242')[0m
  [4;36;1mSQL (0.000249)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20080604040527')[0m
